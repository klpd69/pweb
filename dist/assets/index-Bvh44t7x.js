var pp=e=>{throw TypeError(e)};var qu=(e,t,r)=>t.has(e)||pp("Cannot "+r);var z=(e,t,r)=>(qu(e,t,"read from private field"),r?r.call(e):t.get(e)),ye=(e,t,r)=>t.has(e)?pp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),de=(e,t,r,n)=>(qu(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ot=(e,t,r)=>(qu(e,t,"access private method"),r);var ya=(e,t,r,n)=>({set _(o){de(e,t,o,r)},get _(){return z(e,t,n)}});function Fx(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function LD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var tv={exports:{}},nu={},rv={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oa=Symbol.for("react.element"),$x=Symbol.for("react.portal"),Ux=Symbol.for("react.fragment"),zx=Symbol.for("react.strict_mode"),Hx=Symbol.for("react.profiler"),Wx=Symbol.for("react.provider"),qx=Symbol.for("react.context"),Kx=Symbol.for("react.forward_ref"),Gx=Symbol.for("react.suspense"),Ix=Symbol.for("react.memo"),Qx=Symbol.for("react.lazy"),mp=Symbol.iterator;function Jx(e){return e===null||typeof e!="object"?null:(e=mp&&e[mp]||e["@@iterator"],typeof e=="function"?e:null)}var nv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ov=Object.assign,iv={};function ji(e,t,r){this.props=e,this.context=t,this.refs=iv,this.updater=r||nv}ji.prototype.isReactComponent={};ji.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ji.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sv(){}sv.prototype=ji.prototype;function Sf(e,t,r){this.props=e,this.context=t,this.refs=iv,this.updater=r||nv}var Ef=Sf.prototype=new sv;Ef.constructor=Sf;ov(Ef,ji.prototype);Ef.isPureReactComponent=!0;var gp=Array.isArray,av=Object.prototype.hasOwnProperty,Cf={current:null},lv={key:!0,ref:!0,__self:!0,__source:!0};function uv(e,t,r){var n,o={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)av.call(t,n)&&!lv.hasOwnProperty(n)&&(o[n]=t[n]);var a=arguments.length-2;if(a===1)o.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)o[n]===void 0&&(o[n]=a[n]);return{$$typeof:oa,type:e,key:i,ref:s,props:o,_owner:Cf.current}}function Yx(e,t){return{$$typeof:oa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kf(e){return typeof e=="object"&&e!==null&&e.$$typeof===oa}function Xx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var vp=/\/+/g;function Gu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xx(""+e.key):t.toString(36)}function Ja(e,t,r,n,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case oa:case $x:s=!0}}if(s)return s=e,o=o(s),e=n===""?"."+Gu(s,0):n,gp(o)?(r="",e!=null&&(r=e.replace(vp,"$&/")+"/"),Ja(o,t,r,"",function(u){return u})):o!=null&&(kf(o)&&(o=Yx(o,r+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(vp,"$&/")+"/")+e)),t.push(o)),1;if(s=0,n=n===""?".":n+":",gp(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Gu(i,a);s+=Ja(i,t,r,l,o)}else if(l=Jx(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Gu(i,a++),s+=Ja(i,t,r,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function wa(e,t,r){if(e==null)return e;var n=[],o=0;return Ja(e,n,"","",function(i){return t.call(r,i,o++)}),n}function Zx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pt={current:null},Ya={transition:null},eS={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:Ya,ReactCurrentOwner:Cf};function cv(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:wa,forEach:function(e,t,r){wa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return wa(e,function(){t++}),t},toArray:function(e){return wa(e,function(t){return t})||[]},only:function(e){if(!kf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=ji;ge.Fragment=Ux;ge.Profiler=Hx;ge.PureComponent=Sf;ge.StrictMode=zx;ge.Suspense=Gx;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eS;ge.act=cv;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ov({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Cf.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)av.call(t,l)&&!lv.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:oa,type:e.type,key:o,ref:i,props:n,_owner:s}};ge.createContext=function(e){return e={$$typeof:qx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wx,_context:e},e.Consumer=e};ge.createElement=uv;ge.createFactory=function(e){var t=uv.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:Kx,render:e}};ge.isValidElement=kf;ge.lazy=function(e){return{$$typeof:Qx,_payload:{_status:-1,_result:e},_init:Zx}};ge.memo=function(e,t){return{$$typeof:Ix,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Ya.transition;Ya.transition={};try{e()}finally{Ya.transition=t}};ge.unstable_act=cv;ge.useCallback=function(e,t){return pt.current.useCallback(e,t)};ge.useContext=function(e){return pt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return pt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return pt.current.useEffect(e,t)};ge.useId=function(){return pt.current.useId()};ge.useImperativeHandle=function(e,t,r){return pt.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return pt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return pt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return pt.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return pt.current.useReducer(e,t,r)};ge.useRef=function(e){return pt.current.useRef(e)};ge.useState=function(e){return pt.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return pt.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return pt.current.useTransition()};ge.version="18.3.1";rv.exports=ge;var y=rv.exports;const K=xf(y),Tf=Fx({__proto__:null,default:K},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=y,rS=Symbol.for("react.element"),nS=Symbol.for("react.fragment"),oS=Object.prototype.hasOwnProperty,iS=tS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sS={key:!0,ref:!0,__self:!0,__source:!0};function dv(e,t,r){var n,o={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)oS.call(t,n)&&!sS.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:rS,type:e,key:i,ref:s,props:o,_owner:iS.current}}nu.Fragment=nS;nu.jsx=dv;nu.jsxs=dv;tv.exports=nu;var f=tv.exports,fv={exports:{}},jt={},hv={exports:{}},pv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,R){var D=M.length;M.push(R);e:for(;0<D;){var H=D-1>>>1,F=M[H];if(0<o(F,R))M[H]=R,M[D]=F,D=H;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var R=M[0],D=M.pop();if(D!==R){M[0]=D;e:for(var H=0,F=M.length,W=F>>>1;H<W;){var I=2*(H+1)-1,G=M[I],J=I+1,U=M[J];if(0>o(G,D))J<F&&0>o(U,G)?(M[H]=U,M[J]=D,H=J):(M[H]=G,M[I]=D,H=I);else if(J<F&&0>o(U,D))M[H]=U,M[J]=D,H=J;else break e}}return R}function o(M,R){var D=M.sortIndex-R.sortIndex;return D!==0?D:M.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,w=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=M)n(u),R.sortIndex=R.expirationTime,t(l,R);else break;R=r(u)}}function S(M){if(m=!1,b(M),!w)if(r(l)!==null)w=!0,L(T);else{var R=r(u);R!==null&&B(S,R.startTime-M)}}function T(M,R){w=!1,m&&(m=!1,v(V),V=-1),p=!0;var D=h;try{for(b(R),d=r(l);d!==null&&(!(d.expirationTime>R)||M&&!N());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var F=H(d.expirationTime<=R);R=e.unstable_now(),typeof F=="function"?d.callback=F:d===r(l)&&n(l),b(R)}else n(l);d=r(l)}if(d!==null)var W=!0;else{var I=r(u);I!==null&&B(S,I.startTime-R),W=!1}return W}finally{d=null,h=D,p=!1}}var A=!1,O=null,V=-1,x=5,C=-1;function N(){return!(e.unstable_now()-C<x)}function j(){if(O!==null){var M=e.unstable_now();C=M;var R=!0;try{R=O(!0,M)}finally{R?E():(A=!1,O=null)}}else A=!1}var E;if(typeof g=="function")E=function(){g(j)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,P=k.port2;k.port1.onmessage=j,E=function(){P.postMessage(null)}}else E=function(){_(j,0)};function L(M){O=M,A||(A=!0,E())}function B(M,R){V=_(function(){M(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,L(T))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var D=h;h=R;try{return M()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,R){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=h;h=M;try{return R()}finally{h=D}},e.unstable_scheduleCallback=function(M,R,D){var H=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?H+D:H):D=H,M){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=D+F,M={id:c++,callback:R,priorityLevel:M,startTime:D,expirationTime:F,sortIndex:-1},D>H?(M.sortIndex=D,t(u,M),r(l)===null&&M===r(u)&&(m?(v(V),V=-1):m=!0,B(S,D-H))):(M.sortIndex=F,t(l,M),w||p||(w=!0,L(T))),M},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(M){var R=h;return function(){var D=h;h=R;try{return M.apply(this,arguments)}finally{h=D}}}})(pv);hv.exports=pv;var aS=hv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS=y,Mt=aS;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mv=new Set,xs={};function Eo(e,t){Si(e,t),Si(e+"Capture",t)}function Si(e,t){for(xs[e]=t,e=0;e<t.length;e++)mv.add(t[e])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gc=Object.prototype.hasOwnProperty,uS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yp={},wp={};function cS(e){return Gc.call(wp,e)?!0:Gc.call(yp,e)?!1:uS.test(e)?wp[e]=!0:(yp[e]=!0,!1)}function dS(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fS(e,t,r,n){if(t===null||typeof t>"u"||dS(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mt(e,t,r,n,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rf=/[\-:]([a-z])/g;function Pf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rf,Pf);rt[t]=new mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rf,Pf);rt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rf,Pf);rt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new mt(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Af(e,t,r,n){var o=rt.hasOwnProperty(t)?rt[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fS(t,r,o,n)&&(r=null),n||o===null?cS(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Qr=lS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ba=Symbol.for("react.element"),Ko=Symbol.for("react.portal"),Go=Symbol.for("react.fragment"),Nf=Symbol.for("react.strict_mode"),Ic=Symbol.for("react.profiler"),gv=Symbol.for("react.provider"),vv=Symbol.for("react.context"),Of=Symbol.for("react.forward_ref"),Qc=Symbol.for("react.suspense"),Jc=Symbol.for("react.suspense_list"),Lf=Symbol.for("react.memo"),an=Symbol.for("react.lazy"),yv=Symbol.for("react.offscreen"),bp=Symbol.iterator;function Ki(e){return e===null||typeof e!="object"?null:(e=bp&&e[bp]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,Iu;function ns(e){if(Iu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Iu=t&&t[1]||""}return`
`+Iu+e}var Qu=!1;function Ju(e,t){if(!e||Qu)return"";Qu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=n.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Qu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ns(e):""}function hS(e){switch(e.tag){case 5:return ns(e.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 2:case 15:return e=Ju(e.type,!1),e;case 11:return e=Ju(e.type.render,!1),e;case 1:return e=Ju(e.type,!0),e;default:return""}}function Yc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Go:return"Fragment";case Ko:return"Portal";case Ic:return"Profiler";case Nf:return"StrictMode";case Qc:return"Suspense";case Jc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vv:return(e.displayName||"Context")+".Consumer";case gv:return(e._context.displayName||"Context")+".Provider";case Of:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lf:return t=e.displayName||null,t!==null?t:Yc(e.type)||"Memo";case an:t=e._payload,e=e._init;try{return Yc(e(t))}catch{}}return null}function pS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yc(t);case 8:return t===Nf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function On(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mS(e){var t=wv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _a(e){e._valueTracker||(e._valueTracker=mS(e))}function bv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=wv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xc(e,t){var r=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function _p(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=On(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _v(e,t){t=t.checked,t!=null&&Af(e,"checked",t,!1)}function Zc(e,t){_v(e,t);var r=On(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ed(e,t.type,r):t.hasOwnProperty("defaultValue")&&ed(e,t.type,On(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ed(e,t,r){(t!=="number"||pl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var os=Array.isArray;function ii(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+On(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function td(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(q(92));if(os(r)){if(1<r.length)throw Error(q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:On(r)}}function xv(e,t){var r=On(t.value),n=On(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ep(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xa,Ev=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xa=xa||document.createElement("div"),xa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ss(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gS=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(e){gS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cs[t]=cs[e]})});function Cv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||cs.hasOwnProperty(e)&&cs[e]?(""+t).trim():t+"px"}function kv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=Cv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var vS=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nd(e,t){if(t){if(vS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function od(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var id=null;function Mf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sd=null,si=null,ai=null;function Cp(e){if(e=aa(e)){if(typeof sd!="function")throw Error(q(280));var t=e.stateNode;t&&(t=lu(t),sd(e.stateNode,e.type,t))}}function Tv(e){si?ai?ai.push(e):ai=[e]:si=e}function Rv(){if(si){var e=si,t=ai;if(ai=si=null,Cp(e),t)for(e=0;e<t.length;e++)Cp(t[e])}}function Pv(e,t){return e(t)}function Av(){}var Yu=!1;function Nv(e,t,r){if(Yu)return e(t,r);Yu=!0;try{return Pv(e,t,r)}finally{Yu=!1,(si!==null||ai!==null)&&(Av(),Rv())}}function Es(e,t){var r=e.stateNode;if(r===null)return null;var n=lu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(q(231,t,typeof r));return r}var ad=!1;if(Hr)try{var Gi={};Object.defineProperty(Gi,"passive",{get:function(){ad=!0}}),window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{ad=!1}function yS(e,t,r,n,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var ds=!1,ml=null,gl=!1,ld=null,wS={onError:function(e){ds=!0,ml=e}};function bS(e,t,r,n,o,i,s,a,l){ds=!1,ml=null,yS.apply(wS,arguments)}function _S(e,t,r,n,o,i,s,a,l){if(bS.apply(this,arguments),ds){if(ds){var u=ml;ds=!1,ml=null}else throw Error(q(198));gl||(gl=!0,ld=u)}}function Co(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ov(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kp(e){if(Co(e)!==e)throw Error(q(188))}function xS(e){var t=e.alternate;if(!t){if(t=Co(e),t===null)throw Error(q(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var i=o.alternate;if(i===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return kp(o),e;if(i===n)return kp(o),t;i=i.sibling}throw Error(q(188))}if(r.return!==n.return)r=o,n=i;else{for(var s=!1,a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?e:t}function Lv(e){return e=xS(e),e!==null?Mv(e):null}function Mv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mv(e);if(t!==null)return t;e=e.sibling}return null}var jv=Mt.unstable_scheduleCallback,Tp=Mt.unstable_cancelCallback,SS=Mt.unstable_shouldYield,ES=Mt.unstable_requestPaint,Fe=Mt.unstable_now,CS=Mt.unstable_getCurrentPriorityLevel,jf=Mt.unstable_ImmediatePriority,Dv=Mt.unstable_UserBlockingPriority,vl=Mt.unstable_NormalPriority,kS=Mt.unstable_LowPriority,Vv=Mt.unstable_IdlePriority,ou=null,Cr=null;function TS(e){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(ou,e,void 0,(e.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:AS,RS=Math.log,PS=Math.LN2;function AS(e){return e>>>=0,e===0?32:31-(RS(e)/PS|0)|0}var Sa=64,Ea=4194304;function is(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~o;a!==0?n=is(a):(i&=s,i!==0&&(n=is(i)))}else s=r&~o,s!==0?n=is(s):i!==0&&(n=is(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ur(t),o=1<<r,n|=e[r],t&=~o;return n}function NS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OS(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-ur(i),a=1<<s,l=o[s];l===-1?(!(a&r)||a&n)&&(o[s]=NS(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function ud(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bv(){var e=Sa;return Sa<<=1,!(Sa&4194240)&&(Sa=64),e}function Xu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ia(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ur(t),e[t]=r}function LS(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-ur(r),i=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~i}}function Df(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ur(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var _e=0;function Fv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $v,Vf,Uv,zv,Hv,cd=!1,Ca=[],_n=null,xn=null,Sn=null,Cs=new Map,ks=new Map,cn=[],MS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rp(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":Cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(t.pointerId)}}function Ii(e,t,r,n,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},t!==null&&(t=aa(t),t!==null&&Vf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function jS(e,t,r,n,o){switch(t){case"focusin":return _n=Ii(_n,e,t,r,n,o),!0;case"dragenter":return xn=Ii(xn,e,t,r,n,o),!0;case"mouseover":return Sn=Ii(Sn,e,t,r,n,o),!0;case"pointerover":var i=o.pointerId;return Cs.set(i,Ii(Cs.get(i)||null,e,t,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,ks.set(i,Ii(ks.get(i)||null,e,t,r,n,o)),!0}return!1}function Wv(e){var t=to(e.target);if(t!==null){var r=Co(t);if(r!==null){if(t=r.tag,t===13){if(t=Ov(r),t!==null){e.blockedOn=t,Hv(e.priority,function(){Uv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=dd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);id=n,r.target.dispatchEvent(n),id=null}else return t=aa(r),t!==null&&Vf(t),e.blockedOn=r,!1;t.shift()}return!0}function Pp(e,t,r){Xa(e)&&r.delete(t)}function DS(){cd=!1,_n!==null&&Xa(_n)&&(_n=null),xn!==null&&Xa(xn)&&(xn=null),Sn!==null&&Xa(Sn)&&(Sn=null),Cs.forEach(Pp),ks.forEach(Pp)}function Qi(e,t){e.blockedOn===t&&(e.blockedOn=null,cd||(cd=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,DS)))}function Ts(e){function t(o){return Qi(o,e)}if(0<Ca.length){Qi(Ca[0],e);for(var r=1;r<Ca.length;r++){var n=Ca[r];n.blockedOn===e&&(n.blockedOn=null)}}for(_n!==null&&Qi(_n,e),xn!==null&&Qi(xn,e),Sn!==null&&Qi(Sn,e),Cs.forEach(t),ks.forEach(t),r=0;r<cn.length;r++)n=cn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<cn.length&&(r=cn[0],r.blockedOn===null);)Wv(r),r.blockedOn===null&&cn.shift()}var li=Qr.ReactCurrentBatchConfig,wl=!0;function VS(e,t,r,n){var o=_e,i=li.transition;li.transition=null;try{_e=1,Bf(e,t,r,n)}finally{_e=o,li.transition=i}}function BS(e,t,r,n){var o=_e,i=li.transition;li.transition=null;try{_e=4,Bf(e,t,r,n)}finally{_e=o,li.transition=i}}function Bf(e,t,r,n){if(wl){var o=dd(e,t,r,n);if(o===null)lc(e,t,n,bl,r),Rp(e,n);else if(jS(o,e,t,r,n))n.stopPropagation();else if(Rp(e,n),t&4&&-1<MS.indexOf(e)){for(;o!==null;){var i=aa(o);if(i!==null&&$v(i),i=dd(e,t,r,n),i===null&&lc(e,t,n,bl,r),i===o)break;o=i}o!==null&&n.stopPropagation()}else lc(e,t,n,null,r)}}var bl=null;function dd(e,t,r,n){if(bl=null,e=Mf(n),e=to(e),e!==null)if(t=Co(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ov(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bl=e,null}function qv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CS()){case jf:return 1;case Dv:return 4;case vl:case kS:return 16;case Vv:return 536870912;default:return 16}default:return 16}}var yn=null,Ff=null,Za=null;function Kv(){if(Za)return Za;var e,t=Ff,r=t.length,n,o="value"in yn?yn.value:yn.textContent,i=o.length;for(e=0;e<r&&t[e]===o[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===o[i-n];n++);return Za=o.slice(e,1<n?1-n:void 0)}function el(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ka(){return!0}function Ap(){return!1}function Dt(e){function t(r,n,o,i,s){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ka:Ap,this.isPropagationStopped=Ap,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),t}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$f=Dt(Di),sa=Me({},Di,{view:0,detail:0}),FS=Dt(sa),Zu,ec,Ji,iu=Me({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ji&&(Ji&&e.type==="mousemove"?(Zu=e.screenX-Ji.screenX,ec=e.screenY-Ji.screenY):ec=Zu=0,Ji=e),Zu)},movementY:function(e){return"movementY"in e?e.movementY:ec}}),Np=Dt(iu),$S=Me({},iu,{dataTransfer:0}),US=Dt($S),zS=Me({},sa,{relatedTarget:0}),tc=Dt(zS),HS=Me({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),WS=Dt(HS),qS=Me({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KS=Dt(qS),GS=Me({},Di,{data:0}),Op=Dt(GS),IS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=JS[e])?!!t[e]:!1}function Uf(){return YS}var XS=Me({},sa,{key:function(e){if(e.key){var t=IS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=el(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uf,charCode:function(e){return e.type==="keypress"?el(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?el(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZS=Dt(XS),eE=Me({},iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lp=Dt(eE),tE=Me({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uf}),rE=Dt(tE),nE=Me({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),oE=Dt(nE),iE=Me({},iu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sE=Dt(iE),aE=[9,13,27,32],zf=Hr&&"CompositionEvent"in window,fs=null;Hr&&"documentMode"in document&&(fs=document.documentMode);var lE=Hr&&"TextEvent"in window&&!fs,Gv=Hr&&(!zf||fs&&8<fs&&11>=fs),Mp=" ",jp=!1;function Iv(e,t){switch(e){case"keyup":return aE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Io=!1;function uE(e,t){switch(e){case"compositionend":return Qv(t);case"keypress":return t.which!==32?null:(jp=!0,Mp);case"textInput":return e=t.data,e===Mp&&jp?null:e;default:return null}}function cE(e,t){if(Io)return e==="compositionend"||!zf&&Iv(e,t)?(e=Kv(),Za=Ff=yn=null,Io=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gv&&t.locale!=="ko"?null:t.data;default:return null}}var dE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dE[e.type]:t==="textarea"}function Jv(e,t,r,n){Tv(n),t=_l(t,"onChange"),0<t.length&&(r=new $f("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var hs=null,Rs=null;function fE(e){ay(e,0)}function su(e){var t=Yo(e);if(bv(t))return e}function hE(e,t){if(e==="change")return t}var Yv=!1;if(Hr){var rc;if(Hr){var nc="oninput"in document;if(!nc){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),nc=typeof Vp.oninput=="function"}rc=nc}else rc=!1;Yv=rc&&(!document.documentMode||9<document.documentMode)}function Bp(){hs&&(hs.detachEvent("onpropertychange",Xv),Rs=hs=null)}function Xv(e){if(e.propertyName==="value"&&su(Rs)){var t=[];Jv(t,Rs,e,Mf(e)),Nv(fE,t)}}function pE(e,t,r){e==="focusin"?(Bp(),hs=t,Rs=r,hs.attachEvent("onpropertychange",Xv)):e==="focusout"&&Bp()}function mE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return su(Rs)}function gE(e,t){if(e==="click")return su(t)}function vE(e,t){if(e==="input"||e==="change")return su(t)}function yE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dr=typeof Object.is=="function"?Object.is:yE;function Ps(e,t){if(dr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!Gc.call(t,o)||!dr(e[o],t[o]))return!1}return!0}function Fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $p(e,t){var r=Fp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fp(r)}}function Zv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ey(){for(var e=window,t=pl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=pl(e.document)}return t}function Hf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wE(e){var t=ey(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Zv(r.ownerDocument.documentElement,r)){if(n!==null&&Hf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=n.end===void 0?i:Math.min(n.end,o),!e.extend&&i>n&&(o=n,n=i,i=o),o=$p(r,i);var s=$p(r,n);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bE=Hr&&"documentMode"in document&&11>=document.documentMode,Qo=null,fd=null,ps=null,hd=!1;function Up(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hd||Qo==null||Qo!==pl(n)||(n=Qo,"selectionStart"in n&&Hf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ps&&Ps(ps,n)||(ps=n,n=_l(fd,"onSelect"),0<n.length&&(t=new $f("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Qo)))}function Ta(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Jo={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionend:Ta("Transition","TransitionEnd")},oc={},ty={};Hr&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function au(e){if(oc[e])return oc[e];if(!Jo[e])return e;var t=Jo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ty)return oc[e]=t[r];return e}var ry=au("animationend"),ny=au("animationiteration"),oy=au("animationstart"),iy=au("transitionend"),sy=new Map,zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(e,t){sy.set(e,t),Eo(t,[e])}for(var ic=0;ic<zp.length;ic++){var sc=zp[ic],_E=sc.toLowerCase(),xE=sc[0].toUpperCase()+sc.slice(1);Dn(_E,"on"+xE)}Dn(ry,"onAnimationEnd");Dn(ny,"onAnimationIteration");Dn(oy,"onAnimationStart");Dn("dblclick","onDoubleClick");Dn("focusin","onFocus");Dn("focusout","onBlur");Dn(iy,"onTransitionEnd");Si("onMouseEnter",["mouseout","mouseover"]);Si("onMouseLeave",["mouseout","mouseover"]);Si("onPointerEnter",["pointerout","pointerover"]);Si("onPointerLeave",["pointerout","pointerover"]);Eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function Hp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_S(n,t,void 0,e),e.currentTarget=null}function ay(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Hp(o,a,u),i=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Hp(o,a,u),i=l}}}if(gl)throw e=ld,gl=!1,ld=null,e}function Te(e,t){var r=t[yd];r===void 0&&(r=t[yd]=new Set);var n=e+"__bubble";r.has(n)||(ly(t,e,2,!1),r.add(n))}function ac(e,t,r){var n=0;t&&(n|=4),ly(r,e,n,t)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function As(e){if(!e[Ra]){e[Ra]=!0,mv.forEach(function(r){r!=="selectionchange"&&(SE.has(r)||ac(r,!1,e),ac(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ra]||(t[Ra]=!0,ac("selectionchange",!1,t))}}function ly(e,t,r,n){switch(qv(t)){case 1:var o=VS;break;case 4:o=BS;break;default:o=Bf}r=o.bind(null,t,r,e),o=void 0,!ad||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function lc(e,t,r,n,o){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=to(a),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}a=a.parentNode}}n=n.return}Nv(function(){var u=i,c=Mf(r),d=[];e:{var h=sy.get(e);if(h!==void 0){var p=$f,w=e;switch(e){case"keypress":if(el(r)===0)break e;case"keydown":case"keyup":p=ZS;break;case"focusin":w="focus",p=tc;break;case"focusout":w="blur",p=tc;break;case"beforeblur":case"afterblur":p=tc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Np;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=US;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=rE;break;case ry:case ny:case oy:p=WS;break;case iy:p=oE;break;case"scroll":p=FS;break;case"wheel":p=sE;break;case"copy":case"cut":case"paste":p=KS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Lp}var m=(t&4)!==0,_=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var g=u,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=Es(g,v),S!=null&&m.push(Ns(g,S,b)))),_)break;g=g.return}0<m.length&&(h=new p(h,w,null,r,c),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==id&&(w=r.relatedTarget||r.fromElement)&&(to(w)||w[Wr]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=u,w=w?to(w):null,w!==null&&(_=Co(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(m=Np,S="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=Lp,S="onPointerLeave",v="onPointerEnter",g="pointer"),_=p==null?h:Yo(p),b=w==null?h:Yo(w),h=new m(S,g+"leave",p,r,c),h.target=_,h.relatedTarget=b,S=null,to(c)===u&&(m=new m(v,g+"enter",w,r,c),m.target=b,m.relatedTarget=_,S=m),_=S,p&&w)t:{for(m=p,v=w,g=0,b=m;b;b=Lo(b))g++;for(b=0,S=v;S;S=Lo(S))b++;for(;0<g-b;)m=Lo(m),g--;for(;0<b-g;)v=Lo(v),b--;for(;g--;){if(m===v||v!==null&&m===v.alternate)break t;m=Lo(m),v=Lo(v)}m=null}else m=null;p!==null&&Wp(d,h,p,m,!1),w!==null&&_!==null&&Wp(d,_,w,m,!0)}}e:{if(h=u?Yo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=hE;else if(Dp(h))if(Yv)T=vE;else{T=mE;var A=pE}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=gE);if(T&&(T=T(e,u))){Jv(d,T,r,c);break e}A&&A(e,h,u),e==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&ed(h,"number",h.value)}switch(A=u?Yo(u):window,e){case"focusin":(Dp(A)||A.contentEditable==="true")&&(Qo=A,fd=u,ps=null);break;case"focusout":ps=fd=Qo=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,Up(d,r,c);break;case"selectionchange":if(bE)break;case"keydown":case"keyup":Up(d,r,c)}var O;if(zf)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Io?Iv(e,r)&&(V="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(V="onCompositionStart");V&&(Gv&&r.locale!=="ko"&&(Io||V!=="onCompositionStart"?V==="onCompositionEnd"&&Io&&(O=Kv()):(yn=c,Ff="value"in yn?yn.value:yn.textContent,Io=!0)),A=_l(u,V),0<A.length&&(V=new Op(V,e,null,r,c),d.push({event:V,listeners:A}),O?V.data=O:(O=Qv(r),O!==null&&(V.data=O)))),(O=lE?uE(e,r):cE(e,r))&&(u=_l(u,"onBeforeInput"),0<u.length&&(c=new Op("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=O))}ay(d,t)})}function Ns(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _l(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Es(e,r),i!=null&&n.unshift(Ns(e,i,o)),i=Es(e,t),i!=null&&n.push(Ns(e,i,o))),e=e.return}return n}function Lo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wp(e,t,r,n,o){for(var i=t._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,o?(l=Es(r,i),l!=null&&s.unshift(Ns(r,l,a))):o||(l=Es(r,i),l!=null&&s.push(Ns(r,l,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var EE=/\r\n?/g,CE=/\u0000|\uFFFD/g;function qp(e){return(typeof e=="string"?e:""+e).replace(EE,`
`).replace(CE,"")}function Pa(e,t,r){if(t=qp(t),qp(e)!==t&&r)throw Error(q(425))}function xl(){}var pd=null,md=null;function gd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vd=typeof setTimeout=="function"?setTimeout:void 0,kE=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,TE=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(e){return Kp.resolve(null).then(e).catch(RE)}:vd;function RE(e){setTimeout(function(){throw e})}function uc(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Ts(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Ts(t)}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),_r="__reactFiber$"+Vi,Os="__reactProps$"+Vi,Wr="__reactContainer$"+Vi,yd="__reactEvents$"+Vi,PE="__reactListeners$"+Vi,AE="__reactHandles$"+Vi;function to(e){var t=e[_r];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wr]||r[_r]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gp(e);e!==null;){if(r=e[_r])return r;e=Gp(e)}return t}e=r,r=e.parentNode}return null}function aa(e){return e=e[_r]||e[Wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function lu(e){return e[Os]||null}var wd=[],Xo=-1;function Vn(e){return{current:e}}function Re(e){0>Xo||(e.current=wd[Xo],wd[Xo]=null,Xo--)}function Ce(e,t){Xo++,wd[Xo]=e.current,e.current=t}var Ln={},ut=Vn(Ln),xt=Vn(!1),po=Ln;function Ei(e,t){var r=e.type.contextTypes;if(!r)return Ln;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in r)o[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function St(e){return e=e.childContextTypes,e!=null}function Sl(){Re(xt),Re(ut)}function Ip(e,t,r){if(ut.current!==Ln)throw Error(q(168));Ce(ut,t),Ce(xt,r)}function uy(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(q(108,pS(e)||"Unknown",o));return Me({},r,n)}function El(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,po=ut.current,Ce(ut,e),Ce(xt,xt.current),!0}function Qp(e,t,r){var n=e.stateNode;if(!n)throw Error(q(169));r?(e=uy(e,t,po),n.__reactInternalMemoizedMergedChildContext=e,Re(xt),Re(ut),Ce(ut,e)):Re(xt),Ce(xt,r)}var Br=null,uu=!1,cc=!1;function cy(e){Br===null?Br=[e]:Br.push(e)}function NE(e){uu=!0,cy(e)}function Bn(){if(!cc&&Br!==null){cc=!0;var e=0,t=_e;try{var r=Br;for(_e=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Br=null,uu=!1}catch(o){throw Br!==null&&(Br=Br.slice(e+1)),jv(jf,Bn),o}finally{_e=t,cc=!1}}return null}var Zo=[],ei=0,Cl=null,kl=0,Ft=[],$t=0,mo=null,$r=1,Ur="";function Jn(e,t){Zo[ei++]=kl,Zo[ei++]=Cl,Cl=e,kl=t}function dy(e,t,r){Ft[$t++]=$r,Ft[$t++]=Ur,Ft[$t++]=mo,mo=e;var n=$r;e=Ur;var o=32-ur(n)-1;n&=~(1<<o),r+=1;var i=32-ur(t)+o;if(30<i){var s=o-o%5;i=(n&(1<<s)-1).toString(32),n>>=s,o-=s,$r=1<<32-ur(t)+o|r<<o|n,Ur=i+e}else $r=1<<i|r<<o|n,Ur=e}function Wf(e){e.return!==null&&(Jn(e,1),dy(e,1,0))}function qf(e){for(;e===Cl;)Cl=Zo[--ei],Zo[ei]=null,kl=Zo[--ei],Zo[ei]=null;for(;e===mo;)mo=Ft[--$t],Ft[$t]=null,Ur=Ft[--$t],Ft[$t]=null,$r=Ft[--$t],Ft[$t]=null}var Ot=null,Nt=null,Ae=!1,lr=null;function fy(e,t){var r=Ut(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Jp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,Nt=En(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mo!==null?{id:$r,overflow:Ur}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ut(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ot=e,Nt=null,!0):!1;default:return!1}}function bd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _d(e){if(Ae){var t=Nt;if(t){var r=t;if(!Jp(e,t)){if(bd(e))throw Error(q(418));t=En(r.nextSibling);var n=Ot;t&&Jp(e,t)?fy(n,r):(e.flags=e.flags&-4097|2,Ae=!1,Ot=e)}}else{if(bd(e))throw Error(q(418));e.flags=e.flags&-4097|2,Ae=!1,Ot=e}}}function Yp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function Aa(e){if(e!==Ot)return!1;if(!Ae)return Yp(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gd(e.type,e.memoizedProps)),t&&(t=Nt)){if(bd(e))throw hy(),Error(q(418));for(;t;)fy(e,t),t=En(t.nextSibling)}if(Yp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Nt=En(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=Ot?En(e.stateNode.nextSibling):null;return!0}function hy(){for(var e=Nt;e;)e=En(e.nextSibling)}function Ci(){Nt=Ot=null,Ae=!1}function Kf(e){lr===null?lr=[e]:lr.push(e)}var OE=Qr.ReactCurrentBatchConfig;function Yi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,e));var o=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,e))}return e}function Na(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xp(e){var t=e._init;return t(e._payload)}function py(e){function t(v,g){if(e){var b=v.deletions;b===null?(v.deletions=[g],v.flags|=16):b.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function o(v,g){return v=Rn(v,g),v.index=0,v.sibling=null,v}function i(v,g,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<g?(v.flags|=2,g):b):(v.flags|=2,g)):(v.flags|=1048576,g)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,g,b,S){return g===null||g.tag!==6?(g=vc(b,v.mode,S),g.return=v,g):(g=o(g,b),g.return=v,g)}function l(v,g,b,S){var T=b.type;return T===Go?c(v,g,b.props.children,S,b.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===an&&Xp(T)===g.type)?(S=o(g,b.props),S.ref=Yi(v,g,b),S.return=v,S):(S=al(b.type,b.key,b.props,null,v.mode,S),S.ref=Yi(v,g,b),S.return=v,S)}function u(v,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=yc(b,v.mode,S),g.return=v,g):(g=o(g,b.children||[]),g.return=v,g)}function c(v,g,b,S,T){return g===null||g.tag!==7?(g=ho(b,v.mode,S,T),g.return=v,g):(g=o(g,b),g.return=v,g)}function d(v,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=vc(""+g,v.mode,b),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ba:return b=al(g.type,g.key,g.props,null,v.mode,b),b.ref=Yi(v,null,g),b.return=v,b;case Ko:return g=yc(g,v.mode,b),g.return=v,g;case an:var S=g._init;return d(v,S(g._payload),b)}if(os(g)||Ki(g))return g=ho(g,v.mode,b,null),g.return=v,g;Na(v,g)}return null}function h(v,g,b,S){var T=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return T!==null?null:a(v,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ba:return b.key===T?l(v,g,b,S):null;case Ko:return b.key===T?u(v,g,b,S):null;case an:return T=b._init,h(v,g,T(b._payload),S)}if(os(b)||Ki(b))return T!==null?null:c(v,g,b,S,null);Na(v,b)}return null}function p(v,g,b,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,a(g,v,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ba:return v=v.get(S.key===null?b:S.key)||null,l(g,v,S,T);case Ko:return v=v.get(S.key===null?b:S.key)||null,u(g,v,S,T);case an:var A=S._init;return p(v,g,b,A(S._payload),T)}if(os(S)||Ki(S))return v=v.get(b)||null,c(g,v,S,T,null);Na(g,S)}return null}function w(v,g,b,S){for(var T=null,A=null,O=g,V=g=0,x=null;O!==null&&V<b.length;V++){O.index>V?(x=O,O=null):x=O.sibling;var C=h(v,O,b[V],S);if(C===null){O===null&&(O=x);break}e&&O&&C.alternate===null&&t(v,O),g=i(C,g,V),A===null?T=C:A.sibling=C,A=C,O=x}if(V===b.length)return r(v,O),Ae&&Jn(v,V),T;if(O===null){for(;V<b.length;V++)O=d(v,b[V],S),O!==null&&(g=i(O,g,V),A===null?T=O:A.sibling=O,A=O);return Ae&&Jn(v,V),T}for(O=n(v,O);V<b.length;V++)x=p(O,v,V,b[V],S),x!==null&&(e&&x.alternate!==null&&O.delete(x.key===null?V:x.key),g=i(x,g,V),A===null?T=x:A.sibling=x,A=x);return e&&O.forEach(function(N){return t(v,N)}),Ae&&Jn(v,V),T}function m(v,g,b,S){var T=Ki(b);if(typeof T!="function")throw Error(q(150));if(b=T.call(b),b==null)throw Error(q(151));for(var A=T=null,O=g,V=g=0,x=null,C=b.next();O!==null&&!C.done;V++,C=b.next()){O.index>V?(x=O,O=null):x=O.sibling;var N=h(v,O,C.value,S);if(N===null){O===null&&(O=x);break}e&&O&&N.alternate===null&&t(v,O),g=i(N,g,V),A===null?T=N:A.sibling=N,A=N,O=x}if(C.done)return r(v,O),Ae&&Jn(v,V),T;if(O===null){for(;!C.done;V++,C=b.next())C=d(v,C.value,S),C!==null&&(g=i(C,g,V),A===null?T=C:A.sibling=C,A=C);return Ae&&Jn(v,V),T}for(O=n(v,O);!C.done;V++,C=b.next())C=p(O,v,V,C.value,S),C!==null&&(e&&C.alternate!==null&&O.delete(C.key===null?V:C.key),g=i(C,g,V),A===null?T=C:A.sibling=C,A=C);return e&&O.forEach(function(j){return t(v,j)}),Ae&&Jn(v,V),T}function _(v,g,b,S){if(typeof b=="object"&&b!==null&&b.type===Go&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ba:e:{for(var T=b.key,A=g;A!==null;){if(A.key===T){if(T=b.type,T===Go){if(A.tag===7){r(v,A.sibling),g=o(A,b.props.children),g.return=v,v=g;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===an&&Xp(T)===A.type){r(v,A.sibling),g=o(A,b.props),g.ref=Yi(v,A,b),g.return=v,v=g;break e}r(v,A);break}else t(v,A);A=A.sibling}b.type===Go?(g=ho(b.props.children,v.mode,S,b.key),g.return=v,v=g):(S=al(b.type,b.key,b.props,null,v.mode,S),S.ref=Yi(v,g,b),S.return=v,v=S)}return s(v);case Ko:e:{for(A=b.key;g!==null;){if(g.key===A)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(v,g.sibling),g=o(g,b.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=yc(b,v.mode,S),g.return=v,v=g}return s(v);case an:return A=b._init,_(v,g,A(b._payload),S)}if(os(b))return w(v,g,b,S);if(Ki(b))return m(v,g,b,S);Na(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(v,g.sibling),g=o(g,b),g.return=v,v=g):(r(v,g),g=vc(b,v.mode,S),g.return=v,v=g),s(v)):r(v,g)}return _}var ki=py(!0),my=py(!1),Tl=Vn(null),Rl=null,ti=null,Gf=null;function If(){Gf=ti=Rl=null}function Qf(e){var t=Tl.current;Re(Tl),e._currentValue=t}function xd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ui(e,t){Rl=e,Gf=ti=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_t=!0),e.firstContext=null)}function Wt(e){var t=e._currentValue;if(Gf!==e)if(e={context:e,memoizedValue:t,next:null},ti===null){if(Rl===null)throw Error(q(308));ti=e,Rl.dependencies={lanes:0,firstContext:e}}else ti=ti.next=e;return t}var ro=null;function Jf(e){ro===null?ro=[e]:ro.push(e)}function gy(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,Jf(t)):(r.next=o.next,o.next=r),t.interleaved=r,qr(e,n)}function qr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ln=!1;function Yf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ve&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,qr(e,r)}return o=n.interleaved,o===null?(t.next=t,Jf(n)):(t.next=o.next,o.next=t),n.interleaved=t,qr(e,r)}function tl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Df(e,r)}}function Zp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?o=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?o=i=t:i=i.next=t}else o=i=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Pl(e,t,r,n){var o=e.updateQueue;ln=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;s=0,c=u=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,m=a;switch(h=t,p=r,m.tag){case 1:if(w=m.payload,typeof w=="function"){d=w.call(p,d,h);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=m.payload,h=typeof w=="function"?w.call(p,d,h):w,h==null)break e;d=Me({},d,h);break e;case 2:ln=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(c===null&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);vo|=s,e.lanes=s,e.memoizedState=d}}function em(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(q(191,o));o.call(n)}}}var la={},kr=Vn(la),Ls=Vn(la),Ms=Vn(la);function no(e){if(e===la)throw Error(q(174));return e}function Xf(e,t){switch(Ce(Ms,t),Ce(Ls,e),Ce(kr,la),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rd(t,e)}Re(kr),Ce(kr,t)}function Ti(){Re(kr),Re(Ls),Re(Ms)}function yy(e){no(Ms.current);var t=no(kr.current),r=rd(t,e.type);t!==r&&(Ce(Ls,e),Ce(kr,r))}function Zf(e){Ls.current===e&&(Re(kr),Re(Ls))}var Oe=Vn(0);function Al(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dc=[];function eh(){for(var e=0;e<dc.length;e++)dc[e]._workInProgressVersionPrimary=null;dc.length=0}var rl=Qr.ReactCurrentDispatcher,fc=Qr.ReactCurrentBatchConfig,go=0,Le=null,Ie=null,Je=null,Nl=!1,ms=!1,js=0,LE=0;function it(){throw Error(q(321))}function th(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dr(e[r],t[r]))return!1;return!0}function rh(e,t,r,n,o,i){if(go=i,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rl.current=e===null||e.memoizedState===null?VE:BE,e=r(n,o),ms){i=0;do{if(ms=!1,js=0,25<=i)throw Error(q(301));i+=1,Je=Ie=null,t.updateQueue=null,rl.current=FE,e=r(n,o)}while(ms)}if(rl.current=Ol,t=Ie!==null&&Ie.next!==null,go=0,Je=Ie=Le=null,Nl=!1,t)throw Error(q(300));return e}function nh(){var e=js!==0;return js=0,e}function gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Le.memoizedState=Je=e:Je=Je.next=e,Je}function qt(){if(Ie===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Je===null?Le.memoizedState:Je.next;if(t!==null)Je=t,Ie=e;else{if(e===null)throw Error(q(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Je===null?Le.memoizedState=Je=e:Je=Je.next=e}return Je}function Ds(e,t){return typeof t=="function"?t(e):t}function hc(e){var t=qt(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=Ie,o=n.baseQueue,i=r.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}n.baseQueue=o=i,r.pending=null}if(o!==null){i=o.next,n=n.baseState;var a=s=null,l=null,u=i;do{var c=u.lane;if((go&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=n):l=l.next=d,Le.lanes|=c,vo|=c}u=u.next}while(u!==null&&u!==i);l===null?s=n:l.next=a,dr(n,t.memoizedState)||(_t=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do i=o.lane,Le.lanes|=i,vo|=i,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function pc(e){var t=qt(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(o!==null){r.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);dr(i,t.memoizedState)||(_t=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function wy(){}function by(e,t){var r=Le,n=qt(),o=t(),i=!dr(n.memoizedState,o);if(i&&(n.memoizedState=o,_t=!0),n=n.queue,oh(Sy.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,Vs(9,xy.bind(null,r,n,o,t),void 0,null),Ye===null)throw Error(q(349));go&30||_y(r,t,o)}return o}function _y(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function xy(e,t,r,n){t.value=r,t.getSnapshot=n,Ey(t)&&Cy(e)}function Sy(e,t,r){return r(function(){Ey(t)&&Cy(e)})}function Ey(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dr(e,r)}catch{return!0}}function Cy(e){var t=qr(e,1);t!==null&&cr(t,e,1,-1)}function tm(e){var t=gr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:e},t.queue=e,e=e.dispatch=DE.bind(null,Le,e),[t.memoizedState,e]}function Vs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ky(){return qt().memoizedState}function nl(e,t,r,n){var o=gr();Le.flags|=e,o.memoizedState=Vs(1|t,r,void 0,n===void 0?null:n)}function cu(e,t,r,n){var o=qt();n=n===void 0?null:n;var i=void 0;if(Ie!==null){var s=Ie.memoizedState;if(i=s.destroy,n!==null&&th(n,s.deps)){o.memoizedState=Vs(t,r,i,n);return}}Le.flags|=e,o.memoizedState=Vs(1|t,r,i,n)}function rm(e,t){return nl(8390656,8,e,t)}function oh(e,t){return cu(2048,8,e,t)}function Ty(e,t){return cu(4,2,e,t)}function Ry(e,t){return cu(4,4,e,t)}function Py(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ay(e,t,r){return r=r!=null?r.concat([e]):null,cu(4,4,Py.bind(null,t,e),r)}function ih(){}function Ny(e,t){var r=qt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&th(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Oy(e,t){var r=qt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&th(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ly(e,t,r){return go&21?(dr(r,t)||(r=Bv(),Le.lanes|=r,vo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=r)}function ME(e,t){var r=_e;_e=r!==0&&4>r?r:4,e(!0);var n=fc.transition;fc.transition={};try{e(!1),t()}finally{_e=r,fc.transition=n}}function My(){return qt().memoizedState}function jE(e,t,r){var n=Tn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jy(e))Dy(t,r);else if(r=gy(e,t,r,n),r!==null){var o=ht();cr(r,e,n,o),Vy(r,t,n)}}function DE(e,t,r){var n=Tn(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jy(e))Dy(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,r);if(o.hasEagerState=!0,o.eagerState=a,dr(a,s)){var l=t.interleaved;l===null?(o.next=o,Jf(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}r=gy(e,t,o,n),r!==null&&(o=ht(),cr(r,e,n,o),Vy(r,t,n))}}function jy(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Dy(e,t){ms=Nl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Vy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Df(e,r)}}var Ol={readContext:Wt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},VE={readContext:Wt,useCallback:function(e,t){return gr().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:rm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,nl(4194308,4,Py.bind(null,t,e),r)},useLayoutEffect:function(e,t){return nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return nl(4,2,e,t)},useMemo:function(e,t){var r=gr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=gr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=jE.bind(null,Le,e),[n.memoizedState,e]},useRef:function(e){var t=gr();return e={current:e},t.memoizedState=e},useState:tm,useDebugValue:ih,useDeferredValue:function(e){return gr().memoizedState=e},useTransition:function(){var e=tm(!1),t=e[0];return e=ME.bind(null,e[1]),gr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Le,o=gr();if(Ae){if(r===void 0)throw Error(q(407));r=r()}else{if(r=t(),Ye===null)throw Error(q(349));go&30||_y(n,t,r)}o.memoizedState=r;var i={value:r,getSnapshot:t};return o.queue=i,rm(Sy.bind(null,n,i,e),[e]),n.flags|=2048,Vs(9,xy.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=gr(),t=Ye.identifierPrefix;if(Ae){var r=Ur,n=$r;r=(n&~(1<<32-ur(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=js++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=LE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},BE={readContext:Wt,useCallback:Ny,useContext:Wt,useEffect:oh,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:Ry,useMemo:Oy,useReducer:hc,useRef:ky,useState:function(){return hc(Ds)},useDebugValue:ih,useDeferredValue:function(e){var t=qt();return Ly(t,Ie.memoizedState,e)},useTransition:function(){var e=hc(Ds)[0],t=qt().memoizedState;return[e,t]},useMutableSource:wy,useSyncExternalStore:by,useId:My,unstable_isNewReconciler:!1},FE={readContext:Wt,useCallback:Ny,useContext:Wt,useEffect:oh,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:Ry,useMemo:Oy,useReducer:pc,useRef:ky,useState:function(){return pc(Ds)},useDebugValue:ih,useDeferredValue:function(e){var t=qt();return Ie===null?t.memoizedState=e:Ly(t,Ie.memoizedState,e)},useTransition:function(){var e=pc(Ds)[0],t=qt().memoizedState;return[e,t]},useMutableSource:wy,useSyncExternalStore:by,useId:My,unstable_isNewReconciler:!1};function tr(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Sd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var du={isMounted:function(e){return(e=e._reactInternals)?Co(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ht(),o=Tn(e),i=zr(n,o);i.payload=t,r!=null&&(i.callback=r),t=Cn(e,i,o),t!==null&&(cr(t,e,o,n),tl(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ht(),o=Tn(e),i=zr(n,o);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Cn(e,i,o),t!==null&&(cr(t,e,o,n),tl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ht(),n=Tn(e),o=zr(r,n);o.tag=2,t!=null&&(o.callback=t),t=Cn(e,o,n),t!==null&&(cr(t,e,n,r),tl(t,e,n))}};function nm(e,t,r,n,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Ps(r,n)||!Ps(o,i):!0}function By(e,t,r){var n=!1,o=Ln,i=t.contextType;return typeof i=="object"&&i!==null?i=Wt(i):(o=St(t)?po:ut.current,n=t.contextTypes,i=(n=n!=null)?Ei(e,o):Ln),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=du,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function om(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&du.enqueueReplaceState(t,t.state,null)}function Ed(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Yf(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Wt(i):(i=St(t)?po:ut.current,o.context=Ei(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Sd(e,t,i,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&du.enqueueReplaceState(o,o.state,null),Pl(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ri(e,t){try{var r="",n=t;do r+=hS(n),n=n.return;while(n);var o=r}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function mc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Cd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var $E=typeof WeakMap=="function"?WeakMap:Map;function Fy(e,t,r){r=zr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ml||(Ml=!0,jd=n),Cd(e,t)},r}function $y(e,t,r){r=zr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Cd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Cd(e,t),typeof n!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function im(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new $E;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=eC.bind(null,e,t,r),t.then(e,e))}function sm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function am(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=zr(-1,1),t.tag=2,Cn(r,t,1))),r.lanes|=1),e)}var UE=Qr.ReactCurrentOwner,_t=!1;function dt(e,t,r,n){t.child=e===null?my(t,null,r,n):ki(t,e.child,r,n)}function lm(e,t,r,n,o){r=r.render;var i=t.ref;return ui(t,o),n=rh(e,t,r,n,i,o),r=nh(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Kr(e,t,o)):(Ae&&r&&Wf(t),t.flags|=1,dt(e,t,n,o),t.child)}function um(e,t,r,n,o){if(e===null){var i=r.type;return typeof i=="function"&&!hh(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Uy(e,t,i,n,o)):(e=al(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ps,r(s,n)&&e.ref===t.ref)return Kr(e,t,o)}return t.flags|=1,e=Rn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Uy(e,t,r,n,o){if(e!==null){var i=e.memoizedProps;if(Ps(i,n)&&e.ref===t.ref)if(_t=!1,t.pendingProps=n=i,(e.lanes&o)!==0)e.flags&131072&&(_t=!0);else return t.lanes=e.lanes,Kr(e,t,o)}return kd(e,t,r,n,o)}function zy(e,t,r){var n=t.pendingProps,o=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(ni,Tt),Tt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(ni,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ce(ni,Tt),Tt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ce(ni,Tt),Tt|=n;return dt(e,t,o,r),t.child}function Hy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function kd(e,t,r,n,o){var i=St(r)?po:ut.current;return i=Ei(t,i),ui(t,o),r=rh(e,t,r,n,i,o),n=nh(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Kr(e,t,o)):(Ae&&n&&Wf(t),t.flags|=1,dt(e,t,r,o),t.child)}function cm(e,t,r,n,o){if(St(r)){var i=!0;El(t)}else i=!1;if(ui(t,o),t.stateNode===null)ol(e,t),By(t,r,n),Ed(t,r,n,o),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Wt(u):(u=St(r)?po:ut.current,u=Ei(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==u)&&om(t,s,n,u),ln=!1;var h=t.memoizedState;s.state=h,Pl(t,n,s,o),l=t.memoizedState,a!==n||h!==l||xt.current||ln?(typeof c=="function"&&(Sd(t,r,c,n),l=t.memoizedState),(a=ln||nm(t,r,a,n,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,vy(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:tr(t.type,a),s.props=u,d=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Wt(l):(l=St(r)?po:ut.current,l=Ei(t,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&om(t,s,n,l),ln=!1,h=t.memoizedState,s.state=h,Pl(t,n,s,o);var w=t.memoizedState;a!==d||h!==w||xt.current||ln?(typeof p=="function"&&(Sd(t,r,p,n),w=t.memoizedState),(u=ln||nm(t,r,u,n,h,w,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,w,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),s.props=n,s.state=w,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Td(e,t,r,n,i,o)}function Td(e,t,r,n,o,i){Hy(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return o&&Qp(t,r,!1),Kr(e,t,i);n=t.stateNode,UE.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,a,i)):dt(e,t,a,i),t.memoizedState=n.state,o&&Qp(t,r,!0),t.child}function Wy(e){var t=e.stateNode;t.pendingContext?Ip(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ip(e,t.context,!1),Xf(e,t.containerInfo)}function dm(e,t,r,n,o){return Ci(),Kf(o),t.flags|=256,dt(e,t,r,n),t.child}var Rd={dehydrated:null,treeContext:null,retryLane:0};function Pd(e){return{baseLanes:e,cachePool:null,transitions:null}}function qy(e,t,r){var n=t.pendingProps,o=Oe.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ce(Oe,o&1),e===null)return _d(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=pu(s,n,0,null),e=ho(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Pd(r),t.memoizedState=Rd,e):sh(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return zE(e,t,s,n,a,o,r);if(i){i=n.fallback,s=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Rn(o,l),n.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Rn(a,i):(i=ho(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Pd(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=Rd,n}return i=e.child,e=i.sibling,n=Rn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function sh(e,t){return t=pu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oa(e,t,r,n){return n!==null&&Kf(n),ki(t,e.child,null,r),e=sh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zE(e,t,r,n,o,i,s){if(r)return t.flags&256?(t.flags&=-257,n=mc(Error(q(422))),Oa(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,o=t.mode,n=pu({mode:"visible",children:n.children},o,0,null),i=ho(i,o,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ki(t,e.child,null,s),t.child.memoizedState=Pd(s),t.memoizedState=Rd,i);if(!(t.mode&1))return Oa(e,t,s,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(q(419)),n=mc(i,n,void 0),Oa(e,t,s,n)}if(a=(s&e.childLanes)!==0,_t||a){if(n=Ye,n!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,qr(e,o),cr(n,e,o,-1))}return fh(),n=mc(Error(q(421))),Oa(e,t,s,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=tC.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Nt=En(o.nextSibling),Ot=t,Ae=!0,lr=null,e!==null&&(Ft[$t++]=$r,Ft[$t++]=Ur,Ft[$t++]=mo,$r=e.id,Ur=e.overflow,mo=t),t=sh(t,n.children),t.flags|=4096,t)}function fm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),xd(e.return,t,r)}function gc(e,t,r,n,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function Ky(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(dt(e,t,n.children,r),n=Oe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fm(e,r,t);else if(e.tag===19)fm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ce(Oe,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&Al(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),gc(t,!1,o,r,i);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Al(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}gc(t,!0,r,null,i);break;case"together":gc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ol(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,r=Rn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Rn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function HE(e,t,r){switch(t.tag){case 3:Wy(t),Ci();break;case 5:yy(t);break;case 1:St(t.type)&&El(t);break;case 4:Xf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Ce(Tl,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ce(Oe,Oe.current&1),t.flags|=128,null):r&t.child.childLanes?qy(e,t,r):(Ce(Oe,Oe.current&1),e=Kr(e,t,r),e!==null?e.sibling:null);Ce(Oe,Oe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ky(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ce(Oe,Oe.current),n)break;return null;case 22:case 23:return t.lanes=0,zy(e,t,r)}return Kr(e,t,r)}var Gy,Ad,Iy,Qy;Gy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ad=function(){};Iy=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,no(kr.current);var i=null;switch(r){case"input":o=Xc(e,o),n=Xc(e,n),i=[];break;case"select":o=Me({},o,{value:void 0}),n=Me({},n,{value:void 0}),i=[];break;case"textarea":o=td(e,o),n=td(e,n),i=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=xl)}nd(r,n);var s;r=null;for(u in o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=o!=null?o[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Te("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Qy=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xi(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function WE(e,t,r){var n=t.pendingProps;switch(qf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return St(t.type)&&Sl(),st(t),null;case 3:return n=t.stateNode,Ti(),Re(xt),Re(ut),eh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Aa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lr!==null&&(Bd(lr),lr=null))),Ad(e,t),st(t),null;case 5:Zf(t);var o=no(Ms.current);if(r=t.type,e!==null&&t.stateNode!=null)Iy(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(q(166));return st(t),null}if(e=no(kr.current),Aa(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[_r]=t,n[Os]=i,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(o=0;o<ss.length;o++)Te(ss[o],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":_p(n,i),Te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Te("invalid",n);break;case"textarea":Sp(n,i),Te("invalid",n)}nd(r,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Pa(n.textContent,a,e),o=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Pa(n.textContent,a,e),o=["children",""+a]):xs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Te("scroll",n)}switch(r){case"input":_a(n),xp(n,i,!0);break;case"textarea":_a(n),Ep(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xl)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[_r]=t,e[Os]=n,Gy(e,t,!1,!1),t.stateNode=e;e:{switch(s=od(r,n),r){case"dialog":Te("cancel",e),Te("close",e),o=n;break;case"iframe":case"object":case"embed":Te("load",e),o=n;break;case"video":case"audio":for(o=0;o<ss.length;o++)Te(ss[o],e);o=n;break;case"source":Te("error",e),o=n;break;case"img":case"image":case"link":Te("error",e),Te("load",e),o=n;break;case"details":Te("toggle",e),o=n;break;case"input":_p(e,n),o=Xc(e,n),Te("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=Me({},n,{value:void 0}),Te("invalid",e);break;case"textarea":Sp(e,n),o=td(e,n),Te("invalid",e);break;default:o=n}nd(r,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?kv(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ev(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ss(e,l):typeof l=="number"&&Ss(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Te("scroll",e):l!=null&&Af(e,i,l,s))}switch(r){case"input":_a(e),xp(e,n,!1);break;case"textarea":_a(e),Ep(e);break;case"option":n.value!=null&&e.setAttribute("value",""+On(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ii(e,!!n.multiple,i,!1):n.defaultValue!=null&&ii(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=xl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)Qy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(q(166));if(r=no(Ms.current),no(kr.current),Aa(t)){if(n=t.stateNode,r=t.memoizedProps,n[_r]=t,(i=n.nodeValue!==r)&&(e=Ot,e!==null))switch(e.tag){case 3:Pa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pa(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[_r]=t,t.stateNode=n}return st(t),null;case 13:if(Re(Oe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&Nt!==null&&t.mode&1&&!(t.flags&128))hy(),Ci(),t.flags|=98560,i=!1;else if(i=Aa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[_r]=t}else Ci(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),i=!1}else lr!==null&&(Bd(lr),lr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Oe.current&1?Qe===0&&(Qe=3):fh())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return Ti(),Ad(e,t),e===null&&As(t.stateNode.containerInfo),st(t),null;case 10:return Qf(t.type._context),st(t),null;case 17:return St(t.type)&&Sl(),st(t),null;case 19:if(Re(Oe),i=t.memoizedState,i===null)return st(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Xi(i,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Al(e),s!==null){for(t.flags|=128,Xi(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ce(Oe,Oe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Fe()>Pi&&(t.flags|=128,n=!0,Xi(i,!1),t.lanes=4194304)}else{if(!n)if(e=Al(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Ae)return st(t),null}else 2*Fe()-i.renderingStartTime>Pi&&r!==1073741824&&(t.flags|=128,n=!0,Xi(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Fe(),t.sibling=null,r=Oe.current,Ce(Oe,n?r&1|2:r&1),t):(st(t),null);case 22:case 23:return dh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Tt&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function qE(e,t){switch(qf(t),t.tag){case 1:return St(t.type)&&Sl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ti(),Re(xt),Re(ut),eh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zf(t),null;case 13:if(Re(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(Oe),null;case 4:return Ti(),null;case 10:return Qf(t.type._context),null;case 22:case 23:return dh(),null;case 24:return null;default:return null}}var La=!1,lt=!1,KE=typeof WeakSet=="function"?WeakSet:Set,te=null;function ri(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Be(e,t,n)}else r.current=null}function Nd(e,t,r){try{r()}catch(n){Be(e,t,n)}}var hm=!1;function GE(e,t){if(pd=wl,e=ey(),Hf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var p;d!==r||o!==0&&d.nodeType!==3||(a=s+o),d!==i||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===o&&(a=s),h===i&&++c===n&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(md={focusedElem:e,selectionRange:r},wl=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var m=w.memoizedProps,_=w.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:tr(t.type,m),_);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(S){Be(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return w=hm,hm=!1,w}function gs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Nd(t,r,i)}o=o.next}while(o!==n)}}function fu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Od(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Jy(e){var t=e.alternate;t!==null&&(e.alternate=null,Jy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_r],delete t[Os],delete t[yd],delete t[PE],delete t[AE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yy(e){return e.tag===5||e.tag===3||e.tag===4}function pm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ld(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=xl));else if(n!==4&&(e=e.child,e!==null))for(Ld(e,t,r),e=e.sibling;e!==null;)Ld(e,t,r),e=e.sibling}function Md(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Md(e,t,r),e=e.sibling;e!==null;)Md(e,t,r),e=e.sibling}var et=null,sr=!1;function tn(e,t,r){for(r=r.child;r!==null;)Xy(e,t,r),r=r.sibling}function Xy(e,t,r){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(ou,r)}catch{}switch(r.tag){case 5:lt||ri(r,t);case 6:var n=et,o=sr;et=null,tn(e,t,r),et=n,sr=o,et!==null&&(sr?(e=et,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):et.removeChild(r.stateNode));break;case 18:et!==null&&(sr?(e=et,r=r.stateNode,e.nodeType===8?uc(e.parentNode,r):e.nodeType===1&&uc(e,r),Ts(e)):uc(et,r.stateNode));break;case 4:n=et,o=sr,et=r.stateNode.containerInfo,sr=!0,tn(e,t,r),et=n,sr=o;break;case 0:case 11:case 14:case 15:if(!lt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Nd(r,t,s),o=o.next}while(o!==n)}tn(e,t,r);break;case 1:if(!lt&&(ri(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Be(r,t,a)}tn(e,t,r);break;case 21:tn(e,t,r);break;case 22:r.mode&1?(lt=(n=lt)||r.memoizedState!==null,tn(e,t,r),lt=n):tn(e,t,r);break;default:tn(e,t,r)}}function mm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new KE),t.forEach(function(n){var o=rC.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function Jt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:et=a.stateNode,sr=!1;break e;case 3:et=a.stateNode.containerInfo,sr=!0;break e;case 4:et=a.stateNode.containerInfo,sr=!0;break e}a=a.return}if(et===null)throw Error(q(160));Xy(i,s,o),et=null,sr=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){Be(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zy(t,e),t=t.sibling}function Zy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),mr(e),n&4){try{gs(3,e,e.return),fu(3,e)}catch(m){Be(e,e.return,m)}try{gs(5,e,e.return)}catch(m){Be(e,e.return,m)}}break;case 1:Jt(t,e),mr(e),n&512&&r!==null&&ri(r,r.return);break;case 5:if(Jt(t,e),mr(e),n&512&&r!==null&&ri(r,r.return),e.flags&32){var o=e.stateNode;try{Ss(o,"")}catch(m){Be(e,e.return,m)}}if(n&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&_v(o,i),od(a,s);var u=od(a,i);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?kv(o,d):c==="dangerouslySetInnerHTML"?Ev(o,d):c==="children"?Ss(o,d):Af(o,c,d,u)}switch(a){case"input":Zc(o,i);break;case"textarea":xv(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ii(o,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ii(o,!!i.multiple,i.defaultValue,!0):ii(o,!!i.multiple,i.multiple?[]:"",!1))}o[Os]=i}catch(m){Be(e,e.return,m)}}break;case 6:if(Jt(t,e),mr(e),n&4){if(e.stateNode===null)throw Error(q(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(m){Be(e,e.return,m)}}break;case 3:if(Jt(t,e),mr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ts(t.containerInfo)}catch(m){Be(e,e.return,m)}break;case 4:Jt(t,e),mr(e);break;case 13:Jt(t,e),mr(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(uh=Fe())),n&4&&mm(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(lt=(u=lt)||c,Jt(t,e),lt=u):Jt(t,e),mr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(te=e,c=e.child;c!==null;){for(d=te=c;te!==null;){switch(h=te,p=h.child,h.tag){case 0:case 11:case 14:case 15:gs(4,h,h.return);break;case 1:ri(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(m){Be(n,r,m)}}break;case 5:ri(h,h.return);break;case 22:if(h.memoizedState!==null){vm(d);continue}}p!==null?(p.return=h,te=p):vm(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Cv("display",s))}catch(m){Be(e,e.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Be(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Jt(t,e),mr(e),n&4&&mm(e);break;case 21:break;default:Jt(t,e),mr(e)}}function mr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Yy(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(Ss(o,""),n.flags&=-33);var i=pm(e);Md(e,i,o);break;case 3:case 4:var s=n.stateNode.containerInfo,a=pm(e);Ld(e,a,s);break;default:throw Error(q(161))}}catch(l){Be(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IE(e,t,r){te=e,ew(e)}function ew(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var o=te,i=o.child;if(o.tag===22&&n){var s=o.memoizedState!==null||La;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||lt;a=La;var u=lt;if(La=s,(lt=l)&&!u)for(te=o;te!==null;)s=te,l=s.child,s.tag===22&&s.memoizedState!==null?ym(o):l!==null?(l.return=s,te=l):ym(o);for(;i!==null;)te=i,ew(i),i=i.sibling;te=o,La=a,lt=u}gm(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,te=i):gm(e)}}function gm(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lt||fu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!lt)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:tr(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&em(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}em(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ts(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}lt||t.flags&512&&Od(t)}catch(h){Be(t,t.return,h)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function vm(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function ym(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fu(4,t)}catch(l){Be(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(l){Be(t,o,l)}}var i=t.return;try{Od(t)}catch(l){Be(t,i,l)}break;case 5:var s=t.return;try{Od(t)}catch(l){Be(t,s,l)}}}catch(l){Be(t,t.return,l)}if(t===e){te=null;break}var a=t.sibling;if(a!==null){a.return=t.return,te=a;break}te=t.return}}var QE=Math.ceil,Ll=Qr.ReactCurrentDispatcher,ah=Qr.ReactCurrentOwner,zt=Qr.ReactCurrentBatchConfig,ve=0,Ye=null,qe=null,tt=0,Tt=0,ni=Vn(0),Qe=0,Bs=null,vo=0,hu=0,lh=0,vs=null,bt=null,uh=0,Pi=1/0,Dr=null,Ml=!1,jd=null,kn=null,Ma=!1,wn=null,jl=0,ys=0,Dd=null,il=-1,sl=0;function ht(){return ve&6?Fe():il!==-1?il:il=Fe()}function Tn(e){return e.mode&1?ve&2&&tt!==0?tt&-tt:OE.transition!==null?(sl===0&&(sl=Bv()),sl):(e=_e,e!==0||(e=window.event,e=e===void 0?16:qv(e.type)),e):1}function cr(e,t,r,n){if(50<ys)throw ys=0,Dd=null,Error(q(185));ia(e,r,n),(!(ve&2)||e!==Ye)&&(e===Ye&&(!(ve&2)&&(hu|=r),Qe===4&&dn(e,tt)),Et(e,n),r===1&&ve===0&&!(t.mode&1)&&(Pi=Fe()+500,uu&&Bn()))}function Et(e,t){var r=e.callbackNode;OS(e,t);var n=yl(e,e===Ye?tt:0);if(n===0)r!==null&&Tp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Tp(r),t===1)e.tag===0?NE(wm.bind(null,e)):cy(wm.bind(null,e)),TE(function(){!(ve&6)&&Bn()}),r=null;else{switch(Fv(n)){case 1:r=jf;break;case 4:r=Dv;break;case 16:r=vl;break;case 536870912:r=Vv;break;default:r=vl}r=lw(r,tw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function tw(e,t){if(il=-1,sl=0,ve&6)throw Error(q(327));var r=e.callbackNode;if(ci()&&e.callbackNode!==r)return null;var n=yl(e,e===Ye?tt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Dl(e,n);else{t=n;var o=ve;ve|=2;var i=nw();(Ye!==e||tt!==t)&&(Dr=null,Pi=Fe()+500,fo(e,t));do try{XE();break}catch(a){rw(e,a)}while(!0);If(),Ll.current=i,ve=o,qe!==null?t=0:(Ye=null,tt=0,t=Qe)}if(t!==0){if(t===2&&(o=ud(e),o!==0&&(n=o,t=Vd(e,o))),t===1)throw r=Bs,fo(e,0),dn(e,n),Et(e,Fe()),r;if(t===6)dn(e,n);else{if(o=e.current.alternate,!(n&30)&&!JE(o)&&(t=Dl(e,n),t===2&&(i=ud(e),i!==0&&(n=i,t=Vd(e,i))),t===1))throw r=Bs,fo(e,0),dn(e,n),Et(e,Fe()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(q(345));case 2:Yn(e,bt,Dr);break;case 3:if(dn(e,n),(n&130023424)===n&&(t=uh+500-Fe(),10<t)){if(yl(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){ht(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=vd(Yn.bind(null,e,bt,Dr),t);break}Yn(e,bt,Dr);break;case 4:if(dn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var s=31-ur(n);i=1<<s,s=t[s],s>o&&(o=s),n&=~i}if(n=o,n=Fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*QE(n/1960))-n,10<n){e.timeoutHandle=vd(Yn.bind(null,e,bt,Dr),n);break}Yn(e,bt,Dr);break;case 5:Yn(e,bt,Dr);break;default:throw Error(q(329))}}}return Et(e,Fe()),e.callbackNode===r?tw.bind(null,e):null}function Vd(e,t){var r=vs;return e.current.memoizedState.isDehydrated&&(fo(e,t).flags|=256),e=Dl(e,t),e!==2&&(t=bt,bt=r,t!==null&&Bd(t)),e}function Bd(e){bt===null?bt=e:bt.push.apply(bt,e)}function JE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!dr(i(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dn(e,t){for(t&=~lh,t&=~hu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ur(t),n=1<<r;e[r]=-1,t&=~n}}function wm(e){if(ve&6)throw Error(q(327));ci();var t=yl(e,0);if(!(t&1))return Et(e,Fe()),null;var r=Dl(e,t);if(e.tag!==0&&r===2){var n=ud(e);n!==0&&(t=n,r=Vd(e,n))}if(r===1)throw r=Bs,fo(e,0),dn(e,t),Et(e,Fe()),r;if(r===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yn(e,bt,Dr),Et(e,Fe()),null}function ch(e,t){var r=ve;ve|=1;try{return e(t)}finally{ve=r,ve===0&&(Pi=Fe()+500,uu&&Bn())}}function yo(e){wn!==null&&wn.tag===0&&!(ve&6)&&ci();var t=ve;ve|=1;var r=zt.transition,n=_e;try{if(zt.transition=null,_e=1,e)return e()}finally{_e=n,zt.transition=r,ve=t,!(ve&6)&&Bn()}}function dh(){Tt=ni.current,Re(ni)}function fo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,kE(r)),qe!==null)for(r=qe.return;r!==null;){var n=r;switch(qf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sl();break;case 3:Ti(),Re(xt),Re(ut),eh();break;case 5:Zf(n);break;case 4:Ti();break;case 13:Re(Oe);break;case 19:Re(Oe);break;case 10:Qf(n.type._context);break;case 22:case 23:dh()}r=r.return}if(Ye=e,qe=e=Rn(e.current,null),tt=Tt=t,Qe=0,Bs=null,lh=hu=vo=0,bt=vs=null,ro!==null){for(t=0;t<ro.length;t++)if(r=ro[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=o,n.next=s}r.pending=n}ro=null}return e}function rw(e,t){do{var r=qe;try{if(If(),rl.current=Ol,Nl){for(var n=Le.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Nl=!1}if(go=0,Je=Ie=Le=null,ms=!1,js=0,ah.current=null,r===null||r.return===null){Qe=1,Bs=t,qe=null;break}e:{var i=e,s=r.return,a=r,l=t;if(t=tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=sm(s);if(p!==null){p.flags&=-257,am(p,s,a,i,t),p.mode&1&&im(i,u,t),t=p,l=u;var w=t.updateQueue;if(w===null){var m=new Set;m.add(l),t.updateQueue=m}else w.add(l);break e}else{if(!(t&1)){im(i,u,t),fh();break e}l=Error(q(426))}}else if(Ae&&a.mode&1){var _=sm(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),am(_,s,a,i,t),Kf(Ri(l,a));break e}}i=l=Ri(l,a),Qe!==4&&(Qe=2),vs===null?vs=[i]:vs.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Fy(i,l,t);Zp(i,v);break e;case 1:a=l;var g=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(kn===null||!kn.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=$y(i,a,t);Zp(i,S);break e}}i=i.return}while(i!==null)}iw(r)}catch(T){t=T,qe===r&&r!==null&&(qe=r=r.return);continue}break}while(!0)}function nw(){var e=Ll.current;return Ll.current=Ol,e===null?Ol:e}function fh(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ye===null||!(vo&268435455)&&!(hu&268435455)||dn(Ye,tt)}function Dl(e,t){var r=ve;ve|=2;var n=nw();(Ye!==e||tt!==t)&&(Dr=null,fo(e,t));do try{YE();break}catch(o){rw(e,o)}while(!0);if(If(),ve=r,Ll.current=n,qe!==null)throw Error(q(261));return Ye=null,tt=0,Qe}function YE(){for(;qe!==null;)ow(qe)}function XE(){for(;qe!==null&&!SS();)ow(qe)}function ow(e){var t=aw(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?iw(e):qe=t,ah.current=null}function iw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=qE(r,t),r!==null){r.flags&=32767,qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,qe=null;return}}else if(r=WE(r,t,Tt),r!==null){qe=r;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Qe===0&&(Qe=5)}function Yn(e,t,r){var n=_e,o=zt.transition;try{zt.transition=null,_e=1,ZE(e,t,r,n)}finally{zt.transition=o,_e=n}return null}function ZE(e,t,r,n){do ci();while(wn!==null);if(ve&6)throw Error(q(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(LS(e,i),e===Ye&&(qe=Ye=null,tt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ma||(Ma=!0,lw(vl,function(){return ci(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=zt.transition,zt.transition=null;var s=_e;_e=1;var a=ve;ve|=4,ah.current=null,GE(e,r),Zy(r,e),wE(md),wl=!!pd,md=pd=null,e.current=r,IE(r),ES(),ve=a,_e=s,zt.transition=i}else e.current=r;if(Ma&&(Ma=!1,wn=e,jl=o),i=e.pendingLanes,i===0&&(kn=null),TS(r.stateNode),Et(e,Fe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Ml)throw Ml=!1,e=jd,jd=null,e;return jl&1&&e.tag!==0&&ci(),i=e.pendingLanes,i&1?e===Dd?ys++:(ys=0,Dd=e):ys=0,Bn(),null}function ci(){if(wn!==null){var e=Fv(jl),t=zt.transition,r=_e;try{if(zt.transition=null,_e=16>e?16:e,wn===null)var n=!1;else{if(e=wn,wn=null,jl=0,ve&6)throw Error(q(331));var o=ve;for(ve|=4,te=e.current;te!==null;){var i=te,s=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:gs(8,c,i)}var d=c.child;if(d!==null)d.return=c,te=d;else for(;te!==null;){c=te;var h=c.sibling,p=c.return;if(Jy(c),c===u){te=null;break}if(h!==null){h.return=p,te=h;break}te=p}}}var w=i.alternate;if(w!==null){var m=w.child;if(m!==null){w.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}te=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,te=s;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gs(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,te=v;break e}te=i.return}}var g=e.current;for(te=g;te!==null;){s=te;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,te=b;else e:for(s=g;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fu(9,a)}}catch(T){Be(a,a.return,T)}if(a===s){te=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,te=S;break e}te=a.return}}if(ve=o,Bn(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(ou,e)}catch{}n=!0}return n}finally{_e=r,zt.transition=t}}return!1}function bm(e,t,r){t=Ri(r,t),t=Fy(e,t,1),e=Cn(e,t,1),t=ht(),e!==null&&(ia(e,1,t),Et(e,t))}function Be(e,t,r){if(e.tag===3)bm(e,e,r);else for(;t!==null;){if(t.tag===3){bm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(kn===null||!kn.has(n))){e=Ri(r,e),e=$y(t,e,1),t=Cn(t,e,1),e=ht(),t!==null&&(ia(t,1,e),Et(t,e));break}}t=t.return}}function eC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&r,Ye===e&&(tt&r)===r&&(Qe===4||Qe===3&&(tt&130023424)===tt&&500>Fe()-uh?fo(e,0):lh|=r),Et(e,t)}function sw(e,t){t===0&&(e.mode&1?(t=Ea,Ea<<=1,!(Ea&130023424)&&(Ea=4194304)):t=1);var r=ht();e=qr(e,t),e!==null&&(ia(e,t,r),Et(e,r))}function tC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sw(e,r)}function rC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(t),sw(e,r)}var aw;aw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)_t=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return _t=!1,HE(e,t,r);_t=!!(e.flags&131072)}else _t=!1,Ae&&t.flags&1048576&&dy(t,kl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ol(e,t),e=t.pendingProps;var o=Ei(t,ut.current);ui(t,r),o=rh(null,t,n,e,o,r);var i=nh();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(n)?(i=!0,El(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Yf(t),o.updater=du,t.stateNode=o,o._reactInternals=t,Ed(t,n,e,r),t=Td(null,t,n,!0,i,r)):(t.tag=0,Ae&&i&&Wf(t),dt(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ol(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=oC(n),e=tr(n,e),o){case 0:t=kd(null,t,n,e,r);break e;case 1:t=cm(null,t,n,e,r);break e;case 11:t=lm(null,t,n,e,r);break e;case 14:t=um(null,t,n,tr(n.type,e),r);break e}throw Error(q(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:tr(n,o),kd(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:tr(n,o),cm(e,t,n,o,r);case 3:e:{if(Wy(t),e===null)throw Error(q(387));n=t.pendingProps,i=t.memoizedState,o=i.element,vy(e,t),Pl(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Ri(Error(q(423)),t),t=dm(e,t,n,r,o);break e}else if(n!==o){o=Ri(Error(q(424)),t),t=dm(e,t,n,r,o);break e}else for(Nt=En(t.stateNode.containerInfo.firstChild),Ot=t,Ae=!0,lr=null,r=my(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ci(),n===o){t=Kr(e,t,r);break e}dt(e,t,n,r)}t=t.child}return t;case 5:return yy(t),e===null&&_d(t),n=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,gd(n,o)?s=null:i!==null&&gd(n,i)&&(t.flags|=32),Hy(e,t),dt(e,t,s,r),t.child;case 6:return e===null&&_d(t),null;case 13:return qy(e,t,r);case 4:return Xf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ki(t,null,n,r):dt(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:tr(n,o),lm(e,t,n,o,r);case 7:return dt(e,t,t.pendingProps,r),t.child;case 8:return dt(e,t,t.pendingProps.children,r),t.child;case 12:return dt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Ce(Tl,n._currentValue),n._currentValue=s,i!==null)if(dr(i.value,s)){if(i.children===o.children&&!xt.current){t=Kr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=zr(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),xd(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(q(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),xd(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}dt(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,ui(t,r),o=Wt(o),n=n(o),t.flags|=1,dt(e,t,n,r),t.child;case 14:return n=t.type,o=tr(n,t.pendingProps),o=tr(n.type,o),um(e,t,n,o,r);case 15:return Uy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:tr(n,o),ol(e,t),t.tag=1,St(n)?(e=!0,El(t)):e=!1,ui(t,r),By(t,n,o),Ed(t,n,o,r),Td(null,t,n,!0,e,r);case 19:return Ky(e,t,r);case 22:return zy(e,t,r)}throw Error(q(156,t.tag))};function lw(e,t){return jv(e,t)}function nC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,r,n){return new nC(e,t,r,n)}function hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oC(e){if(typeof e=="function")return hh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Of)return 11;if(e===Lf)return 14}return 2}function Rn(e,t){var r=e.alternate;return r===null?(r=Ut(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function al(e,t,r,n,o,i){var s=2;if(n=e,typeof e=="function")hh(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Go:return ho(r.children,o,i,t);case Nf:s=8,o|=8;break;case Ic:return e=Ut(12,r,t,o|2),e.elementType=Ic,e.lanes=i,e;case Qc:return e=Ut(13,r,t,o),e.elementType=Qc,e.lanes=i,e;case Jc:return e=Ut(19,r,t,o),e.elementType=Jc,e.lanes=i,e;case yv:return pu(r,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gv:s=10;break e;case vv:s=9;break e;case Of:s=11;break e;case Lf:s=14;break e;case an:s=16,n=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Ut(s,r,t,o),t.elementType=e,t.type=n,t.lanes=i,t}function ho(e,t,r,n){return e=Ut(7,e,n,t),e.lanes=r,e}function pu(e,t,r,n){return e=Ut(22,e,n,t),e.elementType=yv,e.lanes=r,e.stateNode={isHidden:!1},e}function vc(e,t,r){return e=Ut(6,e,null,t),e.lanes=r,e}function yc(e,t,r){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iC(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xu(0),this.expirationTimes=Xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xu(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ph(e,t,r,n,o,i,s,a,l){return e=new iC(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ut(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yf(i),e}function sC(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ko,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function uw(e){if(!e)return Ln;e=e._reactInternals;e:{if(Co(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var r=e.type;if(St(r))return uy(e,r,t)}return t}function cw(e,t,r,n,o,i,s,a,l){return e=ph(r,n,!0,e,o,i,s,a,l),e.context=uw(null),r=e.current,n=ht(),o=Tn(r),i=zr(n,o),i.callback=t??null,Cn(r,i,o),e.current.lanes=o,ia(e,o,n),Et(e,n),e}function mu(e,t,r,n){var o=t.current,i=ht(),s=Tn(o);return r=uw(r),t.context===null?t.context=r:t.pendingContext=r,t=zr(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Cn(o,t,s),e!==null&&(cr(e,o,s,i),tl(e,o,s)),s}function Vl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _m(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function mh(e,t){_m(e,t),(e=e.alternate)&&_m(e,t)}function aC(){return null}var dw=typeof reportError=="function"?reportError:function(e){console.error(e)};function gh(e){this._internalRoot=e}gu.prototype.render=gh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));mu(e,t,null,null)};gu.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yo(function(){mu(null,e,null,null)}),t[Wr]=null}};function gu(e){this._internalRoot=e}gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=zv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<cn.length&&t!==0&&t<cn[r].priority;r++);cn.splice(r,0,e),r===0&&Wv(e)}};function vh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xm(){}function lC(e,t,r,n,o){if(o){if(typeof n=="function"){var i=n;n=function(){var u=Vl(s);i.call(u)}}var s=cw(t,n,e,0,null,!1,!1,"",xm);return e._reactRootContainer=s,e[Wr]=s.current,As(e.nodeType===8?e.parentNode:e),yo(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var a=n;n=function(){var u=Vl(l);a.call(u)}}var l=ph(e,0,!1,null,null,!1,!1,"",xm);return e._reactRootContainer=l,e[Wr]=l.current,As(e.nodeType===8?e.parentNode:e),yo(function(){mu(t,l,r,n)}),l}function yu(e,t,r,n,o){var i=r._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=Vl(s);a.call(l)}}mu(t,s,e,o)}else s=lC(r,t,e,o,n);return Vl(s)}$v=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=is(t.pendingLanes);r!==0&&(Df(t,r|1),Et(t,Fe()),!(ve&6)&&(Pi=Fe()+500,Bn()))}break;case 13:yo(function(){var n=qr(e,1);if(n!==null){var o=ht();cr(n,e,1,o)}}),mh(e,1)}};Vf=function(e){if(e.tag===13){var t=qr(e,134217728);if(t!==null){var r=ht();cr(t,e,134217728,r)}mh(e,134217728)}};Uv=function(e){if(e.tag===13){var t=Tn(e),r=qr(e,t);if(r!==null){var n=ht();cr(r,e,t,n)}mh(e,t)}};zv=function(){return _e};Hv=function(e,t){var r=_e;try{return _e=e,t()}finally{_e=r}};sd=function(e,t,r){switch(t){case"input":if(Zc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=lu(n);if(!o)throw Error(q(90));bv(n),Zc(n,o)}}}break;case"textarea":xv(e,r);break;case"select":t=r.value,t!=null&&ii(e,!!r.multiple,t,!1)}};Pv=ch;Av=yo;var uC={usingClientEntryPoint:!1,Events:[aa,Yo,lu,Tv,Rv,ch]},Zi={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cC={bundleType:Zi.bundleType,version:Zi.version,rendererPackageName:Zi.rendererPackageName,rendererConfig:Zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lv(e),e===null?null:e.stateNode},findFiberByHostInstance:Zi.findFiberByHostInstance||aC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ja.isDisabled&&ja.supportsFiber)try{ou=ja.inject(cC),Cr=ja}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uC;jt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vh(t))throw Error(q(200));return sC(e,t,null,r)};jt.createRoot=function(e,t){if(!vh(e))throw Error(q(299));var r=!1,n="",o=dw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ph(e,1,!1,null,null,r,!1,n,o),e[Wr]=t.current,As(e.nodeType===8?e.parentNode:e),new gh(t)};jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=Lv(t),e=e===null?null:e.stateNode,e};jt.flushSync=function(e){return yo(e)};jt.hydrate=function(e,t,r){if(!vu(t))throw Error(q(200));return yu(null,e,t,!0,r)};jt.hydrateRoot=function(e,t,r){if(!vh(e))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,o=!1,i="",s=dw;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=cw(t,null,e,1,r??null,o,!1,i,s),e[Wr]=t.current,As(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new gu(t)};jt.render=function(e,t,r){if(!vu(t))throw Error(q(200));return yu(null,e,t,!1,r)};jt.unmountComponentAtNode=function(e){if(!vu(e))throw Error(q(40));return e._reactRootContainer?(yo(function(){yu(null,null,e,!1,function(){e._reactRootContainer=null,e[Wr]=null})}),!0):!1};jt.unstable_batchedUpdates=ch;jt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vu(r))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return yu(e,t,r,!1,n)};jt.version="18.3.1-next-f1338f8080-20240426";function fw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fw)}catch(e){console.error(e)}}fw(),fv.exports=jt;var ko=fv.exports;const hw=xf(ko);var pw,Sm=ko;pw=Sm.createRoot,Sm.hydrateRoot;const dC=1,fC=1e6;let wc=0;function hC(){return wc=(wc+1)%Number.MAX_SAFE_INTEGER,wc.toString()}const bc=new Map,Em=e=>{if(bc.has(e))return;const t=setTimeout(()=>{bc.delete(e),ws({type:"REMOVE_TOAST",toastId:e})},fC);bc.set(e,t)},pC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,dC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Em(r):e.toasts.forEach(n=>{Em(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},ll=[];let ul={toasts:[]};function ws(e){ul=pC(ul,e),ll.forEach(t=>{t(ul)})}function mC({...e}){const t=hC(),r=o=>ws({type:"UPDATE_TOAST",toast:{...o,id:t}}),n=()=>ws({type:"DISMISS_TOAST",toastId:t});return ws({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||n()}}}),{id:t,dismiss:n,update:r}}function gC(){const[e,t]=y.useState(ul);return y.useEffect(()=>(ll.push(t),()=>{const r=ll.indexOf(t);r>-1&&ll.splice(r,1)}),[e]),{...e,toast:mC,dismiss:r=>ws({type:"DISMISS_TOAST",toastId:r})}}function X(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Cm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function wu(...e){return t=>{let r=!1;const n=e.map(o=>{const i=Cm(o,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){const i=n[o];typeof i=="function"?i():Cm(e[o],null)}}}}function we(...e){return y.useCallback(wu(...e),e)}function Pr(e,t=[]){let r=[];function n(i,s){const a=y.createContext(s),l=r.length;r=[...r,s];const u=d=>{var v;const{scope:h,children:p,...w}=d,m=((v=h==null?void 0:h[e])==null?void 0:v[l])||a,_=y.useMemo(()=>w,Object.values(w));return f.jsx(m.Provider,{value:_,children:p})};u.displayName=i+"Provider";function c(d,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||a,w=y.useContext(p);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,c]}const o=()=>{const i=r.map(s=>y.createContext(s));return function(a){const l=(a==null?void 0:a[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[n,vC(o,...t)]}function vC(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=n.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function Ai(e){const t=wC(e),r=y.forwardRef((n,o)=>{const{children:i,...s}=n,a=y.Children.toArray(i),l=a.find(_C);if(l){const u=l.props.children,c=a.map(d=>d===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:d);return f.jsx(t,{...s,ref:o,children:y.isValidElement(u)?y.cloneElement(u,void 0,c):null})}return f.jsx(t,{...s,ref:o,children:i})});return r.displayName=`${e}.Slot`,r}var yC=Ai("Slot");function wC(e){const t=y.forwardRef((r,n)=>{const{children:o,...i}=r;if(y.isValidElement(o)){const s=SC(o),a=xC(i,o.props);return o.type!==y.Fragment&&(a.ref=n?wu(n,s):s),y.cloneElement(o,a)}return y.Children.count(o)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mw=Symbol("radix.slottable");function bC(e){const t=({children:r})=>f.jsx(f.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=mw,t}function _C(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mw}function xC(e,t){const r={...t};for(const n in t){const o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...a)=>{const l=i(...a);return o(...a),l}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function SC(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function bu(e){const t=e+"CollectionProvider",[r,n]=Pr(t),[o,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:_,children:v}=m,g=K.useRef(null),b=K.useRef(new Map).current;return f.jsx(o,{scope:_,itemMap:b,collectionRef:g,children:v})};s.displayName=t;const a=e+"CollectionSlot",l=Ai(a),u=K.forwardRef((m,_)=>{const{scope:v,children:g}=m,b=i(a,v),S=we(_,b.collectionRef);return f.jsx(l,{ref:S,children:g})});u.displayName=a;const c=e+"CollectionItemSlot",d="data-radix-collection-item",h=Ai(c),p=K.forwardRef((m,_)=>{const{scope:v,children:g,...b}=m,S=K.useRef(null),T=we(_,S),A=i(c,v);return K.useEffect(()=>(A.itemMap.set(S,{ref:S,...b}),()=>void A.itemMap.delete(S))),f.jsx(h,{[d]:"",ref:T,children:g})});p.displayName=c;function w(m){const _=i(e+"CollectionConsumer",m);return K.useCallback(()=>{const g=_.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((A,O)=>b.indexOf(A.ref.current)-b.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},w,n]}var EC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],he=EC.reduce((e,t)=>{const r=Ai(`Primitive.${t}`),n=y.forwardRef((o,i)=>{const{asChild:s,...a}=o,l=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function yh(e,t){e&&ko.flushSync(()=>e.dispatchEvent(t))}function Ct(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function CC(e,t=globalThis==null?void 0:globalThis.document){const r=Ct(e);y.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var kC="DismissableLayer",Fd="dismissableLayer.update",TC="dismissableLayer.pointerDownOutside",RC="dismissableLayer.focusOutside",km,gw=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ua=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:a,...l}=e,u=y.useContext(gw),[c,d]=y.useState(null),h=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),w=we(t,O=>d(O)),m=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(_),g=c?m.indexOf(c):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=g>=v,T=AC(O=>{const V=O.target,x=[...u.branches].some(C=>C.contains(V));!S||x||(o==null||o(O),s==null||s(O),O.defaultPrevented||a==null||a())},h),A=NC(O=>{const V=O.target;[...u.branches].some(C=>C.contains(V))||(i==null||i(O),s==null||s(O),O.defaultPrevented||a==null||a())},h);return CC(O=>{g===u.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&a&&(O.preventDefault(),a()))},h),y.useEffect(()=>{if(c)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(km=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),Tm(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=km)}},[c,h,r,u]),y.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),Tm())},[c,u]),y.useEffect(()=>{const O=()=>p({});return document.addEventListener(Fd,O),()=>document.removeEventListener(Fd,O)},[]),f.jsx(he.div,{...l,ref:w,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:X(e.onFocusCapture,A.onFocusCapture),onBlurCapture:X(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:X(e.onPointerDownCapture,T.onPointerDownCapture)})});ua.displayName=kC;var PC="DismissableLayerBranch",vw=y.forwardRef((e,t)=>{const r=y.useContext(gw),n=y.useRef(null),o=we(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),f.jsx(he.div,{...e,ref:o})});vw.displayName=PC;function AC(e,t=globalThis==null?void 0:globalThis.document){const r=Ct(e),n=y.useRef(!1),o=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){yw(TC,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function NC(e,t=globalThis==null?void 0:globalThis.document){const r=Ct(e),n=y.useRef(!1);return y.useEffect(()=>{const o=i=>{i.target&&!n.current&&yw(RC,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Tm(){const e=new CustomEvent(Fd);document.dispatchEvent(e)}function yw(e,t,r,{discrete:n}){const o=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?yh(o,i):o.dispatchEvent(i)}var OC=ua,LC=vw,nt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},MC="Portal",_u=y.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[o,i]=y.useState(!1);nt(()=>i(!0),[]);const s=r||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?hw.createPortal(f.jsx(he.div,{...n,ref:t}),s):null});_u.displayName=MC;function jC(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Fn=e=>{const{present:t,children:r}=e,n=DC(t),o=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=we(n.ref,VC(o));return typeof r=="function"||n.isPresent?y.cloneElement(o,{ref:i}):null};Fn.displayName="Presence";function DC(e){const[t,r]=y.useState(),n=y.useRef(null),o=y.useRef(e),i=y.useRef("none"),s=e?"mounted":"unmounted",[a,l]=jC(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Da(n.current);i.current=a==="mounted"?u:"none"},[a]),nt(()=>{const u=n.current,c=o.current;if(c!==e){const h=i.current,p=Da(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&h!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),nt(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,d=p=>{const m=Da(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!o.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},h=p=>{p.target===t&&(i.current=Da(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Da(e){return(e==null?void 0:e.animationName)||"none"}function VC(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var BC=Tf[" useInsertionEffect ".trim().toString()]||nt;function wo({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,i,s]=FC({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:o;{const c=y.useRef(e!==void 0);y.useEffect(()=>{const d=c.current;d!==a&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=a},[a,n])}const u=y.useCallback(c=>{var d;if(a){const h=$C(c)?c(e):c;h!==e&&((d=s.current)==null||d.call(s,h))}else i(c)},[a,e,i,s]);return[l,u]}function FC({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),o=y.useRef(r),i=y.useRef(t);return BC(()=>{i.current=t},[t]),y.useEffect(()=>{var s;o.current!==r&&((s=i.current)==null||s.call(i,r),o.current=r)},[r,o]),[r,n,i]}function $C(e){return typeof e=="function"}var ww=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),UC="VisuallyHidden",xu=y.forwardRef((e,t)=>f.jsx(he.span,{...e,ref:t,style:{...ww,...e.style}}));xu.displayName=UC;var zC=xu,wh="ToastProvider",[bh,HC,WC]=bu("Toast"),[bw,MD]=Pr("Toast",[WC]),[qC,Su]=bw(wh),_w=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:i=50,children:s}=e,[a,l]=y.useState(null),[u,c]=y.useState(0),d=y.useRef(!1),h=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${wh}\`. Expected non-empty \`string\`.`),f.jsx(bh.Provider,{scope:t,children:f.jsx(qC,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>c(p=>p+1),[]),onToastRemove:y.useCallback(()=>c(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:s})})};_w.displayName=wh;var xw="ToastViewport",KC=["F8"],$d="toast.viewportPause",Ud="toast.viewportResume",Sw=y.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=KC,label:o="Notifications ({hotkey})",...i}=e,s=Su(xw,r),a=HC(r),l=y.useRef(null),u=y.useRef(null),c=y.useRef(null),d=y.useRef(null),h=we(t,d,s.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=s.toastCount>0;y.useEffect(()=>{const _=v=>{var b;n.length!==0&&n.every(S=>v[S]||v.code===S)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[n]),y.useEffect(()=>{const _=l.current,v=d.current;if(w&&_&&v){const g=()=>{if(!s.isClosePausedRef.current){const A=new CustomEvent($d);v.dispatchEvent(A),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const A=new CustomEvent(Ud);v.dispatchEvent(A),s.isClosePausedRef.current=!1}},S=A=>{!_.contains(A.relatedTarget)&&b()},T=()=>{_.contains(document.activeElement)||b()};return _.addEventListener("focusin",g),_.addEventListener("focusout",S),_.addEventListener("pointermove",g),_.addEventListener("pointerleave",T),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{_.removeEventListener("focusin",g),_.removeEventListener("focusout",S),_.removeEventListener("pointermove",g),_.removeEventListener("pointerleave",T),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[w,s.isClosePausedRef]);const m=y.useCallback(({tabbingDirection:_})=>{const g=a().map(b=>{const S=b.ref.current,T=[S,...ik(S)];return _==="forwards"?T:T.reverse()});return(_==="forwards"?g.reverse():g).flat()},[a]);return y.useEffect(()=>{const _=d.current;if(_){const v=g=>{var T,A,O;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const V=document.activeElement,x=g.shiftKey;if(g.target===_&&x){(T=u.current)==null||T.focus();return}const j=m({tabbingDirection:x?"backwards":"forwards"}),E=j.findIndex(k=>k===V);_c(j.slice(E+1))?g.preventDefault():x?(A=u.current)==null||A.focus():(O=c.current)==null||O.focus()}};return _.addEventListener("keydown",v),()=>_.removeEventListener("keydown",v)}},[a,m]),f.jsxs(LC,{ref:l,role:"region","aria-label":o.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&f.jsx(zd,{ref:u,onFocusFromOutsideViewport:()=>{const _=m({tabbingDirection:"forwards"});_c(_)}}),f.jsx(bh.Slot,{scope:r,children:f.jsx(he.ol,{tabIndex:-1,...i,ref:h})}),w&&f.jsx(zd,{ref:c,onFocusFromOutsideViewport:()=>{const _=m({tabbingDirection:"backwards"});_c(_)}})]})});Sw.displayName=xw;var Ew="ToastFocusProxy",zd=y.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=e,i=Su(Ew,r);return f.jsx(xu,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const a=s.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&n()}})});zd.displayName=Ew;var ca="Toast",GC="toast.swipeStart",IC="toast.swipeMove",QC="toast.swipeCancel",JC="toast.swipeEnd",Cw=y.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:i,...s}=e,[a,l]=wo({prop:n,defaultProp:o??!0,onChange:i,caller:ca});return f.jsx(Fn,{present:r||a,children:f.jsx(ZC,{open:a,...s,ref:t,onClose:()=>l(!1),onPause:Ct(e.onPause),onResume:Ct(e.onResume),onSwipeStart:X(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:X(e.onSwipeMove,u=>{const{x:c,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:X(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:X(e.onSwipeEnd,u=>{const{x:c,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});Cw.displayName=ca;var[YC,XC]=bw(ca,{onClose(){}}),ZC=y.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:i,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...w}=e,m=Su(ca,r),[_,v]=y.useState(null),g=we(t,k=>v(k)),b=y.useRef(null),S=y.useRef(null),T=o||m.duration,A=y.useRef(0),O=y.useRef(T),V=y.useRef(0),{onToastAdd:x,onToastRemove:C}=m,N=Ct(()=>{var P;(_==null?void 0:_.contains(document.activeElement))&&((P=m.viewport)==null||P.focus()),s()}),j=y.useCallback(k=>{!k||k===1/0||(window.clearTimeout(V.current),A.current=new Date().getTime(),V.current=window.setTimeout(N,k))},[N]);y.useEffect(()=>{const k=m.viewport;if(k){const P=()=>{j(O.current),u==null||u()},L=()=>{const B=new Date().getTime()-A.current;O.current=O.current-B,window.clearTimeout(V.current),l==null||l()};return k.addEventListener($d,L),k.addEventListener(Ud,P),()=>{k.removeEventListener($d,L),k.removeEventListener(Ud,P)}}},[m.viewport,T,l,u,j]),y.useEffect(()=>{i&&!m.isClosePausedRef.current&&j(T)},[i,T,m.isClosePausedRef,j]),y.useEffect(()=>(x(),()=>C()),[x,C]);const E=y.useMemo(()=>_?Ow(_):null,[_]);return m.viewport?f.jsxs(f.Fragment,{children:[E&&f.jsx(ek,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:E}),f.jsx(YC,{scope:r,onClose:N,children:ko.createPortal(f.jsx(bh.ItemSlot,{scope:r,children:f.jsx(OC,{asChild:!0,onEscapeKeyDown:X(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||N(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(he.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:X(e.onKeyDown,k=>{k.key==="Escape"&&(a==null||a(k.nativeEvent),k.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:X(e.onPointerDown,k=>{k.button===0&&(b.current={x:k.clientX,y:k.clientY})}),onPointerMove:X(e.onPointerMove,k=>{if(!b.current)return;const P=k.clientX-b.current.x,L=k.clientY-b.current.y,B=!!S.current,M=["left","right"].includes(m.swipeDirection),R=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,D=M?R(0,P):0,H=M?0:R(0,L),F=k.pointerType==="touch"?10:2,W={x:D,y:H},I={originalEvent:k,delta:W};B?(S.current=W,Va(IC,d,I,{discrete:!1})):Rm(W,m.swipeDirection,F)?(S.current=W,Va(GC,c,I,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(P)>F||Math.abs(L)>F)&&(b.current=null)}),onPointerUp:X(e.onPointerUp,k=>{const P=S.current,L=k.target;if(L.hasPointerCapture(k.pointerId)&&L.releasePointerCapture(k.pointerId),S.current=null,b.current=null,P){const B=k.currentTarget,M={originalEvent:k,delta:P};Rm(P,m.swipeDirection,m.swipeThreshold)?Va(JC,p,M,{discrete:!0}):Va(QC,h,M,{discrete:!0}),B.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),ek=e=>{const{__scopeToast:t,children:r,...n}=e,o=Su(ca,t),[i,s]=y.useState(!1),[a,l]=y.useState(!1);return nk(()=>s(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:f.jsx(_u,{asChild:!0,children:f.jsx(xu,{...n,children:i&&f.jsxs(f.Fragment,{children:[o.label," ",r]})})})},tk="ToastTitle",kw=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return f.jsx(he.div,{...n,ref:t})});kw.displayName=tk;var rk="ToastDescription",Tw=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return f.jsx(he.div,{...n,ref:t})});Tw.displayName=rk;var Rw="ToastAction",Pw=y.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?f.jsx(Nw,{altText:r,asChild:!0,children:f.jsx(_h,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Rw}\`. Expected non-empty \`string\`.`),null)});Pw.displayName=Rw;var Aw="ToastClose",_h=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,o=XC(Aw,r);return f.jsx(Nw,{asChild:!0,children:f.jsx(he.button,{type:"button",...n,ref:t,onClick:X(e.onClick,o.onClose)})})});_h.displayName=Aw;var Nw=y.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...o}=e;return f.jsx(he.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function Ow(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),ok(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!o)if(i){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...Ow(n))}}),t}function Va(e,t,r,{discrete:n}){const o=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?yh(o,i):o.dispatchEvent(i)}var Rm=(e,t,r=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),i=n>o;return t==="left"||t==="right"?i&&n>r:!i&&o>r};function nk(e=()=>{}){const t=Ct(e);nt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function ok(e){return e.nodeType===e.ELEMENT_NODE}function ik(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function _c(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var sk=_w,Lw=Sw,Mw=Cw,jw=kw,Dw=Tw,Vw=Pw,Bw=_h;function Fw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Fw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $w(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Fw(e))&&(n&&(n+=" "),n+=t);return n}const Pm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Am=$w,Eu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Am(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:i}=t,s=Object.keys(o).map(u=>{const c=r==null?void 0:r[u],d=i==null?void 0:i[u];if(c===null)return null;const h=Pm(c)||Pm(d);return o[u][h]}),a=r&&Object.entries(r).reduce((u,c)=>{let[d,h]=c;return h===void 0||(u[d]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,c)=>{let{class:d,className:h,...p}=c;return Object.entries(p).every(w=>{let[m,_]=w;return Array.isArray(_)?_.includes({...i,...a}[m]):{...i,...a}[m]===_})?[...u,d,h]:u},[]);return Am(e,s,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uw=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:s,...a},l)=>y.createElement("svg",{ref:l,...lk,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Uw("lucide",o),...a},[...s.map(([u,c])=>y.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(e,t)=>{const r=y.forwardRef(({className:n,...o},i)=>y.createElement(uk,{ref:i,iconNode:t,className:Uw(`lucide-${ak(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=Ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=Ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=Ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=Ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=Ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=Ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=Ke("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=Ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=Ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ke("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Ke("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Ke("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=Ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sh="-",_k=e=>{const t=Sk(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const a=s.split(Sh);return a[0]===""&&a.length!==1&&a.shift(),Kw(a,t)||xk(s)},getConflictingClassGroupIds:(s,a)=>{const l=r[s]||[];return a&&n[s]?[...l,...n[s]]:l}}},Kw=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?Kw(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(Sh);return(s=t.validators.find(({validator:a})=>a(i)))==null?void 0:s.classGroupId},Mm=/^\[(.+)\]$/,xk=e=>{if(Mm.test(e)){const t=Mm.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Sk=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Ck(Object.entries(e.classGroups),r).forEach(([i,s])=>{Hd(s,n,i,t)}),n},Hd=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:jm(t,o);i.classGroupId=r;return}if(typeof o=="function"){if(Ek(o)){Hd(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([i,s])=>{Hd(s,jm(t,i),r,n)})})},jm=(e,t)=>{let r=e;return t.split(Sh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Ek=e=>e.isThemeGetter,Ck=(e,t)=>t?e.map(([r,n])=>{const o=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,a])=>[t+s,a])):i);return[r,o]}):e,kk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return o(i,s),s},set(i,s){r.has(i)?r.set(i,s):o(i,s)}}},Gw="!",Tk=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],i=t.length,s=a=>{const l=[];let u=0,c=0,d;for(let _=0;_<a.length;_++){let v=a[_];if(u===0){if(v===o&&(n||a.slice(_,_+i)===t)){l.push(a.slice(c,_)),c=_+i;continue}if(v==="/"){d=_;continue}}v==="["?u++:v==="]"&&u--}const h=l.length===0?a:a.substring(c),p=h.startsWith(Gw),w=p?h.substring(1):h,m=d&&d>c?d-c:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:m}};return r?a=>r({className:a,parseClassName:s}):s},Rk=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Pk=e=>({cache:kk(e.cacheSize),parseClassName:Tk(e),..._k(e)}),Ak=/\s+/,Nk=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,i=[],s=e.trim().split(Ak);let a="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:c,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let w=!!p,m=n(w?h.substring(0,p):h);if(!m){if(!w){a=u+(a.length>0?" "+a:a);continue}if(m=n(h),!m){a=u+(a.length>0?" "+a:a);continue}w=!1}const _=Rk(c).join(":"),v=d?_+Gw:_,g=v+m;if(i.includes(g))continue;i.push(g);const b=o(m,w);for(let S=0;S<b.length;++S){const T=b[S];i.push(v+T)}a=u+(a.length>0?" "+a:a)}return a};function Ok(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Iw(t))&&(n&&(n+=" "),n+=r);return n}const Iw=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Iw(e[n]))&&(r&&(r+=" "),r+=t);return r};function Lk(e,...t){let r,n,o,i=s;function s(l){const u=t.reduce((c,d)=>d(c),e());return r=Pk(u),n=r.cache.get,o=r.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const c=Nk(l,r);return o(l,c),c}return function(){return i(Ok.apply(null,arguments))}}const ke=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Qw=/^\[(?:([a-z-]+):)?(.+)\]$/i,Mk=/^\d+\/\d+$/,jk=new Set(["px","full","screen"]),Dk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Vk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Fk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$k=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mr=e=>di(e)||jk.has(e)||Mk.test(e),rn=e=>Bi(e,"length",Ik),di=e=>!!e&&!Number.isNaN(Number(e)),xc=e=>Bi(e,"number",di),es=e=>!!e&&Number.isInteger(Number(e)),Uk=e=>e.endsWith("%")&&di(e.slice(0,-1)),pe=e=>Qw.test(e),nn=e=>Dk.test(e),zk=new Set(["length","size","percentage"]),Hk=e=>Bi(e,zk,Jw),Wk=e=>Bi(e,"position",Jw),qk=new Set(["image","url"]),Kk=e=>Bi(e,qk,Jk),Gk=e=>Bi(e,"",Qk),ts=()=>!0,Bi=(e,t,r)=>{const n=Qw.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Ik=e=>Vk.test(e)&&!Bk.test(e),Jw=()=>!1,Qk=e=>Fk.test(e),Jk=e=>$k.test(e),Yk=()=>{const e=ke("colors"),t=ke("spacing"),r=ke("blur"),n=ke("brightness"),o=ke("borderColor"),i=ke("borderRadius"),s=ke("borderSpacing"),a=ke("borderWidth"),l=ke("contrast"),u=ke("grayscale"),c=ke("hueRotate"),d=ke("invert"),h=ke("gap"),p=ke("gradientColorStops"),w=ke("gradientColorStopPositions"),m=ke("inset"),_=ke("margin"),v=ke("opacity"),g=ke("padding"),b=ke("saturate"),S=ke("scale"),T=ke("sepia"),A=ke("skew"),O=ke("space"),V=ke("translate"),x=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",pe,t],j=()=>[pe,t],E=()=>["",Mr,rn],k=()=>["auto",di,pe],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",pe],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[di,pe];return{cacheSize:500,separator:":",theme:{colors:[ts],spacing:[Mr,rn],blur:["none","",nn,pe],brightness:H(),borderColor:[e],borderRadius:["none","","full",nn,pe],borderSpacing:j(),borderWidth:E(),contrast:H(),grayscale:R(),hueRotate:H(),invert:R(),gap:j(),gradientColorStops:[e],gradientColorStopPositions:[Uk,rn],inset:N(),margin:N(),opacity:H(),padding:j(),saturate:H(),scale:H(),sepia:R(),skew:H(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[nn]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),pe]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",es,pe]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",es,pe]}],"grid-cols":[{"grid-cols":[ts]}],"col-start-end":[{col:["auto",{span:["full",es,pe]},pe]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[ts]}],"row-start-end":[{row:["auto",{span:[es,pe]},pe]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,t]}],"min-w":[{"min-w":[pe,t,"min","max","fit"]}],"max-w":[{"max-w":[pe,t,"none","full","min","max","fit","prose",{screen:[nn]},nn]}],h:[{h:[pe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",nn,rn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xc]}],"font-family":[{font:[ts]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",di,xc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mr,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mr,rn]}],"underline-offset":[{"underline-offset":["auto",Mr,pe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),Wk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Hk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Kk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:L()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Mr,pe]}],"outline-w":[{outline:[Mr,rn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Mr,rn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",nn,Gk]}],"shadow-color":[{shadow:[ts]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",nn,pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[es,pe]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Mr,rn,xc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Xk=Lk(Yk);function fe(...e){return Xk($w(e))}const Zk=sk,Yw=y.forwardRef(({className:e,...t},r)=>f.jsx(Lw,{ref:r,className:fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Yw.displayName=Lw.displayName;const eT=Eu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Xw=y.forwardRef(({className:e,variant:t,...r},n)=>f.jsx(Mw,{ref:n,className:fe(eT({variant:t}),e),...r}));Xw.displayName=Mw.displayName;const tT=y.forwardRef(({className:e,...t},r)=>f.jsx(Vw,{ref:r,className:fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));tT.displayName=Vw.displayName;const Zw=y.forwardRef(({className:e,...t},r)=>f.jsx(Bw,{ref:r,className:fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:f.jsx(qw,{className:"h-4 w-4"})}));Zw.displayName=Bw.displayName;const e0=y.forwardRef(({className:e,...t},r)=>f.jsx(jw,{ref:r,className:fe("text-sm font-semibold",e),...t}));e0.displayName=jw.displayName;const t0=y.forwardRef(({className:e,...t},r)=>f.jsx(Dw,{ref:r,className:fe("text-sm opacity-90",e),...t}));t0.displayName=Dw.displayName;function rT(){const{toasts:e}=gC();return f.jsxs(Zk,{children:[e.map(function({id:t,title:r,description:n,action:o,...i}){return f.jsxs(Xw,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[r&&f.jsx(e0,{children:r}),n&&f.jsx(t0,{children:n})]}),o,f.jsx(Zw,{})]},t)}),f.jsx(Yw,{})]})}var Dm=["light","dark"],nT="(prefers-color-scheme: dark)",oT=y.createContext(void 0),iT={setTheme:e=>{},themes:[]},sT=()=>{var e;return(e=y.useContext(oT))!=null?e:iT};y.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:o,defaultTheme:i,value:s,attrs:a,nonce:l})=>{let u=i==="system",c=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=o?Dm.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(w,m=!1,_=!0)=>{let v=s?s[w]:w,g=m?w+"|| ''":`'${v}'`,b="";return o&&_&&!m&&Dm.includes(w)&&(b+=`d.style.colorScheme = '${w}';`),r==="class"?m||v?b+=`c.add(${g})`:b+="null":v&&(b+=`d[s](n,${g})`),b},p=e?`!function(){${c}${h(e)}}()`:n?`!function(){try{${c}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${nT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${d}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var aT=e=>{switch(e){case"success":return cT;case"info":return fT;case"warning":return dT;case"error":return hT;default:return null}},lT=Array(12).fill(0),uT=({visible:e,className:t})=>K.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},K.createElement("div",{className:"sonner-spinner"},lT.map((r,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),cT=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dT=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fT=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hT=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pT=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),mT=()=>{let[e,t]=K.useState(document.hidden);return K.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Wd=1,gT=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Wd++,i=this.toasts.find(a=>a.id===o),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),i?this.toasts=this.toasts.map(a=>a.id===o?(this.publish({...a,...e,id:o,title:r}),{...a,...e,id:o,dismissible:s,title:r}):a):this.addToast({title:r,...n,dismissible:s,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),o=r!==void 0,i,s=n.then(async l=>{if(i=["resolve",l],K.isValidElement(l))o=!1,this.create({id:r,type:"default",message:l});else if(yT(l)&&!l.ok){o=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,c=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:u,description:c})}else if(t.success!==void 0){o=!1;let u=typeof t.success=="function"?await t.success(l):t.success,c=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:u,description:c})}}).catch(async l=>{if(i=["reject",l],t.error!==void 0){o=!1;let u=typeof t.error=="function"?await t.error(l):t.error,c=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:u,description:c})}}).finally(()=>{var l;o&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),a=()=>new Promise((l,u)=>s.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Wd++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},vt=new gT,vT=(e,t)=>{let r=(t==null?void 0:t.id)||Wd++;return vt.addToast({title:e,...t,id:r}),r},yT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",wT=vT,bT=()=>vt.toasts,_T=()=>vt.getActiveToasts(),Vt=Object.assign(wT,{success:vt.success,info:vt.info,warning:vt.warning,error:vt.error,custom:vt.custom,message:vt.message,promise:vt.promise,dismiss:vt.dismiss,loading:vt.loading},{getHistory:bT,getToasts:_T});function xT(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}xT(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ba(e){return e.label!==void 0}var ST=3,ET="32px",CT="16px",Vm=4e3,kT=356,TT=14,RT=20,PT=200;function Yt(...e){return e.filter(Boolean).join(" ")}function AT(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var NT=e=>{var t,r,n,o,i,s,a,l,u,c,d;let{invert:h,toast:p,unstyled:w,interacting:m,setHeights:_,visibleToasts:v,heights:g,index:b,toasts:S,expanded:T,removeToast:A,defaultRichColors:O,closeButton:V,style:x,cancelButtonStyle:C,actionButtonStyle:N,className:j="",descriptionClassName:E="",duration:k,position:P,gap:L,loadingIcon:B,expandByDefault:M,classNames:R,icons:D,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:F}=e,[W,I]=K.useState(null),[G,J]=K.useState(null),[U,Z]=K.useState(!1),[ie,le]=K.useState(!1),[ue,se]=K.useState(!1),[Se,je]=K.useState(!1),[Or,pr]=K.useState(!1),[Lr,qn]=K.useState(0),[Yr,ga]=K.useState(0),Ue=K.useRef(p.duration||k||Vm),va=K.useRef(null),$=K.useRef(null),Q=b===0,Y=b+1<=v,ee=p.type,ae=p.dismissible!==!1,me=p.className||"",ze=p.descriptionClassName||"",Kt=K.useMemo(()=>g.findIndex(ce=>ce.toastId===p.id)||0,[g,p.id]),Po=K.useMemo(()=>{var ce;return(ce=p.closeButton)!=null?ce:V},[p.closeButton,V]),Ao=K.useMemo(()=>p.duration||k||Vm,[p.duration,k]),Kn=K.useRef(0),No=K.useRef(0),dp=K.useRef(0),Oo=K.useRef(null),[jx,Dx]=P.split("-"),fp=K.useMemo(()=>g.reduce((ce,xe,Pe)=>Pe>=Kt?ce:ce+xe.height,0),[g,Kt]),hp=mT(),Vx=p.invert||h,Wu=ee==="loading";No.current=K.useMemo(()=>Kt*L+fp,[Kt,fp]),K.useEffect(()=>{Ue.current=Ao},[Ao]),K.useEffect(()=>{Z(!0)},[]),K.useEffect(()=>{let ce=$.current;if(ce){let xe=ce.getBoundingClientRect().height;return ga(xe),_(Pe=>[{toastId:p.id,height:xe,position:p.position},...Pe]),()=>_(Pe=>Pe.filter(Gt=>Gt.toastId!==p.id))}},[_,p.id]),K.useLayoutEffect(()=>{if(!U)return;let ce=$.current,xe=ce.style.height;ce.style.height="auto";let Pe=ce.getBoundingClientRect().height;ce.style.height=xe,ga(Pe),_(Gt=>Gt.find(It=>It.toastId===p.id)?Gt.map(It=>It.toastId===p.id?{...It,height:Pe}:It):[{toastId:p.id,height:Pe,position:p.position},...Gt])},[U,p.title,p.description,_,p.id]);let Xr=K.useCallback(()=>{le(!0),qn(No.current),_(ce=>ce.filter(xe=>xe.toastId!==p.id)),setTimeout(()=>{A(p)},PT)},[p,A,_,No]);K.useEffect(()=>{if(p.promise&&ee==="loading"||p.duration===1/0||p.type==="loading")return;let ce;return T||m||F&&hp?(()=>{if(dp.current<Kn.current){let xe=new Date().getTime()-Kn.current;Ue.current=Ue.current-xe}dp.current=new Date().getTime()})():Ue.current!==1/0&&(Kn.current=new Date().getTime(),ce=setTimeout(()=>{var xe;(xe=p.onAutoClose)==null||xe.call(p,p),Xr()},Ue.current)),()=>clearTimeout(ce)},[T,m,p,ee,F,hp,Xr]),K.useEffect(()=>{p.delete&&Xr()},[Xr,p.delete]);function Bx(){var ce,xe,Pe;return D!=null&&D.loading?K.createElement("div",{className:Yt(R==null?void 0:R.loader,(ce=p==null?void 0:p.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":ee==="loading"},D.loading):B?K.createElement("div",{className:Yt(R==null?void 0:R.loader,(xe=p==null?void 0:p.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":ee==="loading"},B):K.createElement(uT,{className:Yt(R==null?void 0:R.loader,(Pe=p==null?void 0:p.classNames)==null?void 0:Pe.loader),visible:ee==="loading"})}return K.createElement("li",{tabIndex:0,ref:$,className:Yt(j,me,R==null?void 0:R.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,R==null?void 0:R.default,R==null?void 0:R[ee],(r=p==null?void 0:p.classNames)==null?void 0:r[ee]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:O,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":U,"data-promise":!!p.promise,"data-swiped":Or,"data-removed":ie,"data-visible":Y,"data-y-position":jx,"data-x-position":Dx,"data-index":b,"data-front":Q,"data-swiping":ue,"data-dismissible":ae,"data-type":ee,"data-invert":Vx,"data-swipe-out":Se,"data-swipe-direction":G,"data-expanded":!!(T||M&&U),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${ie?Lr:No.current}px`,"--initial-height":M?"auto":`${Yr}px`,...x,...p.style},onDragEnd:()=>{se(!1),I(null),Oo.current=null},onPointerDown:ce=>{Wu||!ae||(va.current=new Date,qn(No.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(se(!0),Oo.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,xe,Pe,Gt;if(Se||!ae)return;Oo.current=null;let It=Number(((ce=$.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Zr=Number(((xe=$.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Gn=new Date().getTime()-((Pe=va.current)==null?void 0:Pe.getTime()),Qt=W==="x"?It:Zr,en=Math.abs(Qt)/Gn;if(Math.abs(Qt)>=RT||en>.11){qn(No.current),(Gt=p.onDismiss)==null||Gt.call(p,p),J(W==="x"?It>0?"right":"left":Zr>0?"down":"up"),Xr(),je(!0),pr(!1);return}se(!1),I(null)},onPointerMove:ce=>{var xe,Pe,Gt,It;if(!Oo.current||!ae||((xe=window.getSelection())==null?void 0:xe.toString().length)>0)return;let Zr=ce.clientY-Oo.current.y,Gn=ce.clientX-Oo.current.x,Qt=(Pe=e.swipeDirections)!=null?Pe:AT(P);!W&&(Math.abs(Gn)>1||Math.abs(Zr)>1)&&I(Math.abs(Gn)>Math.abs(Zr)?"x":"y");let en={x:0,y:0};W==="y"?(Qt.includes("top")||Qt.includes("bottom"))&&(Qt.includes("top")&&Zr<0||Qt.includes("bottom")&&Zr>0)&&(en.y=Zr):W==="x"&&(Qt.includes("left")||Qt.includes("right"))&&(Qt.includes("left")&&Gn<0||Qt.includes("right")&&Gn>0)&&(en.x=Gn),(Math.abs(en.x)>0||Math.abs(en.y)>0)&&pr(!0),(Gt=$.current)==null||Gt.style.setProperty("--swipe-amount-x",`${en.x}px`),(It=$.current)==null||It.style.setProperty("--swipe-amount-y",`${en.y}px`)}},Po&&!p.jsx?K.createElement("button",{"aria-label":H,"data-disabled":Wu,"data-close-button":!0,onClick:Wu||!ae?()=>{}:()=>{var ce;Xr(),(ce=p.onDismiss)==null||ce.call(p,p)},className:Yt(R==null?void 0:R.closeButton,(o=p==null?void 0:p.classNames)==null?void 0:o.closeButton)},(i=D==null?void 0:D.close)!=null?i:pT):null,p.jsx||y.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:K.createElement(K.Fragment,null,ee||p.icon||p.promise?K.createElement("div",{"data-icon":"",className:Yt(R==null?void 0:R.icon,(s=p==null?void 0:p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Bx():null,p.type!=="loading"?p.icon||(D==null?void 0:D[ee])||aT(ee):null):null,K.createElement("div",{"data-content":"",className:Yt(R==null?void 0:R.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},K.createElement("div",{"data-title":"",className:Yt(R==null?void 0:R.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?K.createElement("div",{"data-description":"",className:Yt(E,ze,R==null?void 0:R.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),y.isValidElement(p.cancel)?p.cancel:p.cancel&&Ba(p.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||C,onClick:ce=>{var xe,Pe;Ba(p.cancel)&&ae&&((Pe=(xe=p.cancel).onClick)==null||Pe.call(xe,ce),Xr())},className:Yt(R==null?void 0:R.cancelButton,(c=p==null?void 0:p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,y.isValidElement(p.action)?p.action:p.action&&Ba(p.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||N,onClick:ce=>{var xe,Pe;Ba(p.action)&&((Pe=(xe=p.action).onClick)==null||Pe.call(xe,ce),!ce.defaultPrevented&&Xr())},className:Yt(R==null?void 0:R.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function Bm(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function OT(e,t){let r={};return[e,t].forEach((n,o)=>{let i=o===1,s=i?"--mobile-offset":"--offset",a=i?CT:ET;function l(u){["top","right","bottom","left"].forEach(c=>{r[`${s}-${c}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=a:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(a)}),r}var LT=y.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:o=["altKey","KeyT"],expand:i,closeButton:s,className:a,offset:l,mobileOffset:u,theme:c="light",richColors:d,duration:h,style:p,visibleToasts:w=ST,toastOptions:m,dir:_=Bm(),gap:v=TT,loadingIcon:g,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:T}=e,[A,O]=K.useState([]),V=K.useMemo(()=>Array.from(new Set([n].concat(A.filter(F=>F.position).map(F=>F.position)))),[A,n]),[x,C]=K.useState([]),[N,j]=K.useState(!1),[E,k]=K.useState(!1),[P,L]=K.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=K.useRef(null),M=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=K.useRef(null),D=K.useRef(!1),H=K.useCallback(F=>{O(W=>{var I;return(I=W.find(G=>G.id===F.id))!=null&&I.delete||vt.dismiss(F.id),W.filter(({id:G})=>G!==F.id)})},[]);return K.useEffect(()=>vt.subscribe(F=>{if(F.dismiss){O(W=>W.map(I=>I.id===F.id?{...I,delete:!0}:I));return}setTimeout(()=>{hw.flushSync(()=>{O(W=>{let I=W.findIndex(G=>G.id===F.id);return I!==-1?[...W.slice(0,I),{...W[I],...F},...W.slice(I+1)]:[F,...W]})})})}),[]),K.useEffect(()=>{if(c!=="system"){L(c);return}if(c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:W})=>{L(W?"dark":"light")})}catch{F.addListener(({matches:I})=>{try{L(I?"dark":"light")}catch(G){console.error(G)}})}},[c]),K.useEffect(()=>{A.length<=1&&j(!1)},[A]),K.useEffect(()=>{let F=W=>{var I,G;o.every(J=>W[J]||W.code===J)&&(j(!0),(I=B.current)==null||I.focus()),W.code==="Escape"&&(document.activeElement===B.current||(G=B.current)!=null&&G.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[o]),K.useEffect(()=>{if(B.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,D.current=!1)}},[B.current]),K.createElement("section",{ref:t,"aria-label":`${S} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((F,W)=>{var I;let[G,J]=F.split("-");return A.length?K.createElement("ol",{key:F,dir:_==="auto"?Bm():_,tabIndex:-1,ref:B,className:a,"data-sonner-toaster":!0,"data-theme":P,"data-y-position":G,"data-lifted":N&&A.length>1&&!i,"data-x-position":J,style:{"--front-toast-height":`${((I=x[0])==null?void 0:I.height)||0}px`,"--width":`${kT}px`,"--gap":`${v}px`,...p,...OT(l,u)},onBlur:U=>{D.current&&!U.currentTarget.contains(U.relatedTarget)&&(D.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||D.current||(D.current=!0,R.current=U.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{E||j(!1)},onDragEnd:()=>j(!1),onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},A.filter(U=>!U.position&&W===0||U.position===F).map((U,Z)=>{var ie,le;return K.createElement(NT,{key:U.id,icons:b,index:Z,toast:U,defaultRichColors:d,duration:(ie=m==null?void 0:m.duration)!=null?ie:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:w,closeButton:(le=m==null?void 0:m.closeButton)!=null?le:s,interacting:E,position:F,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:H,toasts:A.filter(ue=>ue.position==U.position),heights:x.filter(ue=>ue.position==U.position),setHeights:C,expandByDefault:i,gap:v,loadingIcon:g,expanded:N,pauseWhenPageIsHidden:T,swipeDirections:e.swipeDirections})})):null}))});const MT=({...e})=>{const{theme:t="system"}=sT();return f.jsx(LT,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var jT=Tf[" useId ".trim().toString()]||(()=>{}),DT=0;function Ni(e){const[t,r]=y.useState(jT());return nt(()=>{r(n=>n??String(DT++))},[e]),t?`radix-${t}`:""}const VT=["top","right","bottom","left"],Mn=Math.min,Rt=Math.max,Bl=Math.round,Fa=Math.floor,Tr=e=>({x:e,y:e}),BT={left:"right",right:"left",bottom:"top",top:"bottom"},FT={start:"end",end:"start"};function qd(e,t,r){return Rt(e,Mn(t,r))}function Gr(e,t){return typeof e=="function"?e(t):e}function Ir(e){return e.split("-")[0]}function Fi(e){return e.split("-")[1]}function Eh(e){return e==="x"?"y":"x"}function Ch(e){return e==="y"?"height":"width"}const $T=new Set(["top","bottom"]);function Er(e){return $T.has(Ir(e))?"y":"x"}function kh(e){return Eh(Er(e))}function UT(e,t,r){r===void 0&&(r=!1);const n=Fi(e),o=kh(e),i=Ch(o);let s=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Fl(s)),[s,Fl(s)]}function zT(e){const t=Fl(e);return[Kd(e),t,Kd(t)]}function Kd(e){return e.replace(/start|end/g,t=>FT[t])}const Fm=["left","right"],$m=["right","left"],HT=["top","bottom"],WT=["bottom","top"];function qT(e,t,r){switch(e){case"top":case"bottom":return r?t?$m:Fm:t?Fm:$m;case"left":case"right":return t?HT:WT;default:return[]}}function KT(e,t,r,n){const o=Fi(e);let i=qT(Ir(e),r==="start",n);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Kd)))),i}function Fl(e){return e.replace(/left|right|bottom|top/g,t=>BT[t])}function GT(e){return{top:0,right:0,bottom:0,left:0,...e}}function r0(e){return typeof e!="number"?GT(e):{top:e,right:e,bottom:e,left:e}}function $l(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function Um(e,t,r){let{reference:n,floating:o}=e;const i=Er(t),s=kh(t),a=Ch(s),l=Ir(t),u=i==="y",c=n.x+n.width/2-o.width/2,d=n.y+n.height/2-o.height/2,h=n[a]/2-o[a]/2;let p;switch(l){case"top":p={x:c,y:n.y-o.height};break;case"bottom":p={x:c,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-o.width,y:d};break;default:p={x:n.x,y:n.y}}switch(Fi(t)){case"start":p[s]-=h*(r&&u?-1:1);break;case"end":p[s]+=h*(r&&u?-1:1);break}return p}const IT=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:s}=r,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:d}=Um(u,n,l),h=n,p={},w=0;for(let m=0;m<a.length;m++){const{name:_,fn:v}=a[m],{x:g,y:b,data:S,reset:T}=await v({x:c,y:d,initialPlacement:n,placement:h,strategy:o,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});c=g??c,d=b??d,p={...p,[_]:{...p[_],...S}},T&&w<=50&&(w++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(u=T.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):T.rects),{x:c,y:d}=Um(u,h,l)),m=-1)}return{x:c,y:d,placement:h,strategy:o,middlewareData:p}};async function $s(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Gr(t,e),w=r0(p),_=a[h?d==="floating"?"reference":"floating":d],v=$l(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(_)))==null||r?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),g=d==="floating"?{x:n,y:o,width:s.floating.width,height:s.floating.height}:s.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},T=$l(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:b,strategy:l}):g);return{top:(v.top-T.top+w.top)/S.y,bottom:(T.bottom-v.bottom+w.bottom)/S.y,left:(v.left-T.left+w.left)/S.x,right:(T.right-v.right+w.right)/S.x}}const QT=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=Gr(e,t)||{};if(u==null)return{};const d=r0(c),h={x:r,y:n},p=kh(o),w=Ch(p),m=await s.getDimensions(u),_=p==="y",v=_?"top":"left",g=_?"bottom":"right",b=_?"clientHeight":"clientWidth",S=i.reference[w]+i.reference[p]-h[p]-i.floating[w],T=h[p]-i.reference[p],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let O=A?A[b]:0;(!O||!await(s.isElement==null?void 0:s.isElement(A)))&&(O=a.floating[b]||i.floating[w]);const V=S/2-T/2,x=O/2-m[w]/2-1,C=Mn(d[v],x),N=Mn(d[g],x),j=C,E=O-m[w]-N,k=O/2-m[w]/2+V,P=qd(j,k,E),L=!l.arrow&&Fi(o)!=null&&k!==P&&i.reference[w]/2-(k<j?C:N)-m[w]/2<0,B=L?k<j?k-j:k-E:0;return{[p]:h[p]+B,data:{[p]:P,centerOffset:k-P-B,...L&&{alignmentOffset:B}},reset:L}}}),JT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:m=!0,..._}=Gr(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Ir(o),g=Er(a),b=Ir(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),T=h||(b||!m?[Fl(a)]:zT(a)),A=w!=="none";!h&&A&&T.push(...KT(a,m,w,S));const O=[a,...T],V=await $s(t,_),x=[];let C=((n=i.flip)==null?void 0:n.overflows)||[];if(c&&x.push(V[v]),d){const k=UT(o,s,S);x.push(V[k[0]],V[k[1]])}if(C=[...C,{placement:o,overflows:x}],!x.every(k=>k<=0)){var N,j;const k=(((N=i.flip)==null?void 0:N.index)||0)+1,P=O[k];if(P&&(!(d==="alignment"?g!==Er(P):!1)||C.every(M=>M.overflows[0]>0&&Er(M.placement)===g)))return{data:{index:k,overflows:C},reset:{placement:P}};let L=(j=C.filter(B=>B.overflows[0]<=0).sort((B,M)=>B.overflows[1]-M.overflows[1])[0])==null?void 0:j.placement;if(!L)switch(p){case"bestFit":{var E;const B=(E=C.filter(M=>{if(A){const R=Er(M.placement);return R===g||R==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(R=>R>0).reduce((R,D)=>R+D,0)]).sort((M,R)=>M[1]-R[1])[0])==null?void 0:E[0];B&&(L=B);break}case"initialPlacement":L=a;break}if(o!==L)return{reset:{placement:L}}}return{}}}};function zm(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Hm(e){return VT.some(t=>e[t]>=0)}const YT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=Gr(e,t);switch(n){case"referenceHidden":{const i=await $s(t,{...o,elementContext:"reference"}),s=zm(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Hm(s)}}}case"escaped":{const i=await $s(t,{...o,altBoundary:!0}),s=zm(i,r.floating);return{data:{escapedOffsets:s,escaped:Hm(s)}}}default:return{}}}}},n0=new Set(["left","top"]);async function XT(e,t){const{placement:r,platform:n,elements:o}=e,i=await(n.isRTL==null?void 0:n.isRTL(o.floating)),s=Ir(r),a=Fi(r),l=Er(r)==="y",u=n0.has(s)?-1:1,c=i&&l?-1:1,d=Gr(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof w=="number"&&(p=a==="end"?w*-1:w),l?{x:p*c,y:h*u}:{x:h*u,y:p*c}}const ZT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:i,placement:s,middlewareData:a}=t,l=await XT(t,e);return s===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},eR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:_=>{let{x:v,y:g}=_;return{x:v,y:g}}},...l}=Gr(e,t),u={x:r,y:n},c=await $s(t,l),d=Er(Ir(o)),h=Eh(d);let p=u[h],w=u[d];if(i){const _=h==="y"?"top":"left",v=h==="y"?"bottom":"right",g=p+c[_],b=p-c[v];p=qd(g,p,b)}if(s){const _=d==="y"?"top":"left",v=d==="y"?"bottom":"right",g=w+c[_],b=w-c[v];w=qd(g,w,b)}const m=a.fn({...t,[h]:p,[d]:w});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[d]:s}}}}}},tR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:i,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Gr(e,t),c={x:r,y:n},d=Er(o),h=Eh(d);let p=c[h],w=c[d];const m=Gr(a,t),_=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=h==="y"?"height":"width",S=i.reference[h]-i.floating[b]+_.mainAxis,T=i.reference[h]+i.reference[b]-_.mainAxis;p<S?p=S:p>T&&(p=T)}if(u){var v,g;const b=h==="y"?"width":"height",S=n0.has(Ir(o)),T=i.reference[d]-i.floating[b]+(S&&((v=s.offset)==null?void 0:v[d])||0)+(S?0:_.crossAxis),A=i.reference[d]+i.reference[b]+(S?0:((g=s.offset)==null?void 0:g[d])||0)-(S?_.crossAxis:0);w<T?w=T:w>A&&(w=A)}return{[h]:p,[d]:w}}}},rR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:i,platform:s,elements:a}=t,{apply:l=()=>{},...u}=Gr(e,t),c=await $s(t,u),d=Ir(o),h=Fi(o),p=Er(o)==="y",{width:w,height:m}=i.floating;let _,v;d==="top"||d==="bottom"?(_=d,v=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,_=h==="end"?"top":"bottom");const g=m-c.top-c.bottom,b=w-c.left-c.right,S=Mn(m-c[_],g),T=Mn(w-c[v],b),A=!t.middlewareData.shift;let O=S,V=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(V=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=g),A&&!h){const C=Rt(c.left,0),N=Rt(c.right,0),j=Rt(c.top,0),E=Rt(c.bottom,0);p?V=w-2*(C!==0||N!==0?C+N:Rt(c.left,c.right)):O=m-2*(j!==0||E!==0?j+E:Rt(c.top,c.bottom))}await l({...t,availableWidth:V,availableHeight:O});const x=await s.getDimensions(a.floating);return w!==x.width||m!==x.height?{reset:{rects:!0}}:{}}}};function Cu(){return typeof window<"u"}function $i(e){return o0(e)?(e.nodeName||"").toLowerCase():"#document"}function Lt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ar(e){var t;return(t=(o0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function o0(e){return Cu()?e instanceof Node||e instanceof Lt(e).Node:!1}function fr(e){return Cu()?e instanceof Element||e instanceof Lt(e).Element:!1}function Rr(e){return Cu()?e instanceof HTMLElement||e instanceof Lt(e).HTMLElement:!1}function Wm(e){return!Cu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Lt(e).ShadowRoot}const nR=new Set(["inline","contents"]);function da(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=hr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!nR.has(o)}const oR=new Set(["table","td","th"]);function iR(e){return oR.has($i(e))}const sR=[":popover-open",":modal"];function ku(e){return sR.some(t=>{try{return e.matches(t)}catch{return!1}})}const aR=["transform","translate","scale","rotate","perspective"],lR=["transform","translate","scale","rotate","perspective","filter"],uR=["paint","layout","strict","content"];function Th(e){const t=Rh(),r=fr(e)?hr(e):e;return aR.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||lR.some(n=>(r.willChange||"").includes(n))||uR.some(n=>(r.contain||"").includes(n))}function cR(e){let t=jn(e);for(;Rr(t)&&!Oi(t);){if(Th(t))return t;if(ku(t))return null;t=jn(t)}return null}function Rh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dR=new Set(["html","body","#document"]);function Oi(e){return dR.has($i(e))}function hr(e){return Lt(e).getComputedStyle(e)}function Tu(e){return fr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function jn(e){if($i(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Wm(e)&&e.host||Ar(e);return Wm(t)?t.host:t}function i0(e){const t=jn(e);return Oi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Rr(t)&&da(t)?t:i0(t)}function Us(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=i0(e),i=o===((n=e.ownerDocument)==null?void 0:n.body),s=Lt(o);if(i){const a=Gd(s);return t.concat(s,s.visualViewport||[],da(o)?o:[],a&&r?Us(a):[])}return t.concat(o,Us(o,[],r))}function Gd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function s0(e){const t=hr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=Rr(e),i=o?e.offsetWidth:r,s=o?e.offsetHeight:n,a=Bl(r)!==i||Bl(n)!==s;return a&&(r=i,n=s),{width:r,height:n,$:a}}function Ph(e){return fr(e)?e:e.contextElement}function fi(e){const t=Ph(e);if(!Rr(t))return Tr(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:i}=s0(t);let s=(i?Bl(r.width):r.width)/n,a=(i?Bl(r.height):r.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const fR=Tr(0);function a0(e){const t=Lt(e);return!Rh()||!t.visualViewport?fR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hR(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Lt(e)?!1:t}function bo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),i=Ph(e);let s=Tr(1);t&&(n?fr(n)&&(s=fi(n)):s=fi(e));const a=hR(i,r,n)?a0(i):Tr(0);let l=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,c=o.width/s.x,d=o.height/s.y;if(i){const h=Lt(i),p=n&&fr(n)?Lt(n):n;let w=h,m=Gd(w);for(;m&&n&&p!==w;){const _=fi(m),v=m.getBoundingClientRect(),g=hr(m),b=v.left+(m.clientLeft+parseFloat(g.paddingLeft))*_.x,S=v.top+(m.clientTop+parseFloat(g.paddingTop))*_.y;l*=_.x,u*=_.y,c*=_.x,d*=_.y,l+=b,u+=S,w=Lt(m),m=Gd(w)}}return $l({width:c,height:d,x:l,y:u})}function Ah(e,t){const r=Tu(e).scrollLeft;return t?t.left+r:bo(Ar(e)).left+r}function l0(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(r?0:Ah(e,n)),i=n.top+t.scrollTop;return{x:o,y:i}}function pR(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const i=o==="fixed",s=Ar(n),a=t?ku(t.floating):!1;if(n===s||a&&i)return r;let l={scrollLeft:0,scrollTop:0},u=Tr(1);const c=Tr(0),d=Rr(n);if((d||!d&&!i)&&(($i(n)!=="body"||da(s))&&(l=Tu(n)),Rr(n))){const p=bo(n);u=fi(n),c.x=p.x+n.clientLeft,c.y=p.y+n.clientTop}const h=s&&!d&&!i?l0(s,l,!0):Tr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+h.x,y:r.y*u.y-l.scrollTop*u.y+c.y+h.y}}function mR(e){return Array.from(e.getClientRects())}function gR(e){const t=Ar(e),r=Tu(e),n=e.ownerDocument.body,o=Rt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Rt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Ah(e);const a=-r.scrollTop;return hr(n).direction==="rtl"&&(s+=Rt(t.clientWidth,n.clientWidth)-o),{width:o,height:i,x:s,y:a}}function vR(e,t){const r=Lt(e),n=Ar(e),o=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const u=Rh();(!u||u&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}const yR=new Set(["absolute","fixed"]);function wR(e,t){const r=bo(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,i=Rr(e)?fi(e):Tr(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,u=n*i.y;return{width:s,height:a,x:l,y:u}}function qm(e,t,r){let n;if(t==="viewport")n=vR(e,r);else if(t==="document")n=gR(Ar(e));else if(fr(t))n=wR(t,r);else{const o=a0(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return $l(n)}function u0(e,t){const r=jn(e);return r===t||!fr(r)||Oi(r)?!1:hr(r).position==="fixed"||u0(r,t)}function bR(e,t){const r=t.get(e);if(r)return r;let n=Us(e,[],!1).filter(a=>fr(a)&&$i(a)!=="body"),o=null;const i=hr(e).position==="fixed";let s=i?jn(e):e;for(;fr(s)&&!Oi(s);){const a=hr(s),l=Th(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&yR.has(o.position)||da(s)&&!l&&u0(e,s))?n=n.filter(c=>c!==s):o=a,s=jn(s)}return t.set(e,n),n}function _R(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const s=[...r==="clippingAncestors"?ku(t)?[]:bR(t,this._c):[].concat(r),n],a=s[0],l=s.reduce((u,c)=>{const d=qm(t,c,o);return u.top=Rt(d.top,u.top),u.right=Mn(d.right,u.right),u.bottom=Mn(d.bottom,u.bottom),u.left=Rt(d.left,u.left),u},qm(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function xR(e){const{width:t,height:r}=s0(e);return{width:t,height:r}}function SR(e,t,r){const n=Rr(t),o=Ar(t),i=r==="fixed",s=bo(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Tr(0);function u(){l.x=Ah(o)}if(n||!n&&!i)if(($i(t)!=="body"||da(o))&&(a=Tu(t)),n){const p=bo(t,!0,i,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else o&&u();i&&!n&&o&&u();const c=o&&!n&&!i?l0(o,a):Tr(0),d=s.left+a.scrollLeft-l.x-c.x,h=s.top+a.scrollTop-l.y-c.y;return{x:d,y:h,width:s.width,height:s.height}}function Sc(e){return hr(e).position==="static"}function Km(e,t){if(!Rr(e)||hr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ar(e)===r&&(r=r.ownerDocument.body),r}function c0(e,t){const r=Lt(e);if(ku(e))return r;if(!Rr(e)){let o=jn(e);for(;o&&!Oi(o);){if(fr(o)&&!Sc(o))return o;o=jn(o)}return r}let n=Km(e,t);for(;n&&iR(n)&&Sc(n);)n=Km(n,t);return n&&Oi(n)&&Sc(n)&&!Th(n)?r:n||cR(e)||r}const ER=async function(e){const t=this.getOffsetParent||c0,r=this.getDimensions,n=await r(e.floating);return{reference:SR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function CR(e){return hr(e).direction==="rtl"}const kR={convertOffsetParentRelativeRectToViewportRelativeRect:pR,getDocumentElement:Ar,getClippingRect:_R,getOffsetParent:c0,getElementRects:ER,getClientRects:mR,getDimensions:xR,getScale:fi,isElement:fr,isRTL:CR};function d0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function TR(e,t){let r=null,n;const o=Ar(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:c,top:d,width:h,height:p}=u;if(a||t(),!h||!p)return;const w=Fa(d),m=Fa(o.clientWidth-(c+h)),_=Fa(o.clientHeight-(d+p)),v=Fa(c),b={rootMargin:-w+"px "+-m+"px "+-_+"px "+-v+"px",threshold:Rt(0,Mn(1,l))||1};let S=!0;function T(A){const O=A[0].intersectionRatio;if(O!==l){if(!S)return s();O?s(!1,O):n=setTimeout(()=>{s(!1,1e-7)},1e3)}O===1&&!d0(u,e.getBoundingClientRect())&&s(),S=!1}try{r=new IntersectionObserver(T,{...b,root:o.ownerDocument})}catch{r=new IntersectionObserver(T,b)}r.observe(e)}return s(!0),i}function RR(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=Ph(e),c=o||i?[...u?Us(u):[],...Us(t)]:[];c.forEach(v=>{o&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const d=u&&a?TR(u,r):null;let h=-1,p=null;s&&(p=new ResizeObserver(v=>{let[g]=v;g&&g.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!l&&p.observe(u),p.observe(t));let w,m=l?bo(e):null;l&&_();function _(){const v=bo(e);m&&!d0(m,v)&&r(),m=v,w=requestAnimationFrame(_)}return r(),()=>{var v;c.forEach(g=>{o&&g.removeEventListener("scroll",r),i&&g.removeEventListener("resize",r)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(w)}}const PR=ZT,AR=eR,NR=JT,OR=rR,LR=YT,Gm=QT,MR=tR,jR=(e,t,r)=>{const n=new Map,o={platform:kR,...r},i={...o.platform,_c:n};return IT(e,t,{...o,platform:i})};var DR=typeof document<"u",VR=function(){},cl=DR?y.useLayoutEffect:VR;function Ul(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ul(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const i=o[n];if(!(i==="_owner"&&e.$$typeof)&&!Ul(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function f0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Im(e,t){const r=f0(e);return Math.round(t*r)/r}function Ec(e){const t=y.useRef(e);return cl(()=>{t.current=e}),t}function BR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=y.useState(n);Ul(h,n)||p(n);const[w,m]=y.useState(null),[_,v]=y.useState(null),g=y.useCallback(M=>{M!==A.current&&(A.current=M,m(M))},[]),b=y.useCallback(M=>{M!==O.current&&(O.current=M,v(M))},[]),S=i||w,T=s||_,A=y.useRef(null),O=y.useRef(null),V=y.useRef(c),x=l!=null,C=Ec(l),N=Ec(o),j=Ec(u),E=y.useCallback(()=>{if(!A.current||!O.current)return;const M={placement:t,strategy:r,middleware:h};N.current&&(M.platform=N.current),jR(A.current,O.current,M).then(R=>{const D={...R,isPositioned:j.current!==!1};k.current&&!Ul(V.current,D)&&(V.current=D,ko.flushSync(()=>{d(D)}))})},[h,t,r,N,j]);cl(()=>{u===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,d(M=>({...M,isPositioned:!1})))},[u]);const k=y.useRef(!1);cl(()=>(k.current=!0,()=>{k.current=!1}),[]),cl(()=>{if(S&&(A.current=S),T&&(O.current=T),S&&T){if(C.current)return C.current(S,T,E);E()}},[S,T,E,C,x]);const P=y.useMemo(()=>({reference:A,floating:O,setReference:g,setFloating:b}),[g,b]),L=y.useMemo(()=>({reference:S,floating:T}),[S,T]),B=y.useMemo(()=>{const M={position:r,left:0,top:0};if(!L.floating)return M;const R=Im(L.floating,c.x),D=Im(L.floating,c.y);return a?{...M,transform:"translate("+R+"px, "+D+"px)",...f0(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:D}},[r,a,L.floating,c.x,c.y]);return y.useMemo(()=>({...c,update:E,refs:P,elements:L,floatingStyles:B}),[c,E,P,L,B])}const FR=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Gm({element:n.current,padding:o}).fn(r):{}:n?Gm({element:n,padding:o}).fn(r):{}}}},$R=(e,t)=>({...PR(e),options:[e,t]}),UR=(e,t)=>({...AR(e),options:[e,t]}),zR=(e,t)=>({...MR(e),options:[e,t]}),HR=(e,t)=>({...NR(e),options:[e,t]}),WR=(e,t)=>({...OR(e),options:[e,t]}),qR=(e,t)=>({...LR(e),options:[e,t]}),KR=(e,t)=>({...FR(e),options:[e,t]});var GR="Arrow",h0=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...i}=e;return f.jsx(he.svg,{...i,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});h0.displayName=GR;var IR=h0;function Nh(e){const[t,r]=y.useState(void 0);return nt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,a=u.blockSize}else s=e.offsetWidth,a=e.offsetHeight;r({width:s,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Oh="Popper",[p0,Ui]=Pr(Oh),[QR,m0]=p0(Oh),g0=e=>{const{__scopePopper:t,children:r}=e,[n,o]=y.useState(null);return f.jsx(QR,{scope:t,anchor:n,onAnchorChange:o,children:r})};g0.displayName=Oh;var v0="PopperAnchor",y0=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,i=m0(v0,r),s=y.useRef(null),a=we(t,s);return y.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:f.jsx(he.div,{...o,ref:a})});y0.displayName=v0;var Lh="PopperContent",[JR,YR]=p0(Lh),w0=y.forwardRef((e,t)=>{var U,Z,ie,le,ue,se;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:i="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:w,...m}=e,_=m0(Lh,r),[v,g]=y.useState(null),b=we(t,Se=>g(Se)),[S,T]=y.useState(null),A=Nh(S),O=(A==null?void 0:A.width)??0,V=(A==null?void 0:A.height)??0,x=n+(i!=="center"?"-"+i:""),C=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},N=Array.isArray(u)?u:[u],j=N.length>0,E={padding:C,boundary:N.filter(ZR),altBoundary:j},{refs:k,floatingStyles:P,placement:L,isPositioned:B,middlewareData:M}=BR({strategy:"fixed",placement:x,whileElementsMounted:(...Se)=>RR(...Se,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[$R({mainAxis:o+V,alignmentAxis:s}),l&&UR({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?zR():void 0,...E}),l&&HR({...E}),WR({...E,apply:({elements:Se,rects:je,availableWidth:Or,availableHeight:pr})=>{const{width:Lr,height:qn}=je.reference,Yr=Se.floating.style;Yr.setProperty("--radix-popper-available-width",`${Or}px`),Yr.setProperty("--radix-popper-available-height",`${pr}px`),Yr.setProperty("--radix-popper-anchor-width",`${Lr}px`),Yr.setProperty("--radix-popper-anchor-height",`${qn}px`)}}),S&&KR({element:S,padding:a}),e1({arrowWidth:O,arrowHeight:V}),h&&qR({strategy:"referenceHidden",...E})]}),[R,D]=x0(L),H=Ct(w);nt(()=>{B&&(H==null||H())},[B,H]);const F=(U=M.arrow)==null?void 0:U.x,W=(Z=M.arrow)==null?void 0:Z.y,I=((ie=M.arrow)==null?void 0:ie.centerOffset)!==0,[G,J]=y.useState();return nt(()=>{v&&J(window.getComputedStyle(v).zIndex)},[v]),f.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:B?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(le=M.transformOrigin)==null?void 0:le.x,(ue=M.transformOrigin)==null?void 0:ue.y].join(" "),...((se=M.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx(JR,{scope:r,placedSide:R,onArrowChange:T,arrowX:F,arrowY:W,shouldHideArrow:I,children:f.jsx(he.div,{"data-side":R,"data-align":D,...m,ref:b,style:{...m.style,animation:B?void 0:"none"}})})})});w0.displayName=Lh;var b0="PopperArrow",XR={top:"bottom",right:"left",bottom:"top",left:"right"},_0=y.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,i=YR(b0,n),s=XR[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(IR,{...o,ref:r,style:{...o.style,display:"block"}})})});_0.displayName=b0;function ZR(e){return e!==null}var e1=e=>({name:"transformOrigin",options:e,fn(t){var _,v,g;const{placement:r,rects:n,middlewareData:o}=t,s=((_=o.arrow)==null?void 0:_.centerOffset)!==0,a=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[u,c]=x0(r),d={start:"0%",center:"50%",end:"100%"}[c],h=(((v=o.arrow)==null?void 0:v.x)??0)+a/2,p=(((g=o.arrow)==null?void 0:g.y)??0)+l/2;let w="",m="";return u==="bottom"?(w=s?d:`${h}px`,m=`${-l}px`):u==="top"?(w=s?d:`${h}px`,m=`${n.floating.height+l}px`):u==="right"?(w=`${-l}px`,m=s?d:`${p}px`):u==="left"&&(w=`${n.floating.width+l}px`,m=s?d:`${p}px`),{data:{x:w,y:m}}}});function x0(e){const[t,r="center"]=e.split("-");return[t,r]}var S0=g0,Mh=y0,jh=w0,Dh=_0,[Ru,jD]=Pr("Tooltip",[Ui]),Vh=Ui(),E0="TooltipProvider",t1=700,Qm="tooltip.open",[r1,C0]=Ru(E0),k0=e=>{const{__scopeTooltip:t,delayDuration:r=t1,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:i}=e,s=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),f.jsx(r1,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(u=>{a.current=u},[]),disableHoverableContent:o,children:i})};k0.displayName=E0;var T0="Tooltip",[DD,Pu]=Ru(T0),Id="TooltipTrigger",n1=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=Pu(Id,r),i=C0(Id,r),s=Vh(r),a=y.useRef(null),l=we(t,a,o.onTriggerChange),u=y.useRef(!1),c=y.useRef(!1),d=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),f.jsx(Mh,{asChild:!0,...s,children:f.jsx(he.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:l,onPointerMove:X(e.onPointerMove,h=>{h.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),c.current=!0)}),onPointerLeave:X(e.onPointerLeave,()=>{o.onTriggerLeave(),c.current=!1}),onPointerDown:X(e.onPointerDown,()=>{o.open&&o.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:X(e.onFocus,()=>{u.current||o.onOpen()}),onBlur:X(e.onBlur,o.onClose),onClick:X(e.onClick,o.onClose)})})});n1.displayName=Id;var o1="TooltipPortal",[VD,i1]=Ru(o1,{forceMount:void 0}),Li="TooltipContent",R0=y.forwardRef((e,t)=>{const r=i1(Li,e.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...i}=e,s=Pu(Li,e.__scopeTooltip);return f.jsx(Fn,{present:n||s.open,children:s.disableHoverableContent?f.jsx(P0,{side:o,...i,ref:t}):f.jsx(s1,{side:o,...i,ref:t})})}),s1=y.forwardRef((e,t)=>{const r=Pu(Li,e.__scopeTooltip),n=C0(Li,e.__scopeTooltip),o=y.useRef(null),i=we(t,o),[s,a]=y.useState(null),{trigger:l,onClose:u}=r,c=o.current,{onPointerInTransitChange:d}=n,h=y.useCallback(()=>{a(null),d(!1)},[d]),p=y.useCallback((w,m)=>{const _=w.currentTarget,v={x:w.clientX,y:w.clientY},g=d1(v,_.getBoundingClientRect()),b=f1(v,g),S=h1(m.getBoundingClientRect()),T=m1([...b,...S]);a(T),d(!0)},[d]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(l&&c){const w=_=>p(_,c),m=_=>p(_,l);return l.addEventListener("pointerleave",w),c.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",w),c.removeEventListener("pointerleave",m)}}},[l,c,p,h]),y.useEffect(()=>{if(s){const w=m=>{const _=m.target,v={x:m.clientX,y:m.clientY},g=(l==null?void 0:l.contains(_))||(c==null?void 0:c.contains(_)),b=!p1(v,s);g?h():b&&(h(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,c,s,u,h]),f.jsx(P0,{...e,ref:i})}),[a1,l1]=Ru(T0,{isInside:!1}),u1=bC("TooltipContent"),P0=y.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:s,...a}=e,l=Pu(Li,r),u=Vh(r),{onClose:c}=l;return y.useEffect(()=>(document.addEventListener(Qm,c),()=>document.removeEventListener(Qm,c)),[c]),y.useEffect(()=>{if(l.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&c()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,c]),f.jsx(ua,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:d=>d.preventDefault(),onDismiss:c,children:f.jsxs(jh,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(u1,{children:n}),f.jsx(a1,{scope:r,isInside:!0,children:f.jsx(zC,{id:l.contentId,role:"tooltip",children:o||n})})]})})});R0.displayName=Li;var A0="TooltipArrow",c1=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=Vh(r);return l1(A0,r).isInside?null:f.jsx(Dh,{...o,...n,ref:t})});c1.displayName=A0;function d1(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,o,i)){case i:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function f1(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function h1(e){const{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}function p1(e,t){const{x:r,y:n}=e;let o=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const a=t[i],l=t[s],u=a.x,c=a.y,d=l.x,h=l.y;c>n!=h>n&&r<(d-u)*(n-c)/(h-c)+u&&(o=!o)}return o}function m1(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),g1(t)}function g1(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))t.pop();else break}t.push(o)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;r.length>=2;){const i=r[r.length-1],s=r[r.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var v1=k0,N0=R0;const y1=v1,w1=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>f.jsx(N0,{ref:n,sideOffset:t,className:fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));w1.displayName=N0.displayName;var Au=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nu=typeof window>"u"||"Deno"in globalThis;function rr(){}function b1(e,t){return typeof e=="function"?e(t):e}function _1(e){return typeof e=="number"&&e>=0&&e!==1/0}function x1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qd(e,t){return typeof e=="function"?e(t):e}function S1(e,t){return typeof e=="function"?e(t):e}function Jm(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:i,queryKey:s,stale:a}=e;if(s){if(n){if(t.queryHash!==Bh(s,t.options))return!1}else if(!Hs(t.queryKey,s))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||o&&o!==t.state.fetchStatus||i&&!i(t))}function Ym(e,t){const{exact:r,status:n,predicate:o,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(zs(t.options.mutationKey)!==zs(i))return!1}else if(!Hs(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function Bh(e,t){return((t==null?void 0:t.queryKeyHashFn)||zs)(e)}function zs(e){return JSON.stringify(e,(t,r)=>Jd(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function Hs(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Hs(e[r],t[r])):!1}function O0(e,t){if(e===t)return e;const r=Xm(e)&&Xm(t);if(r||Jd(e)&&Jd(t)){const n=r?e:Object.keys(e),o=n.length,i=r?t:Object.keys(t),s=i.length,a=r?[]:{},l=new Set(n);let u=0;for(let c=0;c<s;c++){const d=r?c:i[c];(!r&&l.has(d)||r)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,u++):(a[d]=O0(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&u++)}return o===s&&u===o?e:a}return t}function Xm(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jd(e){if(!Zm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Zm(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Zm(e){return Object.prototype.toString.call(e)==="[object Object]"}function E1(e){return new Promise(t=>{setTimeout(t,e)})}function C1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?O0(e,t):t}function k1(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function T1(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Fh=Symbol();function L0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Fh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var io,hn,mi,Gg,R1=(Gg=class extends Au{constructor(){super();ye(this,io);ye(this,hn);ye(this,mi);de(this,mi,t=>{if(!Nu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,hn)||this.setEventListener(z(this,mi))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,hn))==null||t.call(this),de(this,hn,void 0))}setEventListener(t){var r;de(this,mi,t),(r=z(this,hn))==null||r.call(this),de(this,hn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){z(this,io)!==t&&(de(this,io,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof z(this,io)=="boolean"?z(this,io):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},io=new WeakMap,hn=new WeakMap,mi=new WeakMap,Gg),M0=new R1,gi,pn,vi,Ig,P1=(Ig=class extends Au{constructor(){super();ye(this,gi,!0);ye(this,pn);ye(this,vi);de(this,vi,t=>{if(!Nu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){z(this,pn)||this.setEventListener(z(this,vi))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,pn))==null||t.call(this),de(this,pn,void 0))}setEventListener(t){var r;de(this,vi,t),(r=z(this,pn))==null||r.call(this),de(this,pn,t(this.setOnline.bind(this)))}setOnline(t){z(this,gi)!==t&&(de(this,gi,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return z(this,gi)}},gi=new WeakMap,pn=new WeakMap,vi=new WeakMap,Ig),zl=new P1;function A1(){let e,t;const r=new Promise((o,i)=>{e=o,t=i});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},r.reject=o=>{n({status:"rejected",reason:o}),t(o)},r}function N1(e){return Math.min(1e3*2**e,3e4)}function j0(e){return(e??"online")==="online"?zl.isOnline():!0}var D0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Cc(e){return e instanceof D0}function V0(e){let t=!1,r=0,n=!1,o;const i=A1(),s=m=>{var _;n||(h(new D0(m)),(_=e.abort)==null||_.call(e))},a=()=>{t=!0},l=()=>{t=!1},u=()=>M0.isFocused()&&(e.networkMode==="always"||zl.isOnline())&&e.canRun(),c=()=>j0(e.networkMode)&&e.canRun(),d=m=>{var _;n||(n=!0,(_=e.onSuccess)==null||_.call(e,m),o==null||o(),i.resolve(m))},h=m=>{var _;n||(n=!0,(_=e.onError)==null||_.call(e,m),o==null||o(),i.reject(m))},p=()=>new Promise(m=>{var _;o=v=>{(n||u())&&m(v)},(_=e.onPause)==null||_.call(e)}).then(()=>{var m;o=void 0,n||(m=e.onContinue)==null||m.call(e)}),w=()=>{if(n)return;let m;const _=r===0?e.initialPromise:void 0;try{m=_??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(d).catch(v=>{var A;if(n)return;const g=e.retry??(Nu?0:3),b=e.retryDelay??N1,S=typeof b=="function"?b(r,v):b,T=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,v);if(t||!T){h(v);return}r++,(A=e.onFail)==null||A.call(e,r,v),E1(S).then(()=>u()?void 0:p()).then(()=>{t?h(v):w()})})};return{promise:i,cancel:s,continue:()=>(o==null||o(),i),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?w():p().then(w),i)}}var O1=e=>setTimeout(e,0);function L1(){let e=[],t=0,r=a=>{a()},n=a=>{a()},o=O1;const i=a=>{t?e.push(a):o(()=>{r(a)})},s=()=>{const a=e;e=[],a.length&&o(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||s()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{o=a}}}var ft=L1(),so,Qg,B0=(Qg=class{constructor(){ye(this,so)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_1(this.gcTime)&&de(this,so,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Nu?1/0:5*60*1e3))}clearGcTimeout(){z(this,so)&&(clearTimeout(z(this,so)),de(this,so,void 0))}},so=new WeakMap,Qg),yi,ao,Bt,lo,at,ra,uo,or,jr,Jg,M1=(Jg=class extends B0{constructor(t){super();ye(this,or);ye(this,yi);ye(this,ao);ye(this,Bt);ye(this,lo);ye(this,at);ye(this,ra);ye(this,uo);de(this,uo,!1),de(this,ra,t.defaultOptions),this.setOptions(t.options),this.observers=[],de(this,lo,t.client),de(this,Bt,z(this,lo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,de(this,yi,D1(this.options)),this.state=t.state??z(this,yi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,at))==null?void 0:t.promise}setOptions(t){this.options={...z(this,ra),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Bt).remove(this)}setData(t,r){const n=C1(this.state.data,t,this.options);return ot(this,or,jr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ot(this,or,jr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,o;const r=(n=z(this,at))==null?void 0:n.promise;return(o=z(this,at))==null||o.cancel(t),r?r.then(rr).catch(rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,yi))}isActive(){return this.observers.some(t=>S1(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qd(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!x1(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,at))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,at))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,Bt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(z(this,at)&&(z(this,uo)?z(this,at).cancel({revert:!0}):z(this,at).cancelRetry()),this.scheduleGc()),z(this,Bt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ot(this,or,jr).call(this,{type:"invalidate"})}fetch(t,r){var u,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,at))return z(this,at).continueRetry(),z(this,at).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,o=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(de(this,uo,!0),n.signal)})},i=()=>{const h=L0(this.options,r),w=(()=>{const m={client:z(this,lo),queryKey:this.queryKey,meta:this.meta};return o(m),m})();return de(this,uo,!1),this.options.persister?this.options.persister(h,w,this):h(w)},a=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,lo),state:this.state,fetchFn:i};return o(h),h})();(u=this.options.behavior)==null||u.onFetch(a,this),de(this,ao,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&ot(this,or,jr).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var p,w,m,_;Cc(h)&&h.silent||ot(this,or,jr).call(this,{type:"error",error:h}),Cc(h)||((w=(p=z(this,Bt).config).onError)==null||w.call(p,h,this),(_=(m=z(this,Bt).config).onSettled)==null||_.call(m,this.state.data,h,this)),this.scheduleGc()};return de(this,at,V0({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,w,m,_;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){l(v);return}(w=(p=z(this,Bt).config).onSuccess)==null||w.call(p,h,this),(_=(m=z(this,Bt).config).onSettled)==null||_.call(m,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,p)=>{ot(this,or,jr).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{ot(this,or,jr).call(this,{type:"pause"})},onContinue:()=>{ot(this,or,jr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,at).start()}},yi=new WeakMap,ao=new WeakMap,Bt=new WeakMap,lo=new WeakMap,at=new WeakMap,ra=new WeakMap,uo=new WeakMap,or=new WeakSet,jr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...j1(n.data,this.options),fetchMeta:t.meta??null};case"success":return de(this,ao,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Cc(o)&&o.revert&&z(this,ao)?{...z(this,ao),fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ft.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),z(this,Bt).notify({query:this,type:"updated",action:t})})},Jg);function j1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:j0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function D1(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var yr,Yg,V1=(Yg=class extends Au{constructor(t={}){super();ye(this,yr);this.config=t,de(this,yr,new Map)}build(t,r,n){const o=r.queryKey,i=r.queryHash??Bh(o,r);let s=this.get(i);return s||(s=new M1({client:t,queryKey:o,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(o)}),this.add(s)),s}add(t){z(this,yr).has(t.queryHash)||(z(this,yr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=z(this,yr).get(t.queryHash);r&&(t.destroy(),r===t&&z(this,yr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ft.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,yr).get(t)}getAll(){return[...z(this,yr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Jm(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Jm(t,n)):r}notify(t){ft.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ft.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ft.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},yr=new WeakMap,Yg),wr,ct,co,br,on,Xg,B1=(Xg=class extends B0{constructor(t){super();ye(this,br);ye(this,wr);ye(this,ct);ye(this,co);this.mutationId=t.mutationId,de(this,ct,t.mutationCache),de(this,wr,[]),this.state=t.state||F1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,wr).includes(t)||(z(this,wr).push(t),this.clearGcTimeout(),z(this,ct).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){de(this,wr,z(this,wr).filter(r=>r!==t)),this.scheduleGc(),z(this,ct).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,wr).length||(this.state.status==="pending"?this.scheduleGc():z(this,ct).remove(this))}continue(){var t;return((t=z(this,co))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,a,l,u,c,d,h,p,w,m,_,v,g,b,S,T,A,O,V;const r=()=>{ot(this,br,on).call(this,{type:"continue"})};de(this,co,V0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(x,C)=>{ot(this,br,on).call(this,{type:"failed",failureCount:x,error:C})},onPause:()=>{ot(this,br,on).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,ct).canRun(this)}));const n=this.state.status==="pending",o=!z(this,co).canStart();try{if(n)r();else{ot(this,br,on).call(this,{type:"pending",variables:t,isPaused:o}),await((s=(i=z(this,ct).config).onMutate)==null?void 0:s.call(i,t,this));const C=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));C!==this.state.context&&ot(this,br,on).call(this,{type:"pending",context:C,variables:t,isPaused:o})}const x=await z(this,co).start();return await((c=(u=z(this,ct).config).onSuccess)==null?void 0:c.call(u,x,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,x,t,this.state.context)),await((w=(p=z(this,ct).config).onSettled)==null?void 0:w.call(p,x,null,this.state.variables,this.state.context,this)),await((_=(m=this.options).onSettled)==null?void 0:_.call(m,x,null,t,this.state.context)),ot(this,br,on).call(this,{type:"success",data:x}),x}catch(x){try{throw await((g=(v=z(this,ct).config).onError)==null?void 0:g.call(v,x,t,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,x,t,this.state.context)),await((A=(T=z(this,ct).config).onSettled)==null?void 0:A.call(T,void 0,x,this.state.variables,this.state.context,this)),await((V=(O=this.options).onSettled)==null?void 0:V.call(O,void 0,x,t,this.state.context)),x}finally{ot(this,br,on).call(this,{type:"error",error:x})}}finally{z(this,ct).runNext(this)}}},wr=new WeakMap,ct=new WeakMap,co=new WeakMap,br=new WeakSet,on=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ft.batch(()=>{z(this,wr).forEach(n=>{n.onMutationUpdate(t)}),z(this,ct).notify({mutation:this,type:"updated",action:t})})},Xg);function F1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fr,ir,na,Zg,$1=(Zg=class extends Au{constructor(t={}){super();ye(this,Fr);ye(this,ir);ye(this,na);this.config=t,de(this,Fr,new Set),de(this,ir,new Map),de(this,na,0)}build(t,r,n){const o=new B1({mutationCache:this,mutationId:++ya(this,na)._,options:t.defaultMutationOptions(r),state:n});return this.add(o),o}add(t){z(this,Fr).add(t);const r=$a(t);if(typeof r=="string"){const n=z(this,ir).get(r);n?n.push(t):z(this,ir).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,Fr).delete(t)){const r=$a(t);if(typeof r=="string"){const n=z(this,ir).get(r);if(n)if(n.length>1){const o=n.indexOf(t);o!==-1&&n.splice(o,1)}else n[0]===t&&z(this,ir).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=$a(t);if(typeof r=="string"){const n=z(this,ir).get(r),o=n==null?void 0:n.find(i=>i.state.status==="pending");return!o||o===t}else return!0}runNext(t){var n;const r=$a(t);if(typeof r=="string"){const o=(n=z(this,ir).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ft.batch(()=>{z(this,Fr).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,Fr).clear(),z(this,ir).clear()})}getAll(){return Array.from(z(this,Fr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ym(r,n))}findAll(t={}){return this.getAll().filter(r=>Ym(t,r))}notify(t){ft.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ft.batch(()=>Promise.all(t.map(r=>r.continue().catch(rr))))}},Fr=new WeakMap,ir=new WeakMap,na=new WeakMap,Zg);function $a(e){var t;return(t=e.options.scope)==null?void 0:t.id}function eg(e){return{onFetch:(t,r)=>{var c,d,h,p,w;const n=t.options,o=(h=(d=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((w=t.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const _=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=L0(t.options,t.fetchOptions),g=async(b,S,T)=>{if(m)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const O=(()=>{const N={client:t.client,queryKey:t.queryKey,pageParam:S,direction:T?"backward":"forward",meta:t.options.meta};return _(N),N})(),V=await v(O),{maxPages:x}=t.options,C=T?T1:k1;return{pages:C(b.pages,V,x),pageParams:C(b.pageParams,S,x)}};if(o&&i.length){const b=o==="backward",S=b?U1:tg,T={pages:i,pageParams:s},A=S(n,T);a=await g(T,A,b)}else{const b=e??i.length;do{const S=l===0?s[0]??n.initialPageParam:tg(n,a);if(l>0&&S==null)break;a=await g(a,S),l++}while(l<b)}return a};t.options.persister?t.fetchFn=()=>{var m,_;return(_=(m=t.options).persister)==null?void 0:_.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function tg(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function U1(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var De,mn,gn,wi,bi,vn,_i,xi,ev,z1=(ev=class{constructor(e={}){ye(this,De);ye(this,mn);ye(this,gn);ye(this,wi);ye(this,bi);ye(this,vn);ye(this,_i);ye(this,xi);de(this,De,e.queryCache||new V1),de(this,mn,e.mutationCache||new $1),de(this,gn,e.defaultOptions||{}),de(this,wi,new Map),de(this,bi,new Map),de(this,vn,0)}mount(){ya(this,vn)._++,z(this,vn)===1&&(de(this,_i,M0.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,De).onFocus())})),de(this,xi,zl.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,De).onOnline())})))}unmount(){var e,t;ya(this,vn)._--,z(this,vn)===0&&((e=z(this,_i))==null||e.call(this),de(this,_i,void 0),(t=z(this,xi))==null||t.call(this),de(this,xi,void 0))}isFetching(e){return z(this,De).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,mn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,De).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=z(this,De).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Qd(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return z(this,De).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=z(this,De).get(n.queryHash),i=o==null?void 0:o.state.data,s=b1(t,i);if(s!==void 0)return z(this,De).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return ft.batch(()=>z(this,De).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,De).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=z(this,De);ft.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=z(this,De);return ft.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ft.batch(()=>z(this,De).findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(rr).catch(rr)}invalidateQueries(e,t={}){return ft.batch(()=>(z(this,De).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ft.batch(()=>z(this,De).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let i=o.fetch(void 0,r);return r.throwOnError||(i=i.catch(rr)),o.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(rr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=z(this,De).build(this,t);return r.isStaleByTime(Qd(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(rr).catch(rr)}fetchInfiniteQuery(e){return e.behavior=eg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(rr).catch(rr)}ensureInfiniteQueryData(e){return e.behavior=eg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return zl.isOnline()?z(this,mn).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,De)}getMutationCache(){return z(this,mn)}getDefaultOptions(){return z(this,gn)}setDefaultOptions(e){de(this,gn,e)}setQueryDefaults(e,t){z(this,wi).set(zs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,wi).values()],r={};return t.forEach(n=>{Hs(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){z(this,bi).set(zs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,bi).values()],r={};return t.forEach(n=>{Hs(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,gn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bh(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Fh&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,gn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,De).clear(),z(this,mn).clear()}},De=new WeakMap,mn=new WeakMap,gn=new WeakMap,wi=new WeakMap,bi=new WeakMap,vn=new WeakMap,_i=new WeakMap,xi=new WeakMap,ev),H1=y.createContext(void 0),W1=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(H1.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ws.apply(this,arguments)}var bn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bn||(bn={}));const rg="popstate";function q1(e){e===void 0&&(e={});function t(n,o){let{pathname:i,search:s,hash:a}=n.location;return Yd("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:Hl(o)}return G1(t,r,null,e)}function $e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function F0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K1(){return Math.random().toString(36).substr(2,8)}function ng(e,t){return{usr:e.state,key:e.key,idx:t}}function Yd(e,t,r,n){return r===void 0&&(r=null),Ws({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zi(t):t,{state:r,key:t&&t.key||n||K1()})}function Hl(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function G1(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:i=!1}=n,s=o.history,a=bn.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Ws({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=bn.Pop;let _=c(),v=_==null?null:_-u;u=_,l&&l({action:a,location:m.location,delta:v})}function h(_,v){a=bn.Push;let g=Yd(m.location,_,v);u=c()+1;let b=ng(g,u),S=m.createHref(g);try{s.pushState(b,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(S)}i&&l&&l({action:a,location:m.location,delta:1})}function p(_,v){a=bn.Replace;let g=Yd(m.location,_,v);u=c();let b=ng(g,u),S=m.createHref(g);s.replaceState(b,"",S),i&&l&&l({action:a,location:m.location,delta:0})}function w(_){let v=o.location.origin!=="null"?o.location.origin:o.location.href,g=typeof _=="string"?_:Hl(_);return g=g.replace(/ $/,"%20"),$e(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let m={get action(){return a},get location(){return e(o,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(rg,d),l=_,()=>{o.removeEventListener(rg,d),l=null}},createHref(_){return t(o,_)},createURL:w,encodeLocation(_){let v=w(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(_){return s.go(_)}};return m}var og;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(og||(og={}));function I1(e,t,r){return r===void 0&&(r="/"),Q1(e,t,r,!1)}function Q1(e,t,r,n){let o=typeof t=="string"?zi(t):t,i=$h(o.pathname||"/",r);if(i==null)return null;let s=$0(e);J1(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=aP(i);a=iP(s[l],u,n)}return a}function $0(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&($e(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Pn([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&($e(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$0(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:nP(u,i.index),routesMeta:c})};return e.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of U0(i.path))o(i,s,l)}),t}function U0(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return o?[i,""]:[i];let s=U0(n.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function J1(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:oP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Y1=/^:[\w-]+$/,X1=3,Z1=2,eP=1,tP=10,rP=-2,ig=e=>e==="*";function nP(e,t){let r=e.split("/"),n=r.length;return r.some(ig)&&(n+=rP),t&&(n+=Z1),r.filter(o=>!ig(o)).reduce((o,i)=>o+(Y1.test(i)?X1:i===""?eP:tP),n)}function oP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function iP(e,t,r){let{routesMeta:n}=e,o={},i="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=sg({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=sg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(o,d.params),s.push({params:o,pathname:Pn([i,d.pathname]),pathnameBase:dP(Pn([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Pn([i,d.pathnameBase]))}return s}function sg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=sP(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let m=a[d]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const w=a[d];return p&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function sP(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),F0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function aP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return F0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $h(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function lP(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?zi(e):e;return{pathname:r?r.startsWith("/")?r:uP(r,t):t,search:fP(n),hash:hP(o)}}function uP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function kc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Uh(e,t){let r=cP(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zh(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=zi(e):(o=Ws({},e),$e(!o.pathname||!o.pathname.includes("?"),kc("?","pathname","search",o)),$e(!o.pathname||!o.pathname.includes("#"),kc("#","pathname","hash",o)),$e(!o.search||!o.search.includes("#"),kc("#","search","hash",o)));let i=e===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=r;else{let d=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;o.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=lP(o,a),u=s&&s!=="/"&&s.endsWith("/"),c=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Pn=e=>e.join("/").replace(/\/\/+/g,"/"),dP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const z0=["post","put","patch","delete"];new Set(z0);const mP=["get",...z0];new Set(mP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qs.apply(this,arguments)}const Hh=y.createContext(null),gP=y.createContext(null),$n=y.createContext(null),Ou=y.createContext(null),Nr=y.createContext({outlet:null,matches:[],isDataRoute:!1}),H0=y.createContext(null);function vP(e,t){let{relative:r}=t===void 0?{}:t;Hi()||$e(!1);let{basename:n,navigator:o}=y.useContext($n),{hash:i,pathname:s,search:a}=q0(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Pn([n,s])),o.createHref({pathname:l,search:a,hash:i})}function Hi(){return y.useContext(Ou)!=null}function Un(){return Hi()||$e(!1),y.useContext(Ou).location}function W0(e){y.useContext($n).static||y.useLayoutEffect(e)}function zn(){let{isDataRoute:e}=y.useContext(Nr);return e?LP():yP()}function yP(){Hi()||$e(!1);let e=y.useContext(Hh),{basename:t,future:r,navigator:n}=y.useContext($n),{matches:o}=y.useContext(Nr),{pathname:i}=Un(),s=JSON.stringify(Uh(o,r.v7_relativeSplatPath)),a=y.useRef(!1);return W0(()=>{a.current=!0}),y.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=zh(u,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Pn([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,s,i,e])}const wP=y.createContext(null);function bP(e){let t=y.useContext(Nr).outlet;return t&&y.createElement(wP.Provider,{value:e},t)}function _P(){let{matches:e}=y.useContext(Nr),t=e[e.length-1];return t?t.params:{}}function q0(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext($n),{matches:o}=y.useContext(Nr),{pathname:i}=Un(),s=JSON.stringify(Uh(o,n.v7_relativeSplatPath));return y.useMemo(()=>zh(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function xP(e,t){return SP(e,t)}function SP(e,t,r,n){Hi()||$e(!1);let{navigator:o}=y.useContext($n),{matches:i}=y.useContext(Nr),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Un(),c;if(t){var d;let _=typeof t=="string"?zi(t):t;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||$e(!1),c=_}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=I1(e,{pathname:p}),m=RP(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Pn([l,o.encodeLocation?o.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Pn([l,o.encodeLocation?o.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return t&&m?y.createElement(Ou.Provider,{value:{location:qs({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:bn.Pop}},m):m}function EP(){let e=OP(),t=pP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:o},r):null,null)}const CP=y.createElement(EP,null);class kP extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(Nr.Provider,{value:this.props.routeContext},y.createElement(H0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TP(e){let{routeContext:t,match:r,children:n}=e,o=y.useContext(Hh);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Nr.Provider,{value:t},n)}function RP(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,a=(o=r)==null?void 0:o.errors;if(a!=null){let c=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||$e(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=r,w=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||w){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let p,w=!1,m=null,_=null;r&&(p=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||CP,l&&(u<0&&h===0?(w=!0,_=null):u===h&&(w=!0,_=d.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,h+1)),g=()=>{let b;return p?b=m:w?b=_:d.route.Component?b=y.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=c,y.createElement(TP,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(kP,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var K0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(K0||{}),Wl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wl||{});function PP(e){let t=y.useContext(Hh);return t||$e(!1),t}function AP(e){let t=y.useContext(gP);return t||$e(!1),t}function NP(e){let t=y.useContext(Nr);return t||$e(!1),t}function G0(e){let t=NP(),r=t.matches[t.matches.length-1];return r.route.id||$e(!1),r.route.id}function OP(){var e;let t=y.useContext(H0),r=AP(Wl.UseRouteError),n=G0(Wl.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function LP(){let{router:e}=PP(K0.UseNavigateStable),t=G0(Wl.UseNavigateStable),r=y.useRef(!1);return W0(()=>{r.current=!0}),y.useCallback(function(o,i){i===void 0&&(i={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,qs({fromRouteId:t},i)))},[e,t])}function MP(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function jP(e){let{to:t,replace:r,state:n,relative:o}=e;Hi()||$e(!1);let{future:i,static:s}=y.useContext($n),{matches:a}=y.useContext(Nr),{pathname:l}=Un(),u=zn(),c=zh(t,Uh(a,i.v7_relativeSplatPath),l,o==="path"),d=JSON.stringify(c);return y.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:o}),[u,d,o,r,n]),null}function DP(e){return bP(e.context)}function Xt(e){$e(!1)}function VP(e){let{basename:t="/",children:r=null,location:n,navigationType:o=bn.Pop,navigator:i,static:s=!1,future:a}=e;Hi()&&$e(!1);let l=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:i,static:s,future:qs({v7_relativeSplatPath:!1},a)}),[l,a,i,s]);typeof n=="string"&&(n=zi(n));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:w="default"}=n,m=y.useMemo(()=>{let _=$h(c,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:p,key:w},navigationType:o}},[l,c,d,h,p,w,o]);return m==null?null:y.createElement($n.Provider,{value:u},y.createElement(Ou.Provider,{children:r,value:m}))}function BP(e){let{children:t,location:r}=e;return xP(Xd(t),r)}new Promise(()=>{});function Xd(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,o)=>{if(!y.isValidElement(n))return;let i=[...t,o];if(n.type===y.Fragment){r.push.apply(r,Xd(n.props.children,i));return}n.type!==Xt&&$e(!1),!n.props.index||!n.props.children||$e(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Xd(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zd.apply(this,arguments)}function FP(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function $P(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UP(e,t){return e.button===0&&(!t||t==="_self")&&!$P(e)}function ef(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(o=>[r,o]):[[r,n]])},[]))}function zP(e,t){let r=ef(e);return t&&t.forEach((n,o)=>{r.has(o)||t.getAll(o).forEach(i=>{r.append(o,i)})}),r}const HP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],WP="6";try{window.__reactRouterVersion=WP}catch{}const qP="startTransition",ag=Tf[qP];function KP(e){let{basename:t,children:r,future:n,window:o}=e,i=y.useRef();i.current==null&&(i.current=q1({window:o,v5Compat:!0}));let s=i.current,[a,l]=y.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},c=y.useCallback(d=>{u&&ag?ag(()=>l(d)):l(d)},[l,u]);return y.useLayoutEffect(()=>s.listen(c),[s,c]),y.useEffect(()=>MP(n),[n]),y.createElement(VP,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:s,future:n})}const GP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=y.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:i,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,h=FP(t,HP),{basename:p}=y.useContext($n),w,m=!1;if(typeof u=="string"&&IP.test(u)&&(w=u,GP))try{let b=new URL(window.location.href),S=u.startsWith("//")?new URL(b.protocol+u):new URL(u),T=$h(S.pathname,p);S.origin===b.origin&&T!=null?u=T+S.search+S.hash:m=!0}catch{}let _=vP(u,{relative:o}),v=QP(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:o,viewTransition:d});function g(b){n&&n(b),b.defaultPrevented||v(b)}return y.createElement("a",Zd({},h,{href:w||_,onClick:m||i?n:g,ref:r,target:l}))});var lg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lg||(lg={}));var ug;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ug||(ug={}));function QP(e,t){let{target:r,replace:n,state:o,preventScrollReset:i,relative:s,viewTransition:a}=t===void 0?{}:t,l=zn(),u=Un(),c=q0(e,{relative:s});return y.useCallback(d=>{if(UP(d,r)){d.preventDefault();let h=n!==void 0?n:Hl(u)===Hl(c);l(e,{replace:h,state:o,preventScrollReset:i,relative:s,viewTransition:a})}},[u,l,c,n,o,r,e,i,s,a])}function I0(e){let t=y.useRef(ef(e)),r=y.useRef(!1),n=Un(),o=y.useMemo(()=>zP(n.search,r.current?null:t.current),[n.search]),i=zn(),s=y.useCallback((a,l)=>{const u=ef(typeof a=="function"?a(o):a);r.current=!0,i("?"+u,l)},[i,o]);return[o,s]}const Q0=y.createContext(void 0),JP=({children:e})=>{const[t,r]=y.useState(()=>typeof window<"u"?localStorage.getItem("darkMode")==="true":!1),[n,o]=y.useState(()=>typeof window<"u"?parseInt(localStorage.getItem("fontSize")||"100"):100),[i,s]=y.useState(()=>typeof window<"u"&&localStorage.getItem("language")||"en");y.useEffect(()=>{document.documentElement.classList.toggle("dark",t),localStorage.setItem("darkMode",String(t))},[t]),y.useEffect(()=>{document.documentElement.style.fontSize=`${n}%`,localStorage.setItem("fontSize",String(n))},[n]),y.useEffect(()=>{localStorage.setItem("language",i)},[i]);const a=()=>r(!t),l=c=>o(c),u=c=>s(c);return f.jsx(Q0.Provider,{value:{isDarkMode:t,toggleDarkMode:a,fontSize:n,setFontSize:l,language:i,setLanguage:u},children:e})},YP=()=>{const e=y.useContext(Q0);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e};var xr=function(){return xr=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},xr.apply(this,arguments)};function Wi(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function XP(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function ZP(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const eA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Wh extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class tA extends Wh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cg extends Wh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dg extends Wh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tf||(tf={}));class rA{constructor(t,{headers:r={},customFetch:n,region:o=tf.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=eA(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return XP(this,arguments,void 0,function*(r,n={}){var o;let i,s;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=n;let h={},{region:p}=n;p||(p=this.region);const w=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,w.searchParams.set("forceFunctionRegion",p));let m;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let _=c;d&&(s=new AbortController,i=setTimeout(()=>s.abort(),d),c?(_=s.signal,c.addEventListener("abort",()=>s.abort())):_=s.signal);const v=yield this.fetch(w.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:m,signal:_}).catch(T=>{throw new tA(T)}),g=v.headers.get("x-relay-error");if(g&&g==="true")throw new cg(v);if(!v.ok)throw new dg(v);let b=((o=v.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),S;return b==="application/json"?S=yield v.json():b==="application/octet-stream"||b==="application/pdf"?S=yield v.blob():b==="text/event-stream"?S=v:b==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(a){return{data:null,error:a,response:a instanceof dg||a instanceof cg?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var nA=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},oA=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let o=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let s=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var d,h;if(r.method!=="HEAD"){var p;const v=await i.text();v===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=v:a=JSON.parse(v))}const m=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&_&&_.length>1&&(l=parseInt(_[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var w;const m=await i.text();try{s=JSON.parse(m),Array.isArray(s)&&i.status===404&&(a=[],s=null,u=200,c="OK")}catch{i.status===404&&m===""?(u=204,c="No Content"):s={message:m}}if(s&&r.isMaybeSingle&&(!(s==null||(w=s.details)===null||w===void 0)&&w.includes("0 rows"))&&(s=null,u=200,c="OK"),s&&r.shouldThrowOnError)throw new nA(s)}return{error:s,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(o=o.catch(i=>{var s;let a="";const l=i==null?void 0:i.cause;if(l){var u,c,d,h;const w=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",m=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";a=`${(d=i==null?void 0:i.name)!==null&&d!==void 0?d:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${w}`,m&&(a+=` (${m})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var p;a=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},iA=class extends oA{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:o=n}={}){const i=o?`${o}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const o=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:o=!1,format:i="text"}={}){var s;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const fg=new RegExp("[,()]");var Ho=class extends iA{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&fg.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&fg.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let o="";n==="plain"?o="pl":n==="phrase"?o="ph":n==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},sA=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},o=r?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",s),n&&l.append("Prefer",`count=${n}`),new Ho({method:o,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const o="POST",{url:i,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new Ho({method:o,url:i,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:o=!0}={}){var i;const s="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),o||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);a.searchParams.set("columns",c.join(","))}}return new Ho({method:s,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:o,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Ho({method:n,url:o,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Ho({method:r,url:n,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},aA=class J0{constructor(t,{headers:r={},schema:n,fetch:o}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sA(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new J0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:o=!1,count:i}={}){var s;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(c)),d=n&&Object.values(r).some(c);d?(a="POST",u=r):n||o?(a=n?"HEAD":"GET",Object.entries(r).filter(([p,w])=>w!==void 0).map(([p,w])=>[p,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([p,w])=>{l.searchParams.append(p,w)})):(a="POST",u=r);const h=new Headers(this.headers);return d?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Ho({method:a,url:l,headers:h,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class lA{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const o=n.node,i=parseInt(o.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const uA="2.90.1",cA=`realtime-js/${uA}`,Y0="1.0.0",dA="2.0.0",hg=Y0,rf=1e4,fA=1e3,hA=100;var un;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(un||(un={}));var Ge;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ge||(Ge={}));var ar;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ar||(ar={}));var nf;(function(e){e.websocket="websocket"})(nf||(nf={}));var Zn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Zn||(Zn={}));class pA{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const o=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var r,n;const o=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var o,i;const s=t.topic,a=(o=t.ref)!==null&&o!==void 0?o:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+u.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let w=new DataView(p),m=0;w.setUint8(m++,this.KINDS.userBroadcastPush),w.setUint8(m++,l.length),w.setUint8(m++,a.length),w.setUint8(m++,s.length),w.setUint8(m++,u.length),w.setUint8(m++,d.length),w.setUint8(m++,r),Array.from(l,v=>w.setUint8(m++,v.charCodeAt(0))),Array.from(a,v=>w.setUint8(m++,v.charCodeAt(0))),Array.from(s,v=>w.setUint8(m++,v.charCodeAt(0))),Array.from(u,v=>w.setUint8(m++,v.charCodeAt(0))),Array.from(d,v=>w.setUint8(m++,v.charCodeAt(0)));var _=new Uint8Array(p.byteLength+n.byteLength);return _.set(new Uint8Array(p),0),_.set(new Uint8Array(n),p.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[o,i,s,a,l]=n;return r({join_ref:o,ref:i,topic:s,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),o=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,o)}}_decodeUserBroadcast(t,r,n){const o=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+o));l=l+o;const c=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+s));l=l+s;const h=t.slice(l,t.byteLength),p=a===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,w={type:this.BROADCAST_EVENT,event:c,payload:p};return s>0&&(w.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class X0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const pg=(e,t,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=mA(s,e,t,o),i),{}):{}},mA=(e,t,r,n)=>{const o=t.find(a=>a.name===e),i=o==null?void 0:o.type,s=r[e];return i&&!n.includes(i)?Z0(i,s):of(s)},Z0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return wA(t,r)}switch(e){case Ee.bool:return gA(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return vA(t);case Ee.json:case Ee.jsonb:return yA(t);case Ee.timestamp:return bA(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return of(t);default:return of(t)}},of=e=>e,gA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},yA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},wA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Z0(t,a))}return e},bA=e=>typeof e=="string"?e.replace(" ","T"):e,eb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Tc{constructor(t,r,n={},o=rf){this.channel=t,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(mg||(mg={}));class bs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bs.syncState(this.state,o,i,s),this.pendingDiffs.forEach(l=>{this.state=bs.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=bs.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,o){const i=this.cloneDeep(t),s=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{s[u]||(l[u]=c)}),this.map(s,(u,c)=>{const d=i[u];if(d){const h=c.map(_=>_.presence_ref),p=d.map(_=>_.presence_ref),w=c.filter(_=>p.indexOf(_.presence_ref)<0),m=d.filter(_=>h.indexOf(_.presence_ref)<0);w.length>0&&(a[u]=w),m.length>0&&(l[u]=m)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,o)}static syncDiff(t,r,n,o){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(p=>p.presence_ref),h=c.filter(p=>d.indexOf(p.presence_ref)<0);t[a].unshift(...h)}n(a,c,l)}),this.map(s,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,o(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const o=t[n];return"metas"in o?r[n]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gg||(gg={}));var _s;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_s||(_s={}));var Vr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Vr||(Vr={}));class oi{constructor(t,r={config:{}},n){var o,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Tc(this,ar.join,this.params,this.timeout),this.rejoinTimer=new X0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ar.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new bs(this),this.broadcastEndpointURL=eb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ge.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params,u=(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&o!==void 0?o:[],c=!!this.bindings[_s.PRESENCE]&&this.bindings[_s.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Vr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Vr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Vr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,_=(w=m==null?void 0:m.length)!==null&&w!==void 0?w:0,v=[];for(let g=0;g<_;g++){const b=m[g],{filter:{event:S,schema:T,table:A,filter:O}}=b,V=p&&p[g];if(V&&V.event===S&&oi.isFilterValueEqual(V.schema,T)&&oi.isFilterValueEqual(V.table,A)&&oi.isFilterValueEqual(V.filter,O))v.push(Object.assign(Object.assign({},b),{id:V.id}));else{this.unsubscribe(),this.state=Ge.errored,t==null||t(Vr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Vr.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ge.errored,t==null||t(Vr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Vr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ge.joined&&t===_s.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ge.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ar.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new Tc(this,ar.leave,{},t),n.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ge.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const o=new AbortController,i=setTimeout(()=>o.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Tc(this,t,r,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>hA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var o,i;const s=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=ar;if(n&&[a,l,u,c].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(p=>{var w,m,_;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(m=p.filter)===null||m===void 0?void 0:m.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var w,m,_,v,g,b,S,T;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const A=p.id,O=(w=p.filter)===null||w===void 0?void 0:w.event;return A&&((m=r.ids)===null||m===void 0?void 0:m.includes(A))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))&&(!(!((v=p.filter)===null||v===void 0)&&v.table)||p.filter.table===((g=r.data)===null||g===void 0?void 0:g.table))}else{const A=(S=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return A==="*"||A===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:m,table:_,commit_timestamp:v,type:g,errors:b}=w;h=Object.assign(Object.assign({},{schema:m,table:_,commit_timestamp:v,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(w))}p.callback(h,n)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const o=t.toLocaleLowerCase(),i={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&oi.isEqual(o.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ar.close,{},t)}_onError(t){this._on(ar.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=pg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=pg(t.columns,t.old_record)),r}}const Rc=()=>{},Ua={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_A=[1e3,2e3,5e3,1e4],xA=1e4,SA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class EA{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rf,this.transport=null,this.heartbeatIntervalMs=Ua.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rc,this.ref=0,this.reconnectTimer=null,this.vsn=hg,this.logger=Rc,this.conn=null,this.sendBuffer=[],this.serializer=new pA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${nf.websocket}`,this.httpEndpoint=eb(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case un.connecting:return Zn.Connecting;case un.open:return Zn.Open;case un.closing:return Zn.Closing;default:return Zn.Closed}}isConnected(){return this.connectionState()===Zn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===n);if(o)return o;{const i=new oi(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(fA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ua.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:o,payload:i,ref:s}=r,a=s?`(${s})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${o} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(o,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===un.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===un.open||this.conn.readyState===un.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ar.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${n}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([SA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const i={access_token:r,version:cA};r&&o.updateJoinPayload(i),o.joinedOnce&&o._isJoined()&&o._push(ar.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new X0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ua.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,o,i,s,a,l,u,c,d,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:rf,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:Ua.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Rc,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:hg,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:w=>_A[w-1]||xA,this.vsn){case Y0:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(w,m)=>m(JSON.stringify(w)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(w,m)=>m(JSON.parse(w));break;case dA:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ks=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function CA(e,t,r){const n=new URL(t,e);if(r)for(const[o,i]of Object.entries(r))i!==void 0&&n.searchParams.set(o,i);return n.toString()}async function kA(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function TA(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:o,body:i,headers:s}){const a=CA(e.baseUrl,n,o),l=await kA(e.auth),u=await t(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...s},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const p=d?h:void 0,w=p==null?void 0:p.error;throw new Ks((w==null?void 0:w.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function za(e){return e.join("")}var RA=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:za(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${za(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${za(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${za(e.namespace)}`}),!0}catch(t){if(t instanceof Ks&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ks&&r.status===409)return;throw r}}};function Mo(e){return e.join("")}var PA=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mo(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Mo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Mo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ks&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ks&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},AA=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=TA({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new RA(this.client,t),this.tableOps=new PA(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Lu=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ne(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var NA=class extends Lu{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},sf=class extends Lu{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const qh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),OA=()=>Response,af=e=>{if(Array.isArray(e))return e.map(r=>af(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=af(n)}),t},LA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},MA=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function jA(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DA(e){var t=jA(e,"string");return Gs(t)=="symbol"?t:t+""}function VA(e,t,r){return(t=DA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vg(Object(r),!0).forEach(function(n){VA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Pc=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},BA=async(e,t,r)=>{e instanceof await OA()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const o=e.status||500,i=(n==null?void 0:n.statusCode)||o+"";t(new NA(Pc(n),o,i))}).catch(n=>{t(new sf(Pc(n),n))}):t(new sf(Pc(e),e))},FA=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?o:(LA(n)?(o.headers=oe({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(n)):o.body=n,t!=null&&t.duplex&&(o.duplex=t.duplex),oe(oe({},o),r))};async function fa(e,t,r,n,o,i){return new Promise((s,a)=>{e(r,FA(t,n,o,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>BA(l,a,n))})}async function Is(e,t,r,n){return fa(e,"GET",t,r,n)}async function nr(e,t,r,n,o){return fa(e,"POST",t,n,o,r)}async function lf(e,t,r,n,o){return fa(e,"PUT",t,n,o,r)}async function $A(e,t,r,n){return fa(e,"HEAD",t,oe(oe({},r),{},{noResolveJson:!0}),n)}async function Kh(e,t,r,n,o){return fa(e,"DELETE",t,n,o,r)}var UA=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ne(t))return{data:null,error:t};throw t}}};let tb;tb=Symbol.toStringTag;var zA=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[tb]="BlobDownloadBuilder",this.promise=null}asStream(){return new UA(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ne(t))return{data:null,error:t};throw t}}};const HA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var WA=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=qh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var o=this;try{let i;const s=oe(oe({},yg),n);let a=oe(oe({},o.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",o.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),l&&!i.has("metadata")&&i.append("metadata",o.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=o.toBase64(o.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(a=oe(oe({},a),n.headers));const u=o._removeEmptyFolders(t),c=o._getFinalPath(u),d=await(e=="PUT"?lf:nr)(o.fetch,`${o.url}/object/${c}`,i,oe({headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(o.shouldThrowOnError)throw i;if(Ne(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var o=this;const i=o._removeEmptyFolders(e),s=o._getFinalPath(i),a=new URL(o.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l;const u=oe({upsert:yg.upsert},n),c=oe(oe({},o.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await lf(o.fetch,a.toString(),l,{headers:c})).Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ne(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const o=oe({},r.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const i=await nr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:o}),s=new URL(r.url+i.url),a=s.searchParams.get("token");if(!a)throw new Lu("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await nr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ne(o))return{data:null,error:o};throw o}}async copy(e,t,r){var n=this;try{return{data:{path:(await nr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ne(o))return{data:null,error:o};throw o}}async createSignedUrl(e,t,r){var n=this;try{let o=n._getFinalPath(e),i=await nr(n.fetch,`${n.url}/object/sign/${o}`,oe({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ne(o))return{data:null,error:o};throw o}}async createSignedUrls(e,t,r){var n=this;try{const o=await nr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>oe(oe({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ne(o))return{data:null,error:o};throw o}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=n?`?${n}`:"",i=this._getFinalPath(e),s=()=>Is(this.fetch,`${this.url}/${r}/${i}${o}`,{headers:this.headers,noResolveJson:!0});return new zA(s,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:af(await Is(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await $A(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ne(n)&&n instanceof sf){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&n.push(o);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&n.push(s);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(e){var t=this;try{return{data:await Kh(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const o=oe(oe(oe({},HA),t),{},{prefix:e||""});return{data:await nr(n.fetch,`${n.url}/object/list/${n.bucketId}`,o,{headers:n.headers},r),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ne(o))return{data:null,error:o};throw o}}async listV2(e,t){var r=this;try{const n=oe({},e);return{data:await nr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const rb="2.90.1",nb={"X-Client-Info":`storage-js/${rb}`};var qA=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const o=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=oe(oe({},nb),t),this.fetch=qh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Is(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Is(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await nr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await lf(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await nr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Kh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},KA=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=oe(oe({},nb),t),this.fetch=qh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await nr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),o=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Is(t.fetch,o,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Kh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!MA(e))throw new Lu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new AA({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(o,i){const s=o[i];return typeof s!="function"?s:async(...a)=>{try{return{data:await s.apply(o,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const Gh={"X-Client-Info":`storage-js/${rb}`,"Content-Type":"application/json"};var ob=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Pt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Ac=class extends ob{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},GA=class extends ob{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Ih=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),IA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QA=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,o=e;if(typeof o.json=="function")o.json().then(i=>{const s=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new Ac(wg(i),n,s))}).catch(()=>{const i=n+"";t(new Ac(o.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new Ac(o.statusText||`HTTP ${n} error`,n,i))}}else t(new GA(wg(e),e))},JA=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(IA(n)?(o.headers=oe({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(n)):o.body=n,oe(oe({},o),r)):o};async function YA(e,t,r,n,o,i){return new Promise((s,a)=>{e(r,JA(t,n,o,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>QA(l,a,n))})}async function At(e,t,r,n,o){return YA(e,"POST",t,n,o,r)}var XA=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=oe(oe({},Gh),t),this.fetch=Ih(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await At(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await At(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await At(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await At(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}},ZA=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=oe(oe({},Gh),t),this.fetch=Ih(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await At(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await At(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await At(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await At(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await At(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}}},eN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=oe(oe({},Gh),t),this.fetch=Ih(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await At(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await At(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await At(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await At(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}}},tN=class extends eN{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new rN(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},rN=class extends XA{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,oe(oe({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,oe(oe({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new nN(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},nN=class extends ZA{constructor(e,t,r,n,o){super(e,t,o),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,oe(oe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,oe(oe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,oe(oe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,oe(oe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,oe(oe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},oN=class extends qA{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new WA(this.url,this.headers,e,this.fetch)}get vectors(){return new tN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new KA(this.url+"/iceberg",this.headers,this.fetch)}};const ib="2.90.1",Wo=30*1e3,uf=3,Nc=uf*Wo,iN="http://localhost:9999",sN="supabase.auth.token",aN={"X-Client-Info":`gotrue-js/${ib}`},cf="X-Supabase-Api-Version",sb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uN=10*60*1e3;class Qs extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class cN extends Qs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function dN(e){return re(e)&&e.name==="AuthApiError"}class eo extends Qs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Jr extends Qs{constructor(t,r,n,o){super(t,n,o),this.name=r,this.status=n}}class kt extends Jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fN(e){return re(e)&&e.name==="AuthSessionMissingError"}class jo extends Jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ha extends Jr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Wa extends Jr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hN(e){return re(e)&&e.name==="AuthImplicitGrantRedirectError"}class bg extends Jr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pN extends Jr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class df extends Jr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Oc(e){return re(e)&&e.name==="AuthRetryableFetchError"}class _g extends Jr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ff extends Jr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xg=` 	
\r=`.split(""),mN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xg.length;t+=1)e[xg[t].charCodeAt(0)]=-2;for(let t=0;t<ql.length;t+=1)e[ql[t].charCodeAt(0)]=t;return e})();function Sg(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ql[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ql[n]),t.queuedBits-=6}}function ab(e,t,r){const n=mN[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Eg(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{yN(s,n,r)};for(let s=0;s<e.length;s+=1)ab(e.charCodeAt(s),o,i);return t.join("")}function gN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function vN(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}gN(n,t)}}function yN(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function hi(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)ab(e.charCodeAt(o),r,n);return new Uint8Array(t)}function wN(e){const t=[];return vN(e,r=>t.push(r)),new Uint8Array(t)}function oo(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};return e.forEach(o=>Sg(o,r,n)),Sg(null,r,n),t.join("")}function bN(e){return Math.round(Date.now()/1e3)+e}function _N(){return Symbol("auth-callback")}const Ze=()=>typeof window<"u"&&typeof document<"u",In={tested:!1,writable:!1},lb=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(In.tested)return In.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),In.tested=!0,In.writable=!0}catch{In.tested=!0,In.writable=!1}return In.writable};function xN(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return r.searchParams.forEach((n,o)=>{t[o]=n}),t}const ub=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Qn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Xe=async(e,t)=>{await e.removeItem(t)};class Mu{constructor(){this.promise=new Mu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Mu.promiseConstructor=Promise;function Lc(e){const t=e.split(".");if(t.length!==3)throw new ff("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!lN.test(t[n]))throw new ff("JWT not in base64url format");return{header:JSON.parse(Eg(t[0])),payload:JSON.parse(Eg(t[1])),signature:hi(t[2]),raw:{header:t[0],payload:t[1]}}}async function EN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function CN(e,t){return new Promise((n,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){o(s);return}}})()})}function kN(e){return("0"+e.toString(16)).substr(-2)}function TN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let i=0;i<56;i++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(t),Array.from(t,kN).join("")}async function RN(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function PN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await RN(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Do(e,t,r=!1){const n=TN();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await qo(e,`${t}-code-verifier`,o);const i=await PN(n);return[i,n===i?"plain":"s256"]}const AN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NN(e){const t=e.headers.get(cf);if(!t||!t.match(AN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ON(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function LN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const MN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vo(e){if(!MN.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mc(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jN(e,t){return new Proxy(e,{get:(r,n,o)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,o)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,o)}})}function Cg(e){return JSON.parse(JSON.stringify(e))}const Xn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DN=[502,503,504];async function kg(e){var t;if(!SN(e))throw new df(Xn(e),0);if(DN.includes(e.status))throw new df(Xn(e),e.status);let r;try{r=await e.json()}catch(i){throw new eo(Xn(i),i)}let n;const o=NN(e);if(o&&o.getTime()>=sb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _g(Xn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new kt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new _g(Xn(r),e.status,r.weak_password.reasons);throw new cN(Xn(r),e.status||500,n)}const VN=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function ne(e,t,r,n){var o;const i=Object.assign({},n==null?void 0:n.headers);i[cf]||(i[cf]=sb["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await BN(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function BN(e,t,r,n,o,i){const s=VN(t,n,o,i);let a;try{a=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new df(Xn(l),0)}if(a.ok||await kg(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await kg(l)}}function Zt(e){var t;let r=null;UN(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=bN(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Tg(e){const t=Zt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function FN(e){return{data:e,error:null}}function $N(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:i}=e,s=Wi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:i},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Rg(e){return e}function UN(e){return e.access_token&&e.refresh_token&&e.expires_in}const jc=["global","local","others"];class zN{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=ub(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=jc[0]){if(jc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jc.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fn})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Wi(t,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:$N,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fn})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,o,i,s,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Rg});if(c.error)throw c.error;const d=await c.json(),h=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const m=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);u[`${_}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(re(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Vo(t);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fn})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Vo(t);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:fn})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Vo(t);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:fn})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Vo(t.userId);try{const{data:r,error:n}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Vo(t.userId),Vo(t.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,o,i,s,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Rg});if(c.error)throw c.error;const d=await c.json(),h=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const m=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);u[`${_}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(re(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}}function Pg(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Bo={debug:!!(globalThis&&lb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class HN extends cb{}async function WN(e,t,r){Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new HN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function qN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function db(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function KN(e){return parseInt(e,16)}function GN(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function IN(e){var t;const{chainId:r,domain:n,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=db(e.address),w=c?`${c}://${n}`:n,m=e.statement?`${e.statement}
`:"",_=`${w} wants you to sign in with your Ethereum account:
${p}

${m}`;let v=`URI: ${d}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(v+=`
Expiration Time: ${o.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let g=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);g+=`
- ${b}`}v+=g}return`${_}
${v}`}class He extends Error{constructor({message:t,code:r,cause:n,name:o}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=o??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Kl extends He{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function QN({error:e,options:t}){var r,n,o;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new He({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new He({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new He({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new He({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new He({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new He({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new He({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new He({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(fb(s)){if(i.rp.id!==s)return new He({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new He({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new He({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new He({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new He({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function JN({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new He({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new He({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(fb(n)){if(r.rpId!==n)return new He({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new He({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new He({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new He({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class YN{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const XN=new YN;function ZN(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,o=Wi(e,["challenge","user","excludeCredentials"]),i=hi(t).buffer,s=Object.assign(Object.assign({},r),{id:hi(r.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:hi(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function eO(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Wi(e,["challenge","allowCredentials"]),o=hi(t).buffer,i=Object.assign(Object.assign({},n),{challenge:o});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const a=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:hi(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function tO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:oo(new Uint8Array(e.response.attestationObject)),clientDataJSON:oo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function rO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:oo(new Uint8Array(o.authenticatorData)),clientDataJSON:oo(new Uint8Array(o.clientDataJSON)),signature:oo(new Uint8Array(o.signature)),userHandle:o.userHandle?oo(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ag(){var e,t;return!!(Ze()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function nO(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kl("Browser returned unexpected credential type",t)}:{data:null,error:new Kl("Empty credential response",t)}}catch(t){return{data:null,error:QN({error:t,options:e})}}}async function oO(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kl("Browser returned unexpected credential type",t)}:{data:null,error:new Kl("Empty credential response",t)}}catch(t){return{data:null,error:JN({error:t,options:e})}}}const iO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},sO={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Gl(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),n={};for(const o of e)if(o)for(const i in o){const s=o[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const a=n[i];t(a)?n[i]=Gl(a,s):n[i]=Gl(s)}else n[i]=s}return n}function aO(e,t){return Gl(iO,e,t||{})}function lO(e,t){return Gl(sO,e,t||{})}class uO{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:o},i){try{const{data:s,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:a};const l=o??XN.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=aO(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await nO({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=lO(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await oO(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(s){return re(s)?{data:null,error:s}:{data:null,error:new eo("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!r)return{data:null,error:new Qs("rpId is required for WebAuthn authentication")};try{if(!Ag())return{data:null,error:new eo("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:o},{request:i});if(!s)return{data:null,error:a};const{webauthn:l}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return re(s)?{data:null,error:s}:{data:null,error:new eo("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!r)return{data:null,error:new Qs("rpId is required for WebAuthn registration")};try{if(!Ag())return{data:null,error:new eo("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:o},{create:i});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(s){return re(s)?{data:null,error:s}:{data:null,error:new eo("Unexpected error in register",s)}}}}qN();const cO={url:iN,storageKey:sN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ng(e,t,r){return await r()}const Fo={};class Js{get jwks(){var t,r;return(r=(t=Fo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Fo[this.storageKey]=Object.assign(Object.assign({},Fo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Fo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Fo[this.storageKey]=Object.assign(Object.assign({},Fo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},cO),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Js.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Js.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ze()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new zN({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ub(i.fetch),this.lock=i.lock||Ng,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Ze()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=WN:this.lock=Ng,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new uO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:lb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Pg(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ib}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ze()&&(r=xN(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ze()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),hN(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:s,redirectType:a}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return re(r)?this._returnResult({error:r}):this._returnResult({error:new eo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,o;try{const i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Zt}),{data:s,error:a}=i;if(a||!s)return this._returnResult({data:{user:null,session:null},error:a});const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,o;try{let i;if("email"in t){const{email:c,password:d,options:h}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Do(this.storage,this.storageKey)),i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:w},xform:Zt})}else if("phone"in t){const{phone:c,password:d,options:h}=t;i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(o=h==null?void 0:h.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Zt})}else throw new Ha("You must provide either an email or phone number and a password");const{data:s,error:a}=i;if(a||!s)return await Xe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:a}=t;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tg})}else if("phone"in t){const{phone:i,password:s,options:a}=t;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tg})}else throw new Ha("You must provide either an email or phone number and a password");const{data:n,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!n||!n.session||!n.user){const i=new jo;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,o,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,o,i,s,a,l,u,c,d,h;let p,w;if("message"in t)p=t.message,w=t.signature;else{const{chain:m,wallet:_,statement:v,options:g}=t;let b;if(Ze())if(typeof _=="object")b=_;else{const x=window;if("ethereum"in x&&typeof x.ethereum=="object"&&"request"in x.ethereum&&typeof x.ethereum.request=="function")b=x.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=_}const S=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),T=await b.request({method:"eth_requestAccounts"}).then(x=>x).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=db(T[0]);let O=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!O){const x=await b.request({method:"eth_chainId"});O=KN(x)}const V={domain:S.host,address:A,statement:v,uri:S.href,version:"1",chainId:O,nonce:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(s=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=IN(V),w=await b.request({method:"personal_sign",params:[GN(p),A]})}try{const{data:m,error:_}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:w},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Zt});if(_)throw _;if(!m||!m.session||!m.user){const v=new jo;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:_})}catch(m){if(re(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,o,i,s,a,l,u,c,d,h,p;let w,m;if("message"in t)w=t.message,m=t.signature;else{const{chain:_,wallet:v,statement:g,options:b}=t;let S;if(Ze())if(typeof v=="object")S=v;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))S=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const T=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const A=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),g?{statement:g}:null));let O;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")O=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)O=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)w=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),m=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${T.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(o=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(c=b==null?void 0:b.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const A=await S.signMessage(new TextEncoder().encode(w),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=A}}try{const{data:_,error:v}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:oo(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Zt});if(v)throw v;if(!_||!_.session||!_.user){const g=new jo;return this._returnResult({data:{user:null,session:null},error:g})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:v})}catch(_){if(re(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await Qn(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new pN;const{data:i,error:s}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Zt});if(await Xe(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const a=new jo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:s})}catch(i){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),re(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:o,access_token:i,nonce:s}=t,a=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Zt}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new jo;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,o,i,s;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Do(this.storage,this.storageKey));const{error:d}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(o=l==null?void 0:l.data)!==null&&o!==void 0?o:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Ha("You must provide either an email or phone number.")}catch(a){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let o,i;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:a}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:Zt});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var r,n,o,i,s;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Do(this.storage,this.storageKey));const u=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:FN});return!((i=u.data)===null||i===void 0)&&i.url&&Ze()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),re(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new kt;const{error:o}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(re(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:o,options:i}=t,{error:s}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:o,options:i}=t,{data:s,error:a}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a})}throw new Ha("You must provide either an email or phone number and a type")}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Qn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Nc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Qn(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Mc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=jN(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fn}):await this._useSession(async r=>{var n,o,i;const{data:s,error:a}=r;if(a)throw a;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kt}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:fn})})}catch(r){if(re(r))return fN(r)&&(await this._removeSession(),await Xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:o,error:i}=n;if(i)throw i;if(!o.session)throw new kt;const s=o.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Do(this.storage,this.storageKey));const{data:u,error:c}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:fn});if(c)throw c;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),re(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new kt;const r=Date.now()/1e3;let n=r,o=!0,i=null;const{payload:s}=Lc(t.access_token);if(s.exp&&(n=s.exp,o=n<=r),o){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:a}=r;if(a)throw a;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new kt;const{data:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ze())throw new Wa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wa("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bg("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:i,refresh_token:s,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!s||!u)throw new Wa("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const p=h-c;p*1e3<=Wo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const w=h-d;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,c);const{data:m,error:_}=await this._getUser(i);if(_)throw _;const v={provider_token:n,provider_refresh_token:o,access_token:i,expires_in:d,expires_at:h,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(re(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Qn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:i}=r;if(i)return this._returnResult({error:i});const s=(n=o.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:a}=await this.admin.signOut(s,t);if(a&&!(dN(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=_N(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,o;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await Do(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),re(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:o}=await this._useSession(async i=>{var s,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(o)throw o;return Ze()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(re(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:o,data:{session:i}}=r;if(o)throw o;const{options:s,provider:a,token:l,access_token:u,nonce:c}=t,d=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Zt}),{data:h,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new jo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(o){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,o;const{data:i,error:s}=r;if(s)throw s;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await CN(async o=>(o>0&&await EN(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zt})),(o,i)=>{const s=200*Math.pow(2,o);return i&&Oc(i)&&Date.now()+s-n<Wo})}catch(n){if(this._debug(r,"error",n),re(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ze()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await Qn(this.storage,this.storageKey);if(o&&this.userStorage){let s=await Qn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:o.user},await qo(this.userStorage,this.storageKey+"-user",s)),o.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Mc()}else if(o&&!o.user&&!o.user){const s=await Qn(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(o.user=s.user,await Xe(this.storage,this.storageKey+"-user"),await qo(this.storage,this.storageKey,o)):o.user=Mc()}if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const i=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Nc;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Nc}s`),i){if(this.autoRefreshToken&&o.refresh_token){const{error:s}=await this._callRefreshToken(o.refresh_token);s&&(console.error(s),Oc(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:a}=await this._getUser(o.access_token);!a&&(s!=null&&s.user)?(o.user=s.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Mu;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new kt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(o,"error",i),re(i)){const s={data:null,error:i};return Oc(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,n=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Xe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await qo(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const i=Cg(o);await qo(this.storage,this.storageKey,i)}else{const o=Cg(r);await qo(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Xe(this.storage,this.storageKey),await Xe(this.storage,this.storageKey+"-code-verifier"),await Xe(this.storage,this.storageKey+"-user"),this.userStorage&&await Xe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-t)/Wo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Wo}ms, refresh threshold is ${uf} ticks`),o<=uf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Do(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);o.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:o,error:i}=r;return i?this._returnResult({data:null,error:i}):await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,o;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((o=l==null?void 0:l.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?tO(t.webauthn.credential_response):rO(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:a}=s;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ZN(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:eO(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const o={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])o.all.push(i),i.status==="verified"&&o[i.factor_type].push(i);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Lc(n.access_token);let s=null;i.aal&&(s=i.aal);let a=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:s,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new kt})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:o},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new kt});const s=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return s.data&&s.data.redirect_url&&Ze()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:o},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new kt});const s=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return s.data&&s.data.redirect_url&&Ze()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new kt})})}catch(t){if(re(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new kt})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const o=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+uN>o)return n;const{data:i,error:s}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=o,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return this._returnResult({data:null,error:w});n=p.session.access_token}const{header:o,payload:i,signature:s,raw:{header:a,payload:l}}=Lc(n);r!=null&&r.allowExpired||ON(i.exp);const u=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:o,signature:s},error:null}}const c=LN(o.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,wN(`${a}.${l}`)))throw new ff("Invalid JWT signature");return{data:{claims:i,header:o,signature:s},error:null}}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}}Js.nextInstanceID={};const dO=Js,fO="2.90.1";let as="";typeof Deno<"u"?as="deno":typeof document<"u"?as="web":typeof navigator<"u"&&navigator.product==="ReactNative"?as="react-native":as="node";const hO={"X-Client-Info":`supabase-js-${as}/${fO}`},pO={headers:hO},mO={schema:"public"},gO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vO={};function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function yO(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wO(e){var t=yO(e,"string");return Ys(t)=="symbol"?t:t+""}function bO(e,t,r){return(t=wO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Og(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Og(Object(r),!0).forEach(function(n){bO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Og(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const _O=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xO=()=>Headers,SO=(e,t,r)=>{const n=_O(r),o=xO();return async(i,s)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new o(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Ve(Ve({},s),{},{headers:u}))}};function EO(e){return e.endsWith("/")?e:e+"/"}function CO(e,t){var r,n;const{db:o,auth:i,realtime:s,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:Ve(Ve({},l),o),auth:Ve(Ve({},u),i),realtime:Ve(Ve({},c),s),storage:{},global:Ve(Ve(Ve({},d),a),{},{headers:Ve(Ve({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function kO(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(EO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var TO=class extends dO{constructor(e){super(e)}},RO=class{constructor(e,t,r){var n,o;this.supabaseUrl=e,this.supabaseKey=t;const i=kO(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const s=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:mO,realtime:vO,auth:Ve(Ve({},gO),{},{storageKey:s}),global:pO},l=CO(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(o=l.global.headers)!==null&&o!==void 0?o:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=SO(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Ve({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new aA(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new oN(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new rA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:o,storageKey:i,flowType:s,lock:a,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new TO({url:this.authUrl.href,headers:Ve(Ve({},h),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:o,flowType:s,lock:a,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new EA(this.realtimeUrl.href,Ve(Ve({},e),{},{params:Ve(Ve({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const PO=(e,t,r)=>new RO(e,t,r);function AO(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}AO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const NO="https://qappkgloabqnpjxpvtaz.supabase.co",OO="sb_publishable_yjQAxeZpCtthhM0qsdpmgA_AuJqJDjx",wt=PO(NO,OO),hb=y.createContext(void 0),LO=({children:e})=>{const[t,r]=y.useState(null),[n,o]=y.useState(null),[i,s]=y.useState(!0);y.useEffect(()=>{wt.auth.getSession().then(({data:{session:u}})=>{o(u),r((u==null?void 0:u.user)??null),s(!1)});const{data:{subscription:l}}=wt.auth.onAuthStateChange((u,c)=>{o(c),r((c==null?void 0:c.user)??null),s(!1)});return()=>l.unsubscribe()},[]);const a=async()=>{await wt.auth.signOut()};return f.jsx(hb.Provider,{value:{user:t,session:n,loading:i,signOut:a},children:!i&&e})},pb=()=>{const e=y.useContext(hb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},MO=Eu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),be=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},i)=>{const s=n?yC:"button";return f.jsx(s,{className:fe(MO({variant:t,size:r,className:e})),ref:i,...o})});be.displayName="Button";const An=y.forwardRef(({className:e,type:t,...r},n)=>f.jsx("input",{type:t,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));An.displayName="Input";var jO=y.createContext(void 0);function Qh(e){const t=y.useContext(jO);return e||t||"ltr"}var Dc=0;function mb(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Lg()),document.body.insertAdjacentElement("beforeend",e[1]??Lg()),Dc++,()=>{Dc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Dc--}},[])}function Lg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vc="focusScope.autoFocusOnMount",Bc="focusScope.autoFocusOnUnmount",Mg={bubbles:!1,cancelable:!0},DO="FocusScope",Jh=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=e,[a,l]=y.useState(null),u=Ct(o),c=Ct(i),d=y.useRef(null),h=we(t,m=>l(m)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let m=function(b){if(p.paused||!a)return;const S=b.target;a.contains(S)?d.current=S:sn(d.current,{select:!0})},_=function(b){if(p.paused||!a)return;const S=b.relatedTarget;S!==null&&(a.contains(S)||sn(d.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const T of b)T.removedNodes.length>0&&sn(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",_);const g=new MutationObserver(v);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",_),g.disconnect()}}},[n,a,p.paused]),y.useEffect(()=>{if(a){Dg.add(p);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(Vc,Mg);a.addEventListener(Vc,u),a.dispatchEvent(v),v.defaultPrevented||(VO(zO(gb(a)),{select:!0}),document.activeElement===m&&sn(a))}return()=>{a.removeEventListener(Vc,u),setTimeout(()=>{const v=new CustomEvent(Bc,Mg);a.addEventListener(Bc,c),a.dispatchEvent(v),v.defaultPrevented||sn(m??document.body,{select:!0}),a.removeEventListener(Bc,c),Dg.remove(p)},0)}}},[a,u,c,p]);const w=y.useCallback(m=>{if(!r&&!n||p.paused)return;const _=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(_&&v){const g=m.currentTarget,[b,S]=BO(g);b&&S?!m.shiftKey&&v===S?(m.preventDefault(),r&&sn(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),r&&sn(S,{select:!0})):v===g&&m.preventDefault()}},[r,n,p.paused]);return f.jsx(he.div,{tabIndex:-1,...s,ref:h,onKeyDown:w})});Jh.displayName=DO;function VO(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(sn(n,{select:t}),document.activeElement!==r)return}function BO(e){const t=gb(e),r=jg(t,e),n=jg(t.reverse(),e);return[r,n]}function gb(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function jg(e,t){for(const r of e)if(!FO(r,{upTo:t}))return r}function FO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $O(e){return e instanceof HTMLInputElement&&"select"in e}function sn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&$O(e)&&t&&e.select()}}var Dg=UO();function UO(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Vg(e,t),e.unshift(t)},remove(t){var r;e=Vg(e,t),(r=e[0])==null||r.resume()}}}function Vg(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function zO(e){return e.filter(t=>t.tagName!=="A")}var Fc="rovingFocusGroup.onEntryFocus",HO={bubbles:!1,cancelable:!0},ha="RovingFocusGroup",[hf,vb,WO]=bu(ha),[qO,yb]=Pr(ha,[WO]),[KO,GO]=qO(ha),wb=y.forwardRef((e,t)=>f.jsx(hf.Provider,{scope:e.__scopeRovingFocusGroup,children:f.jsx(hf.Slot,{scope:e.__scopeRovingFocusGroup,children:f.jsx(IO,{...e,ref:t})})}));wb.displayName=ha;var IO=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:c=!1,...d}=e,h=y.useRef(null),p=we(t,h),w=Qh(i),[m,_]=wo({prop:s,defaultProp:a??null,onChange:l,caller:ha}),[v,g]=y.useState(!1),b=Ct(u),S=vb(r),T=y.useRef(!1),[A,O]=y.useState(0);return y.useEffect(()=>{const V=h.current;if(V)return V.addEventListener(Fc,b),()=>V.removeEventListener(Fc,b)},[b]),f.jsx(KO,{scope:r,orientation:n,dir:w,loop:o,currentTabStopId:m,onItemFocus:y.useCallback(V=>_(V),[_]),onItemShiftTab:y.useCallback(()=>g(!0),[]),onFocusableItemAdd:y.useCallback(()=>O(V=>V+1),[]),onFocusableItemRemove:y.useCallback(()=>O(V=>V-1),[]),children:f.jsx(he.div,{tabIndex:v||A===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:X(e.onMouseDown,()=>{T.current=!0}),onFocus:X(e.onFocus,V=>{const x=!T.current;if(V.target===V.currentTarget&&x&&!v){const C=new CustomEvent(Fc,HO);if(V.currentTarget.dispatchEvent(C),!C.defaultPrevented){const N=S().filter(L=>L.focusable),j=N.find(L=>L.active),E=N.find(L=>L.id===m),P=[j,E,...N].filter(Boolean).map(L=>L.ref.current);xb(P,c)}}T.current=!1}),onBlur:X(e.onBlur,()=>g(!1))})})}),bb="RovingFocusGroupItem",_b=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:i,children:s,...a}=e,l=Ni(),u=i||l,c=GO(bb,r),d=c.currentTabStopId===u,h=vb(r),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:m}=c;return y.useEffect(()=>{if(n)return p(),()=>w()},[n,p,w]),f.jsx(hf.ItemSlot,{scope:r,id:u,focusable:n,active:o,children:f.jsx(he.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...a,ref:t,onMouseDown:X(e.onMouseDown,_=>{n?c.onItemFocus(u):_.preventDefault()}),onFocus:X(e.onFocus,()=>c.onItemFocus(u)),onKeyDown:X(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){c.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const v=YO(_,c.orientation,c.dir);if(v!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let b=h().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const S=b.indexOf(_.currentTarget);b=c.loop?XO(b,S+1):b.slice(S+1)}setTimeout(()=>xb(b))}}),children:typeof s=="function"?s({isCurrentTabStop:d,hasTabStop:m!=null}):s})})});_b.displayName=bb;var QO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function JO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function YO(e,t,r){const n=JO(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return QO[n]}function xb(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function XO(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ZO=wb,eL=_b,tL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$o=new WeakMap,qa=new WeakMap,Ka={},$c=0,Sb=function(e){return e&&(e.host||Sb(e.parentNode))},rL=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Sb(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},nL=function(e,t,r,n){var o=rL(t,Array.isArray(e)?e:[e]);Ka[r]||(Ka[r]=new WeakMap);var i=Ka[r],s=[],a=new Set,l=new Set(o),u=function(d){!d||a.has(d)||(a.add(d),u(d.parentNode))};o.forEach(u);var c=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))c(h);else try{var p=h.getAttribute(n),w=p!==null&&p!=="false",m=($o.get(h)||0)+1,_=(i.get(h)||0)+1;$o.set(h,m),i.set(h,_),s.push(h),m===1&&w&&qa.set(h,!0),_===1&&h.setAttribute(r,"true"),w||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return c(t),a.clear(),$c++,function(){s.forEach(function(d){var h=$o.get(d)-1,p=i.get(d)-1;$o.set(d,h),i.set(d,p),h||(qa.has(d)||d.removeAttribute(n),qa.delete(d)),p||d.removeAttribute(r)}),$c--,$c||($o=new WeakMap,$o=new WeakMap,qa=new WeakMap,Ka={})}},Eb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=tL(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),nL(n,o,r,"aria-hidden")):function(){return null}},dl="right-scroll-bar-position",fl="width-before-scroll-bar",oL="with-scroll-bars-hidden",iL="--removed-body-scroll-bar-size";function Uc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function sL(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var aL=typeof window<"u"?y.useLayoutEffect:y.useEffect,Bg=new WeakMap;function lL(e,t){var r=sL(null,function(n){return e.forEach(function(o){return Uc(o,n)})});return aL(function(){var n=Bg.get(r);if(n){var o=new Set(n),i=new Set(e),s=r.current;o.forEach(function(a){i.has(a)||Uc(a,null)}),i.forEach(function(a){o.has(a)||Uc(a,s)})}Bg.set(r,e)},[e]),r}function uL(e){return e}function cL(e,t){t===void 0&&(t=uL);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var s=t(i,n);return r.push(s),function(){r=r.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var a=r;r=[],a.forEach(i),s=r}var l=function(){var c=s;s=[],c.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),r}}}};return o}function dL(e){e===void 0&&(e={});var t=cL(null);return t.options=xr({async:!0,ssr:!1},e),t}var Cb=function(e){var t=e.sideCar,r=Wi(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,xr({},r))};Cb.isSideCarExport=!0;function fL(e,t){return e.useMedium(t),Cb}var kb=dL(),zc=function(){},ju=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:zc,onWheelCapture:zc,onTouchMoveCapture:zc}),o=n[0],i=n[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,h=e.sideCar,p=e.noRelative,w=e.noIsolation,m=e.inert,_=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,b=e.gapMode,S=Wi(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=h,A=lL([r,t]),O=xr(xr({},S),o);return y.createElement(y.Fragment,null,c&&y.createElement(T,{sideCar:kb,removeScrollBar:u,shards:d,noRelative:p,noIsolation:w,inert:m,setCallbacks:i,allowPinchZoom:!!_,lockRef:r,gapMode:b}),s?y.cloneElement(y.Children.only(a),xr(xr({},O),{ref:A})):y.createElement(g,xr({},O,{className:l,ref:A}),a))});ju.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ju.classNames={fullWidth:fl,zeroRight:dl};var hL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=hL();return t&&e.setAttribute("nonce",t),e}function mL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function gL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vL=function(){var e=0,t=null;return{add:function(r){e==0&&(t=pL())&&(mL(t,r),gL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yL=function(){var e=vL();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Tb=function(){var e=yL(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},wL={left:0,top:0,right:0,gap:0},Hc=function(e){return parseInt(e||"",10)||0},bL=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Hc(r),Hc(n),Hc(o)]},_L=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wL;var t=bL(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},xL=Tb(),pi="data-scroll-locked",SL=function(e,t,r,n){var o=e.left,i=e.top,s=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(oL,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(pi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dl,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(fl,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(dl," .").concat(dl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(fl," .").concat(fl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(pi,`] {
    `).concat(iL,": ").concat(a,`px;
  }
`)},Fg=function(){var e=parseInt(document.body.getAttribute(pi)||"0",10);return isFinite(e)?e:0},EL=function(){y.useEffect(function(){return document.body.setAttribute(pi,(Fg()+1).toString()),function(){var e=Fg()-1;e<=0?document.body.removeAttribute(pi):document.body.setAttribute(pi,e.toString())}},[])},CL=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;EL();var i=y.useMemo(function(){return _L(o)},[o]);return y.createElement(xL,{styles:SL(i,!t,o,r?"":"!important")})},pf=!1;if(typeof window<"u")try{var Ga=Object.defineProperty({},"passive",{get:function(){return pf=!0,!0}});window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{pf=!1}var Uo=pf?{passive:!1}:!1,kL=function(e){return e.tagName==="TEXTAREA"},Rb=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!kL(e)&&r[t]==="visible")},TL=function(e){return Rb(e,"overflowY")},RL=function(e){return Rb(e,"overflowX")},$g=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Pb(e,n);if(o){var i=Ab(e,n),s=i[1],a=i[2];if(s>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},PL=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},AL=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Pb=function(e,t){return e==="v"?TL(t):RL(t)},Ab=function(e,t){return e==="v"?PL(t):AL(t)},NL=function(e,t){return e==="h"&&t==="rtl"?-1:1},OL=function(e,t,r,n,o){var i=NL(e,window.getComputedStyle(t).direction),s=i*n,a=r.target,l=t.contains(a),u=!1,c=s>0,d=0,h=0;do{if(!a)break;var p=Ab(e,a),w=p[0],m=p[1],_=p[2],v=m-_-i*w;(w||v)&&Pb(e,a)&&(d+=v,h+=w);var g=a.parentNode;a=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&(Math.abs(d)<1||!o)||!c&&(Math.abs(h)<1||!o))&&(u=!0),u},Ia=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ug=function(e){return[e.deltaX,e.deltaY]},zg=function(e){return e&&"current"in e?e.current:e},LL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ML=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},jL=0,zo=[];function DL(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),o=y.useState(jL++)[0],i=y.useState(Tb)[0],s=y.useRef(e);y.useEffect(function(){s.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var m=ZP([e.lockRef.current],(e.shards||[]).map(zg),!0).filter(Boolean);return m.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),m.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=y.useCallback(function(m,_){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var v=Ia(m),g=r.current,b="deltaX"in m?m.deltaX:g[0]-v[0],S="deltaY"in m?m.deltaY:g[1]-v[1],T,A=m.target,O=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in m&&O==="h"&&A.type==="range")return!1;var V=$g(O,A);if(!V)return!0;if(V?T=O:(T=O==="v"?"h":"v",V=$g(O,A)),!V)return!1;if(!n.current&&"changedTouches"in m&&(b||S)&&(n.current=T),!T)return!0;var x=n.current||T;return OL(x,_,m,x==="h"?b:S,!0)},[]),l=y.useCallback(function(m){var _=m;if(!(!zo.length||zo[zo.length-1]!==i)){var v="deltaY"in _?Ug(_):Ia(_),g=t.current.filter(function(T){return T.name===_.type&&(T.target===_.target||_.target===T.shadowParent)&&LL(T.delta,v)})[0];if(g&&g.should){_.cancelable&&_.preventDefault();return}if(!g){var b=(s.current.shards||[]).map(zg).filter(Boolean).filter(function(T){return T.contains(_.target)}),S=b.length>0?a(_,b[0]):!s.current.noIsolation;S&&_.cancelable&&_.preventDefault()}}},[]),u=y.useCallback(function(m,_,v,g){var b={name:m,delta:_,target:v,should:g,shadowParent:VL(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),c=y.useCallback(function(m){r.current=Ia(m),n.current=void 0},[]),d=y.useCallback(function(m){u(m.type,Ug(m),m.target,a(m,e.lockRef.current))},[]),h=y.useCallback(function(m){u(m.type,Ia(m),m.target,a(m,e.lockRef.current))},[]);y.useEffect(function(){return zo.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Uo),document.addEventListener("touchmove",l,Uo),document.addEventListener("touchstart",c,Uo),function(){zo=zo.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,Uo),document.removeEventListener("touchmove",l,Uo),document.removeEventListener("touchstart",c,Uo)}},[]);var p=e.removeScrollBar,w=e.inert;return y.createElement(y.Fragment,null,w?y.createElement(i,{styles:ML(o)}):null,p?y.createElement(CL,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function VL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const BL=fL(kb,DL);var Yh=y.forwardRef(function(e,t){return y.createElement(ju,xr({},e,{ref:t,sideCar:BL}))});Yh.classNames=ju.classNames;var mf=["Enter"," "],FL=["ArrowDown","PageUp","Home"],Nb=["ArrowUp","PageDown","End"],$L=[...FL,...Nb],UL={ltr:[...mf,"ArrowRight"],rtl:[...mf,"ArrowLeft"]},zL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pa="Menu",[Xs,HL,WL]=bu(pa),[To,Ob]=Pr(pa,[WL,Ui,yb]),Du=Ui(),Lb=yb(),[qL,Ro]=To(pa),[KL,ma]=To(pa),Mb=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:i,modal:s=!0}=e,a=Du(t),[l,u]=y.useState(null),c=y.useRef(!1),d=Ct(i),h=Qh(o);return y.useEffect(()=>{const p=()=>{c.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>c.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),f.jsx(S0,{...a,children:f.jsx(qL,{scope:t,open:r,onOpenChange:d,content:l,onContentChange:u,children:f.jsx(KL,{scope:t,onClose:y.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:c,dir:h,modal:s,children:n})})})};Mb.displayName=pa;var GL="MenuAnchor",Xh=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Du(r);return f.jsx(Mh,{...o,...n,ref:t})});Xh.displayName=GL;var Zh="MenuPortal",[IL,jb]=To(Zh,{forceMount:void 0}),Db=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:o}=e,i=Ro(Zh,t);return f.jsx(IL,{scope:t,forceMount:r,children:f.jsx(Fn,{present:r||i.open,children:f.jsx(_u,{asChild:!0,container:o,children:n})})})};Db.displayName=Zh;var Ht="MenuContent",[QL,ep]=To(Ht),Vb=y.forwardRef((e,t)=>{const r=jb(Ht,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,i=Ro(Ht,e.__scopeMenu),s=ma(Ht,e.__scopeMenu);return f.jsx(Xs.Provider,{scope:e.__scopeMenu,children:f.jsx(Fn,{present:n||i.open,children:f.jsx(Xs.Slot,{scope:e.__scopeMenu,children:s.modal?f.jsx(JL,{...o,ref:t}):f.jsx(YL,{...o,ref:t})})})})}),JL=y.forwardRef((e,t)=>{const r=Ro(Ht,e.__scopeMenu),n=y.useRef(null),o=we(t,n);return y.useEffect(()=>{const i=n.current;if(i)return Eb(i)},[]),f.jsx(tp,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:X(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),YL=y.forwardRef((e,t)=>{const r=Ro(Ht,e.__scopeMenu);return f.jsx(tp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),XL=Ai("MenuContent.ScrollLock"),tp=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:p,disableOutsideScroll:w,...m}=e,_=Ro(Ht,r),v=ma(Ht,r),g=Du(r),b=Lb(r),S=HL(r),[T,A]=y.useState(null),O=y.useRef(null),V=we(t,O,_.onContentChange),x=y.useRef(0),C=y.useRef(""),N=y.useRef(0),j=y.useRef(null),E=y.useRef("right"),k=y.useRef(0),P=w?Yh:y.Fragment,L=w?{as:XL,allowPinchZoom:!0}:void 0,B=R=>{var U,Z;const D=C.current+R,H=S().filter(ie=>!ie.disabled),F=document.activeElement,W=(U=H.find(ie=>ie.ref.current===F))==null?void 0:U.textValue,I=H.map(ie=>ie.textValue),G=cM(I,D,W),J=(Z=H.find(ie=>ie.textValue===G))==null?void 0:Z.ref.current;(function ie(le){C.current=le,window.clearTimeout(x.current),le!==""&&(x.current=window.setTimeout(()=>ie(""),1e3))})(D),J&&setTimeout(()=>J.focus())};y.useEffect(()=>()=>window.clearTimeout(x.current),[]),mb();const M=y.useCallback(R=>{var H,F;return E.current===((H=j.current)==null?void 0:H.side)&&fM(R,(F=j.current)==null?void 0:F.area)},[]);return f.jsx(QL,{scope:r,searchRef:C,onItemEnter:y.useCallback(R=>{M(R)&&R.preventDefault()},[M]),onItemLeave:y.useCallback(R=>{var D;M(R)||((D=O.current)==null||D.focus(),A(null))},[M]),onTriggerLeave:y.useCallback(R=>{M(R)&&R.preventDefault()},[M]),pointerGraceTimerRef:N,onPointerGraceIntentChange:y.useCallback(R=>{j.current=R},[]),children:f.jsx(P,{...L,children:f.jsx(Jh,{asChild:!0,trapped:o,onMountAutoFocus:X(i,R=>{var D;R.preventDefault(),(D=O.current)==null||D.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:f.jsx(ua,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:p,children:f.jsx(ZO,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:T,onCurrentTabStopIdChange:A,onEntryFocus:X(l,R=>{v.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(jh,{role:"menu","aria-orientation":"vertical","data-state":Zb(_.open),"data-radix-menu-content":"",dir:v.dir,...g,...m,ref:V,style:{outline:"none",...m.style},onKeyDown:X(m.onKeyDown,R=>{const H=R.target.closest("[data-radix-menu-content]")===R.currentTarget,F=R.ctrlKey||R.altKey||R.metaKey,W=R.key.length===1;H&&(R.key==="Tab"&&R.preventDefault(),!F&&W&&B(R.key));const I=O.current;if(R.target!==I||!$L.includes(R.key))return;R.preventDefault();const J=S().filter(U=>!U.disabled).map(U=>U.ref.current);Nb.includes(R.key)&&J.reverse(),lM(J)}),onBlur:X(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(x.current),C.current="")}),onPointerMove:X(e.onPointerMove,Zs(R=>{const D=R.target,H=k.current!==R.clientX;if(R.currentTarget.contains(D)&&H){const F=R.clientX>k.current?"right":"left";E.current=F,k.current=R.clientX}}))})})})})})})});Vb.displayName=Ht;var ZL="MenuGroup",rp=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return f.jsx(he.div,{role:"group",...n,ref:t})});rp.displayName=ZL;var eM="MenuLabel",Bb=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return f.jsx(he.div,{...n,ref:t})});Bb.displayName=eM;var Il="MenuItem",Hg="menu.itemSelect",Vu=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...o}=e,i=y.useRef(null),s=ma(Il,e.__scopeMenu),a=ep(Il,e.__scopeMenu),l=we(t,i),u=y.useRef(!1),c=()=>{const d=i.current;if(!r&&d){const h=new CustomEvent(Hg,{bubbles:!0,cancelable:!0});d.addEventListener(Hg,p=>n==null?void 0:n(p),{once:!0}),yh(d,h),h.defaultPrevented?u.current=!1:s.onClose()}};return f.jsx(Fb,{...o,ref:l,disabled:r,onClick:X(e.onClick,c),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:X(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:X(e.onKeyDown,d=>{const h=a.searchRef.current!=="";r||h&&d.key===" "||mf.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Vu.displayName=Il;var Fb=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...i}=e,s=ep(Il,r),a=Lb(r),l=y.useRef(null),u=we(t,l),[c,d]=y.useState(!1),[h,p]=y.useState("");return y.useEffect(()=>{const w=l.current;w&&p((w.textContent??"").trim())},[i.children]),f.jsx(Xs.ItemSlot,{scope:r,disabled:n,textValue:o??h,children:f.jsx(eL,{asChild:!0,...a,focusable:!n,children:f.jsx(he.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:X(e.onPointerMove,Zs(w=>{n?s.onItemLeave(w):(s.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:X(e.onPointerLeave,Zs(w=>s.onItemLeave(w))),onFocus:X(e.onFocus,()=>d(!0)),onBlur:X(e.onBlur,()=>d(!1))})})})}),tM="MenuCheckboxItem",$b=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...o}=e;return f.jsx(qb,{scope:e.__scopeMenu,checked:r,children:f.jsx(Vu,{role:"menuitemcheckbox","aria-checked":Ql(r)?"mixed":r,...o,ref:t,"data-state":op(r),onSelect:X(o.onSelect,()=>n==null?void 0:n(Ql(r)?!0:!r),{checkForDefaultPrevented:!1})})})});$b.displayName=tM;var Ub="MenuRadioGroup",[rM,nM]=To(Ub,{value:void 0,onValueChange:()=>{}}),zb=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...o}=e,i=Ct(n);return f.jsx(rM,{scope:e.__scopeMenu,value:r,onValueChange:i,children:f.jsx(rp,{...o,ref:t})})});zb.displayName=Ub;var Hb="MenuRadioItem",Wb=y.forwardRef((e,t)=>{const{value:r,...n}=e,o=nM(Hb,e.__scopeMenu),i=r===o.value;return f.jsx(qb,{scope:e.__scopeMenu,checked:i,children:f.jsx(Vu,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":op(i),onSelect:X(n.onSelect,()=>{var s;return(s=o.onValueChange)==null?void 0:s.call(o,r)},{checkForDefaultPrevented:!1})})})});Wb.displayName=Hb;var np="MenuItemIndicator",[qb,oM]=To(np,{checked:!1}),Kb=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...o}=e,i=oM(np,r);return f.jsx(Fn,{present:n||Ql(i.checked)||i.checked===!0,children:f.jsx(he.span,{...o,ref:t,"data-state":op(i.checked)})})});Kb.displayName=np;var iM="MenuSeparator",Gb=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return f.jsx(he.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Gb.displayName=iM;var sM="MenuArrow",Ib=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Du(r);return f.jsx(Dh,{...o,...n,ref:t})});Ib.displayName=sM;var aM="MenuSub",[BD,Qb]=To(aM),ls="MenuSubTrigger",Jb=y.forwardRef((e,t)=>{const r=Ro(ls,e.__scopeMenu),n=ma(ls,e.__scopeMenu),o=Qb(ls,e.__scopeMenu),i=ep(ls,e.__scopeMenu),s=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:e.__scopeMenu},c=y.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return y.useEffect(()=>c,[c]),y.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),f.jsx(Xh,{asChild:!0,...u,children:f.jsx(Fb,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":Zb(r.open),...e,ref:wu(t,o.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:X(e.onPointerMove,Zs(d=>{i.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),c()},100))})),onPointerLeave:X(e.onPointerLeave,Zs(d=>{var p,w;c();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(w=r.content)==null?void 0:w.dataset.side,_=m==="right",v=_?-5:5,g=h[_?"left":"right"],b=h[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:g,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:g,y:h.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:X(e.onKeyDown,d=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&d.key===" "||UL[n.dir].includes(d.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),d.preventDefault())})})})});Jb.displayName=ls;var Yb="MenuSubContent",Xb=y.forwardRef((e,t)=>{const r=jb(Ht,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,i=Ro(Ht,e.__scopeMenu),s=ma(Ht,e.__scopeMenu),a=Qb(Yb,e.__scopeMenu),l=y.useRef(null),u=we(t,l);return f.jsx(Xs.Provider,{scope:e.__scopeMenu,children:f.jsx(Fn,{present:n||i.open,children:f.jsx(Xs.Slot,{scope:e.__scopeMenu,children:f.jsx(tp,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:c=>{var d;s.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),c.preventDefault()},onCloseAutoFocus:c=>c.preventDefault(),onFocusOutside:X(e.onFocusOutside,c=>{c.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:X(e.onEscapeKeyDown,c=>{s.onClose(),c.preventDefault()}),onKeyDown:X(e.onKeyDown,c=>{var p;const d=c.currentTarget.contains(c.target),h=zL[s.dir].includes(c.key);d&&h&&(i.onOpenChange(!1),(p=a.trigger)==null||p.focus(),c.preventDefault())})})})})})});Xb.displayName=Yb;function Zb(e){return e?"open":"closed"}function Ql(e){return e==="indeterminate"}function op(e){return Ql(e)?"indeterminate":e?"checked":"unchecked"}function lM(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function uM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function cM(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=uM(e,Math.max(i,0));o.length===1&&(s=s.filter(u=>u!==r));const l=s.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return l!==r?l:void 0}function dM(e,t){const{x:r,y:n}=e;let o=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const a=t[i],l=t[s],u=a.x,c=a.y,d=l.x,h=l.y;c>n!=h>n&&r<(d-u)*(n-c)/(h-c)+u&&(o=!o)}return o}function fM(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return dM(r,t)}function Zs(e){return t=>t.pointerType==="mouse"?e(t):void 0}var hM=Mb,pM=Xh,mM=Db,gM=Vb,vM=rp,yM=Bb,wM=Vu,bM=$b,_M=zb,xM=Wb,SM=Kb,EM=Gb,CM=Ib,kM=Jb,TM=Xb,Bu="DropdownMenu",[RM,FD]=Pr(Bu,[Ob]),gt=Ob(),[PM,e_]=RM(Bu),t_=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,l=gt(t),u=y.useRef(null),[c,d]=wo({prop:o,defaultProp:i??!1,onChange:s,caller:Bu});return f.jsx(PM,{scope:t,triggerId:Ni(),triggerRef:u,contentId:Ni(),open:c,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:a,children:f.jsx(hM,{...l,open:c,onOpenChange:d,dir:n,modal:a,children:r})})};t_.displayName=Bu;var r_="DropdownMenuTrigger",n_=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,i=e_(r_,r),s=gt(r);return f.jsx(pM,{asChild:!0,...s,children:f.jsx(he.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:wu(t,i.triggerRef),onPointerDown:X(e.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:X(e.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});n_.displayName=r_;var AM="DropdownMenuPortal",o_=e=>{const{__scopeDropdownMenu:t,...r}=e,n=gt(t);return f.jsx(mM,{...n,...r})};o_.displayName=AM;var i_="DropdownMenuContent",s_=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=e_(i_,r),i=gt(r),s=y.useRef(!1);return f.jsx(gM,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...n,ref:t,onCloseAutoFocus:X(e.onCloseAutoFocus,a=>{var l;s.current||(l=o.triggerRef.current)==null||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:X(e.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,c=l.button===2||u;(!o.modal||c)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});s_.displayName=i_;var NM="DropdownMenuGroup",OM=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=gt(r);return f.jsx(vM,{...o,...n,ref:t})});OM.displayName=NM;var LM="DropdownMenuLabel",a_=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=gt(r);return f.jsx(yM,{...o,...n,ref:t})});a_.displayName=LM;var MM="DropdownMenuItem",l_=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=gt(r);return f.jsx(wM,{...o,...n,ref:t})});l_.displayName=MM;var jM="DropdownMenuCheckboxItem",u_=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=gt(r);return f.jsx(bM,{...o,...n,ref:t})});u_.displayName=jM;var DM="DropdownMenuRadioGroup",VM=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=gt(r);return f.jsx(_M,{...o,...n,ref:t})});VM.displayName=DM;var BM="DropdownMenuRadioItem",c_=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=gt(r);return f.jsx(xM,{...o,...n,ref:t})});c_.displayName=BM;var FM="DropdownMenuItemIndicator",d_=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=gt(r);return f.jsx(SM,{...o,...n,ref:t})});d_.displayName=FM;var $M="DropdownMenuSeparator",f_=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=gt(r);return f.jsx(EM,{...o,...n,ref:t})});f_.displayName=$M;var UM="DropdownMenuArrow",zM=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=gt(r);return f.jsx(CM,{...o,...n,ref:t})});zM.displayName=UM;var HM="DropdownMenuSubTrigger",h_=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=gt(r);return f.jsx(kM,{...o,...n,ref:t})});h_.displayName=HM;var WM="DropdownMenuSubContent",p_=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=gt(r);return f.jsx(TM,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});p_.displayName=WM;var qM=t_,KM=n_,GM=o_,m_=s_,g_=a_,v_=l_,y_=u_,w_=c_,b_=d_,__=f_,x_=h_,S_=p_;const IM=qM,QM=KM,JM=y.forwardRef(({className:e,inset:t,children:r,...n},o)=>f.jsxs(x_,{ref:o,className:fe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,f.jsx(Fs,{className:"ml-auto h-4 w-4"})]}));JM.displayName=x_.displayName;const YM=y.forwardRef(({className:e,...t},r)=>f.jsx(S_,{ref:r,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));YM.displayName=S_.displayName;const E_=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>f.jsx(GM,{children:f.jsx(m_,{ref:n,sideOffset:t,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));E_.displayName=m_.displayName;const C_=y.forwardRef(({className:e,inset:t,...r},n)=>f.jsx(v_,{ref:n,className:fe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));C_.displayName=v_.displayName;const XM=y.forwardRef(({className:e,children:t,checked:r,...n},o)=>f.jsxs(y_,{ref:o,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(b_,{children:f.jsx(xh,{className:"h-4 w-4"})})}),t]}));XM.displayName=y_.displayName;const ZM=y.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(w_,{ref:n,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(b_,{children:f.jsx(mk,{className:"h-2 w-2 fill-current"})})}),t]}));ZM.displayName=w_.displayName;const ej=y.forwardRef(({className:e,inset:t,...r},n)=>f.jsx(g_,{ref:n,className:fe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));ej.displayName=g_.displayName;const tj=y.forwardRef(({className:e,...t},r)=>f.jsx(__,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",e),...t}));tj.displayName=__.displayName;const Wc=[{code:"en",name:"EN"},{code:"hi",name:"HI"},{code:"kn",name:"KN"},{code:"ta",name:"TA"},{code:"te",name:"TE"}],qc=[{label:"Home",href:"/"},{label:"Categories",href:"/categories"},{label:"Latest",href:"/latest"},{label:"Top Rated",href:"/top-rated"},{label:"Most Viewed",href:"/most-viewed"},{label:"Pornstars",href:"/pornstars"}],ea=()=>{const[e,t]=y.useState(!1),{language:r,setLanguage:n,isDarkMode:o,toggleDarkMode:i}=YP(),[s,a]=y.useState(""),l=zn(),u=Wc.find(d=>d.code===r)||Wc[0],c=d=>{d==null||d.preventDefault(),s.trim()&&(l(`/?search=${encodeURIComponent(s.trim())}`),a(""))};return f.jsxs("header",{className:"flex flex-col w-full z-50 sticky top-0 shadow-sm font-sans",children:[f.jsxs("div",{className:"bg-background border-b flex flex-col md:flex-row items-center w-full px-2 lg:px-8 py-2 md:py-0 md:h-20 gap-2 md:gap-4 justify-between",children:[f.jsxs("div",{className:"relative flex items-center justify-center w-full md:w-auto md:justify-between md:relative-0",children:[f.jsx(yt,{to:"/",className:"flex flex-col shrink-0",children:f.jsx("h1",{className:"font-extrabold text-2xl md:text-3xl tracking-tighter text-foreground",children:"VPLAZA"})}),f.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 md:hidden",children:f.jsx(be,{variant:"ghost",size:"icon",onClick:i,className:"text-foreground shrink-0",children:o?f.jsx(Lm,{className:"h-5 w-5"}):f.jsx(Nm,{className:"h-5 w-5"})})})]}),f.jsx("div",{className:"w-full md:flex-1 md:max-w-4xl mx-0 md:mx-4 order-last md:order-none mt-1 md:mt-0",children:f.jsxs("form",{onSubmit:c,className:"relative w-full flex",children:[f.jsx(An,{className:"rounded-l-md rounded-r-none border-r-0 focus-visible:ring-0 focus-visible:ring-offset-0 bg-muted/30 h-10 w-full",placeholder:"Search for videos",value:s,onChange:d=>a(d.target.value)}),f.jsx(be,{type:"submit",className:"rounded-l-none rounded-r-md bg-destructive hover:bg-destructive/90 px-4 md:px-6 h-10 shrink-0",children:f.jsx(Hw,{className:"h-5 w-5"})})]})}),f.jsxs("div",{className:"hidden md:flex items-center gap-2 lg:gap-4 shrink-0",children:[f.jsx(be,{variant:"ghost",size:"icon",onClick:i,className:"text-foreground shrink-0",children:o?f.jsx(Lm,{className:"h-5 w-5"}):f.jsx(Nm,{className:"h-5 w-5"})}),f.jsxs(IM,{children:[f.jsx(QM,{asChild:!0,children:f.jsx(be,{variant:"ghost",size:"sm",className:"hidden lg:flex gap-1",children:f.jsx("span",{className:"font-semibold",children:u.name})})}),f.jsx(E_,{align:"end",children:Wc.map(d=>f.jsx(C_,{onClick:()=>n(d.code),children:d.name},d.code))})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(be,{variant:"ghost",asChild:!0,className:"font-semibold text-muted-foreground hover:text-foreground",children:f.jsx(yt,{to:"/login",children:"Login"})}),f.jsx(be,{asChild:!0,className:"bg-destructive hover:bg-destructive/90 text-white font-bold rounded-md px-6 shadow-sm hover:shadow-md transition-all",children:f.jsx(yt,{to:"/signup",children:"Sign up for free"})})]})]})]}),f.jsxs("div",{className:"flex bg-[#1a1a1b] text-white h-10 md:h-12 items-center px-4 md:px-4 lg:px-8 text-base md:text-lg font-medium border-b border-border/10",children:[f.jsxs("div",{className:"flex md:hidden w-full items-center justify-between",children:[f.jsx(be,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/10 shrink-0",onClick:()=>t(!e),children:e?f.jsx(qw,{className:"h-5 w-5"}):f.jsx(yk,{className:"h-5 w-5"})}),["Categories","Top Rated","Most Viewed"].map(d=>{const h=qc.find(p=>p.label===d);return h?f.jsx(yt,{to:h.href,className:"truncate px-2 hover:text-white/80 transition-colors",children:h.label},h.label):null})]}),f.jsx("div",{className:"hidden md:flex w-full items-center justify-between h-full",children:qc.map(d=>f.jsx(yt,{to:d.href,className:"px-3 md:px-4 h-full flex items-center justify-center flex-1 hover:bg-white/10 transition-colors",children:d.label},d.label))})]}),e&&f.jsxs("div",{className:"md:hidden bg-background border-t border-border absolute w-full top-full left-0 shadow-lg z-50",children:[f.jsx("nav",{className:"flex flex-col py-2",children:qc.map(d=>f.jsx(yt,{to:d.href,className:"px-6 py-3 font-medium hover:bg-accent border-b border-border/50 last:border-0",onClick:()=>t(!1),children:d.label},d.label))}),f.jsxs("div",{className:"p-4 flex gap-2 bg-muted/20",children:[f.jsx(be,{className:"w-full",variant:"outline",asChild:!0,children:f.jsx(yt,{to:"/login",children:"Login"})}),f.jsx(be,{className:"w-full bg-destructive text-white",asChild:!0,children:f.jsx(yt,{to:"/signup",children:"Sign Up"})})]})]})]})},rj="modulepreload",nj=function(e){return"/"+e},Wg={},_o=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(r.map(l=>{if(l=nj(l),l in Wg)return;Wg[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":rj,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return o.then(s=>{for(const a of s||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},oj=()=>{const[e]=I0(),t=e.get("category"),r=y.useRef(null),[n,o]=y.useState(!1),[i,s]=y.useState(!0),[a,l]=y.useState(""),[u,c]=y.useState([]);y.useEffect(()=>{(async()=>{try{const{videoService:m}=await _o(async()=>{const{videoService:v}=await Promise.resolve().then(()=>cj);return{videoService:v}},void 0),_=await m.getUniqueCategories();c(_)}catch(m){console.error("Failed to fetch categories",m)}})()},[]);const d=()=>{if(r.current){const{scrollLeft:w,scrollWidth:m,clientWidth:_}=r.current;o(w>0),s(w<m-_-5)}};y.useEffect(()=>{const w=r.current;if(w)return w.addEventListener("scroll",d),d(),window.addEventListener("resize",d),()=>{w.removeEventListener("scroll",d),window.removeEventListener("resize",d)}},[u]);const h=w=>{r.current&&r.current.scrollBy({left:w==="left"?-200:200,behavior:"smooth"})},p=u.filter(w=>w.toLowerCase().includes(a.toLowerCase()));return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"lg:hidden bg-black text-white py-2 px-2 border-b border-white/10 relative group",children:[n&&f.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-black to-transparent z-10 flex items-center justify-center",children:f.jsx(be,{variant:"ghost",size:"icon",className:"h-full w-6 text-white hover:bg-black/50 p-0",onClick:()=>h("left"),children:f.jsx(dk,{className:"h-4 w-4"})})}),f.jsxs("div",{ref:r,className:"flex items-center gap-2 overflow-x-auto no-scrollbar scroll-smooth px-2",children:[p.map(w=>f.jsx(yt,{to:`/?category=${w}`,className:fe("whitespace-nowrap px-3 py-1.5 rounded-sm text-sm font-medium transition-colors hover:bg-white/20",t===w?"bg-white/20 text-white":"text-gray-300"),children:w},w)),f.jsx(yt,{to:"/categories",className:"whitespace-nowrap px-3 py-1.5 rounded-sm text-sm font-medium text-blue-400 hover:bg-white/10",children:"More..."})]}),i&&f.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-black via-black/80 to-transparent z-10 flex items-center justify-end pr-1",children:f.jsx(be,{variant:"ghost",size:"icon",className:"h-full w-6 text-white hover:bg-black/50 p-0",onClick:()=>h("right"),children:f.jsx(Fs,{className:"h-4 w-4"})})})]}),f.jsxs("aside",{className:"hidden lg:flex flex-col w-64 shrink-0 border-r h-[calc(100vh-5rem)] sticky top-20 bg-background p-4 gap-4",children:[f.jsxs("div",{className:"relative shrink-0",children:[f.jsx(Hw,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),f.jsx(An,{placeholder:"Filter by category",className:"pl-9 bg-muted/20",value:a,onChange:w=>l(w.target.value)})]}),f.jsx("div",{className:"flex-1 overflow-y-auto -mx-2 px-2 no-scrollbar",children:f.jsxs("div",{className:"flex flex-col gap-1",children:[p.map(w=>f.jsx(yt,{to:`/?category=${w}`,className:fe("px-2 py-2 rounded-md text-base transition-colors hover:bg-accent hover:text-accent-foreground text-left truncate text-foreground font-medium",t===w?"bg-accent font-bold":""),title:w,children:w},w)),p.length===0&&f.jsx("div",{className:"text-sm text-muted-foreground p-2",children:"No categories found"})]})}),f.jsxs(be,{variant:"ghost",className:"w-full justify-between font-bold text-foreground border-t pt-4 mt-auto rounded-none hover:bg-transparent px-2 h-auto text-lg hover:text-foreground",children:["All Categories ",f.jsx(Fs,{className:"h-5 w-5"})]})]})]})},k_=({article:e,variant:t="default"})=>{const n=(l=>{const u=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,c=l.match(u);return c&&c[2].length===11?c[2]:null})(e.videoUrl),[o,i]=K.useState(!1),[s,a]=K.useState(!1);return K.useEffect(()=>{let l;return o?l=setTimeout(()=>a(!0),1e3):a(!1),()=>clearTimeout(l)},[o]),t==="horizontal"?f.jsxs(yt,{to:`/video/${e.id}`,className:"group flex gap-3 py-3 cursor-pointer hover:bg-accent/50 rounded-lg transition-colors duration-200",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[f.jsxs("div",{className:"relative w-40 h-24 flex-shrink-0 overflow-hidden rounded-lg bg-muted",children:[s&&n?f.jsx("iframe",{src:`https://www.youtube.com/embed/${n}?autoplay=1&mute=1&controls=0&modestbranding=1&showinfo=0&rel=0`,className:"absolute inset-0 w-full h-full object-cover",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",title:e.title}):s&&!n?f.jsx("video",{src:e.videoUrl,className:"absolute inset-0 w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0}):f.jsx("img",{src:e.thumbnailUrl,alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),!s&&f.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-200 flex items-center justify-center",children:f.jsx(Om,{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200",fill:"currentColor"})})]}),f.jsx("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:f.jsx("h3",{className:"font-medium text-sm line-clamp-2 leading-tight group-hover:text-primary transition-colors",children:e.title})})]}):f.jsxs(yt,{to:`/video/${e.id}`,className:"group cursor-pointer block space-y-3",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[f.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-xl bg-muted shadow-sm",children:[s&&n?f.jsx("div",{className:"absolute inset-0 w-full h-full bg-black",children:f.jsx("iframe",{src:`https://www.youtube.com/embed/${n}?autoplay=1&mute=1&controls=0&modestbranding=1&showinfo=0&rel=0&iv_load_policy=3`,className:"w-full h-full pointer-events-none scale-150",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",style:{border:0},title:e.title,tabIndex:-1})}):s&&!n?f.jsx("video",{src:e.videoUrl,className:"absolute inset-0 w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0}):f.jsx("img",{src:e.thumbnailUrl,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),!s&&f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:f.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 flex items-end justify-between",children:f.jsx("div",{className:"flex items-center gap-2",children:f.jsx(Om,{className:"w-10 h-10 text-white drop-shadow-lg",fill:"currentColor"})})})}),f.jsx("div",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs px-2 py-0.5 rounded backdrop-blur-sm font-medium",children:e.duration||"0:00"})]}),f.jsx("h3",{className:"font-medium text-base leading-tight line-clamp-2 group-hover:text-primary transition-colors",children:e.title})]})},Mi=({className:e,variant:t="native"})=>f.jsx("div",{className:fe("bg-muted/30 border border-dashed border-muted-foreground/30 flex items-center justify-center text-muted-foreground text-sm font-medium transition-colors hover:bg-muted/50",t==="native"&&"w-full min-h-[100px] rounded-lg",t==="card"&&"w-full h-full min-h-[250px] rounded-xl",t==="vertical"&&"w-[160px] h-[300px] rounded-lg",t==="banner"&&"w-[300px] h-[250px] rounded-lg",e),children:f.jsx("div",{className:"flex flex-col items-center gap-2",children:f.jsx("span",{className:"uppercase tracking-widest text-xs opacity-70",children:"Advertisement"})})}),ij=({articles:e,title:t})=>{const r=n=>{const o=[],i=[4,9,14,15];return n.forEach((s,a)=>{o.push(f.jsx(k_,{article:s},s.id)),i.includes(a)&&o.push(f.jsx("div",{className:"col-span-1 rounded-xl overflow-hidden shadow-sm border border-border bg-card flex flex-col items-center justify-center p-2 min-h-[300px]",children:f.jsx("div",{className:"w-full h-full bg-muted/30 flex items-center justify-center rounded-lg",children:f.jsx(Mi,{variant:"card",className:"w-full h-full"})})},`ad-${a}`))}),o};return f.jsxs("section",{className:"container py-8",children:[t&&f.jsx("h2",{className:"font-headline text-2xl font-bold mb-6",children:t}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-4 gap-y-8",children:r(e)})]})},sj=({currentPage:e,totalPages:t,onPageChange:r})=>{const o=(()=>{const s=[],a=[];let l;if(s.push(1),t<=1)return[1];for(let u=e-2;u<=e+2;u++)u<t&&u>1&&s.push(u);s.push(t);for(let u of s)l&&(u-l===2?a.push(l+1):u-l!==1&&a.push("...")),a.push(u),l=u;return a})();return t<=1?null:f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 py-8 mt-4",children:[f.jsx(be,{variant:"outline",size:"icon",className:"h-10 w-10",onClick:()=>r(Math.max(1,e-1)),disabled:e===1,type:"button",children:f.jsx(Fs,{className:"h-4 w-4 rotate-180"})}),o.map((i,s)=>i==="..."?f.jsx("span",{className:"text-muted-foreground px-1 font-medium select-none",children:"..."},`dots-${s}`):f.jsx(be,{variant:e===i?"default":"secondary",size:"icon",className:fe("h-10 w-10 text-base font-medium rounded-md shadow-sm transition-all",e===i?"bg-[#333] text-white hover:bg-[#222]":"bg-[#e5e5e5] text-black hover:bg-[#d4d4d4]"),onClick:()=>r(Number(i)),type:"button",children:i},i)),f.jsxs(be,{className:"h-10 px-4 bg-[#e53935] hover:bg-[#d32f2f] text-white font-bold rounded-md ml-2 shadow-sm",onClick:()=>r(Math.min(e+1,t)),disabled:e===t,type:"button",children:["Next ",f.jsx(Fs,{className:"ml-1 h-4 w-4 stroke-[3]"})]})]})};var aj="Separator",qg="horizontal",lj=["horizontal","vertical"],T_=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=qg,...o}=e,i=uj(n)?n:qg,a=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return f.jsx(he.div,{"data-orientation":i,...a,...o,ref:t})});T_.displayName=aj;function uj(e){return lj.includes(e)}var R_=T_;const P_=y.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},o)=>f.jsx(R_,{ref:o,decorative:r,orientation:t,className:fe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));P_.displayName=R_.displayName;const ta=()=>f.jsx("footer",{className:"bg-foreground text-primary-foreground mt-12",children:f.jsxs("div",{className:"container py-12 flex flex-col items-center text-center gap-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-headline text-3xl font-bold mb-2 tracking-tighter text-primary",children:"VPLAZA"}),f.jsx("p",{className:"text-sm opacity-80",children:"Your premium destination for the latest in multimedia entertainment."})]}),f.jsx(P_,{className:"bg-primary-foreground/20 w-full max-w-md"}),f.jsxs("p",{className:"text-sm opacity-60",children:[" ",new Date().getFullYear()," VPLAZA. All rights reserved."]})]})}),rs=e=>({id:e.id,title:e.title,description:e.description,videoUrl:e.video_url,category:e.category,author:e.author,publishedAt:new Date(e.published_at).toISOString().split("T")[0],thumbnailUrl:e.thumbnail_url,isFeatured:e.is_featured,duration:e.duration,views:e.views,location:e.location,bodytype:e.body_type,scenario:e.scenario,ethnicity:e.ethnicity}),Sr={async getVideos(e="latest"){let t=wt.from("videos").select("*");switch(e){case"views":case"top_rated":t=t.order("views",{ascending:!1});break;case"latest":default:t=t.order("published_at",{ascending:!1});break}const{data:r,error:n}=await t;if(n)throw new Error(n.message);return(r||[]).map(rs)},async getVideoById(e){const{data:t,error:r}=await wt.from("videos").select("*").eq("id",e).single();if(r)throw new Error(r.message);return rs(t)},async createVideo(e,t){const{data:r,error:n}=await wt.from("videos").insert({title:e.title,description:e.description,video_url:e.videoUrl,category:e.category,author:e.author,thumbnail_url:e.thumbnailUrl,is_featured:e.isFeatured,duration:e.duration,views:e.views,location:e.location,body_type:e.bodytype,scenario:e.scenario,ethnicity:e.ethnicity}).select().single();if(n)throw new Error(n.message);return rs(r)},async updateVideo(e,t,r){const n={};t.title&&(n.title=t.title),t.description&&(n.description=t.description),t.videoUrl&&(n.video_url=t.videoUrl),t.category&&(n.category=t.category),t.thumbnailUrl&&(n.thumbnail_url=t.thumbnailUrl),t.isFeatured!==void 0&&(n.is_featured=t.isFeatured),t.duration&&(n.duration=t.duration),t.views!==void 0&&(n.views=t.views),t.location&&(n.location=t.location),t.bodytype&&(n.body_type=t.bodytype),t.scenario&&(n.scenario=t.scenario),t.ethnicity&&(n.ethnicity=t.ethnicity);const{data:o,error:i}=await wt.from("videos").update(n).eq("id",e).select().single();if(i)throw new Error(i.message);return rs(o)},async deleteVideo(e,t){const{error:r}=await wt.from("videos").delete().eq("id",e);if(r)throw new Error(r.message)},async getUniqueTags(){const{data:e,error:t}=await wt.from("videos").select("category, body_type, scenario, ethnicity, author");if(t)throw new Error(t.message);const r=new Set;return e==null||e.forEach(n=>{n.category&&r.add(n.category),n.body_type&&r.add(n.body_type),n.scenario&&r.add(n.scenario),n.ethnicity&&r.add(n.ethnicity),n.author&&r.add(n.author)}),Array.from(r).filter(Boolean).sort((n,o)=>n.localeCompare(o))},async getUniqueCategories(){const{data:e,error:t}=await wt.from("videos").select("category");if(t)throw new Error(t.message);const r=new Set;return e==null||e.forEach(n=>{n.category&&r.add(n.category)}),Array.from(r).filter(Boolean).sort((n,o)=>n.localeCompare(o))},async searchVideos(e){if(!e)return[];const{data:t,error:r}=await wt.from("videos").select("*").or(`title.ilike.%${e}%,description.ilike.%${e}%,category.ilike.%${e}%,author.ilike.%${e}%`).order("published_at",{ascending:!1});if(r)throw new Error(r.message);return(t||[]).map(rs)}},cj=Object.freeze(Object.defineProperty({__proto__:null,videoService:Sr},Symbol.toStringTag,{value:"Module"})),Kc=16,Qa=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),[o,i]=y.useState(null),[s]=I0(),[a,l]=y.useState(1),u=Un(),c=s.get("category"),d=s.get("search");if(y.useEffect(()=>{(async()=>{n(!0);try{let g=[];if(d)g=await Sr.searchVideos(d);else{let b="latest";u.pathname==="/most-viewed"&&(b="views"),u.pathname==="/top-rated"&&(b="top_rated"),g=await Sr.getVideos(b)}t(g)}catch(g){i("Failed to load videos"),console.error(g)}finally{n(!1)}})()},[d,c,u.pathname]),y.useEffect(()=>{l(1)},[c,d,u.pathname]),y.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[a]),r)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"}),f.jsx("p",{className:"text-muted-foreground",children:"Loading VPLAZA..."})]})});if(o)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"Error"}),f.jsx("p",{className:"text-muted-foreground",children:o})]})});const h=c?e.filter(v=>v.category===c||v.bodytype===c||v.scenario===c||v.ethnicity===c||v.author===c||v.location===c):e,p=Math.ceil(h.length/Kc),w=h.slice((a-1)*Kc,a*Kc),m=v=>{l(v)};let _="Latest Videos";return d?_=`Results for: "${d}"`:c?_=`${c.charAt(0).toUpperCase()+c.slice(1)} Videos`:u.pathname==="/most-viewed"?_="Most Viewed Videos":u.pathname==="/top-rated"&&(_="Top Rated Videos"),f.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[f.jsx(ea,{}),f.jsxs("div",{className:"flex flex-col lg:flex-row flex-1",children:[f.jsx(oj,{}),f.jsxs("main",{className:"flex-1 w-full min-w-0",children:[f.jsx("div",{className:"container py-2",children:f.jsx(Mi,{variant:"native",className:"my-2"})}),c&&f.jsx("div",{className:"container pt-4",children:f.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 text-primary rounded-full text-sm font-medium",children:["Showing: ",c.charAt(0).toUpperCase()+c.slice(1)]})}),d&&h.length===0?f.jsxs("div",{className:"container py-8 text-center",children:[f.jsxs("h2",{className:"text-xl font-semibold mb-4",children:['No results found for "',d,'"']}),f.jsx("p",{className:"text-muted-foreground mb-8",children:"Try adjusting your search terms or browse our latest videos below."}),f.jsx("div",{className:"inline-block",children:f.jsx("a",{href:"/",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Browse Latest"})})]}):f.jsx(ij,{articles:w,title:_}),h.length>0&&f.jsx("div",{className:"container pb-8",children:f.jsx(sj,{currentPage:a,totalPages:p,onPageChange:m})}),f.jsx("div",{className:"container py-8",children:f.jsx("div",{className:"flex justify-center",children:f.jsx(Mi,{variant:"vertical",className:"w-[160px] h-[300px]"})})})]})]}),f.jsx(ta,{})]})},Jl=y.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Jl.displayName="Card";const Yl=y.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:fe("flex flex-col space-y-1.5 p-6",e),...t}));Yl.displayName="CardHeader";const Xl=y.forwardRef(({className:e,...t},r)=>f.jsx("h3",{ref:r,className:fe("text-2xl font-semibold leading-none tracking-tight",e),...t}));Xl.displayName="CardTitle";const Zl=y.forwardRef(({className:e,...t},r)=>f.jsx("p",{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));Zl.displayName="CardDescription";const eu=y.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:fe("p-6 pt-0",e),...t}));eu.displayName="CardContent";const ip=y.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:fe("flex items-center p-6 pt-0",e),...t}));ip.displayName="CardFooter";var dj="Label",A_=y.forwardRef((e,t)=>f.jsx(he.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));A_.displayName=dj;var N_=A_;const fj=Eu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vr=y.forwardRef(({className:e,...t},r)=>f.jsx(N_,{ref:r,className:fe(fj(),e),...t}));vr.displayName=N_.displayName;const hj=()=>{const[e,t]=y.useState(""),[r,n]=y.useState(""),[o,i]=y.useState(!1),s=zn(),a=async l=>{l.preventDefault(),i(!0);try{const{error:u}=await wt.auth.signInWithPassword({email:e,password:r});if(u)throw u;Vt.success("Login successful!"),s("/dashboard")}catch(u){console.error(u),Vt.error(u.message||"Failed to login. Please check your credentials.")}finally{i(!1)}};return f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx(ea,{}),f.jsx("main",{className:"flex-1 flex items-center justify-center p-4 bg-muted/30",children:f.jsxs(Jl,{className:"w-full max-w-md",children:[f.jsxs(Yl,{className:"space-y-1",children:[f.jsx(Xl,{className:"text-2xl font-bold",children:"Login"}),f.jsx(Zl,{children:"Enter your email and password to access the dashboard"})]}),f.jsxs("form",{onSubmit:a,children:[f.jsxs(eu,{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(vr,{htmlFor:"email",children:"Email"}),f.jsx(An,{id:"email",type:"email",placeholder:"name@example.com",required:!0,value:e,onChange:l=>t(l.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(vr,{htmlFor:"password",children:"Password"}),f.jsx(An,{id:"password",type:"password",required:!0,value:r,onChange:l=>n(l.target.value)})]})]}),f.jsx(ip,{children:f.jsx(be,{type:"submit",className:"w-full",disabled:o,children:o?"Logging in...":"Login"})})]})]})}),f.jsx(ta,{})]})},O_=y.forwardRef(({className:e,...t},r)=>f.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));O_.displayName="Textarea";function Kg(e,[t,r]){return Math.min(r,Math.max(t,e))}function sp(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var pj=[" ","Enter","ArrowUp","ArrowDown"],mj=[" ","Enter"],xo="Select",[Fu,$u,gj]=bu(xo),[qi,$D]=Pr(xo,[gj,Ui]),Uu=Ui(),[vj,Hn]=qi(xo),[yj,wj]=qi(xo),L_=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:i,value:s,defaultValue:a,onValueChange:l,dir:u,name:c,autoComplete:d,disabled:h,required:p,form:w}=e,m=Uu(t),[_,v]=y.useState(null),[g,b]=y.useState(null),[S,T]=y.useState(!1),A=Qh(u),[O,V]=wo({prop:n,defaultProp:o??!1,onChange:i,caller:xo}),[x,C]=wo({prop:s,defaultProp:a,onChange:l,caller:xo}),N=y.useRef(null),j=_?w||!!_.closest("form"):!0,[E,k]=y.useState(new Set),P=Array.from(E).map(L=>L.props.value).join(";");return f.jsx(S0,{...m,children:f.jsxs(vj,{required:p,scope:t,trigger:_,onTriggerChange:v,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:T,contentId:Ni(),value:x,onValueChange:C,open:O,onOpenChange:V,dir:A,triggerPointerDownPosRef:N,disabled:h,children:[f.jsx(Fu.Provider,{scope:t,children:f.jsx(yj,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(L=>{k(B=>new Set(B).add(L))},[]),onNativeOptionRemove:y.useCallback(L=>{k(B=>{const M=new Set(B);return M.delete(L),M})},[]),children:r})}),j?f.jsxs(nx,{"aria-hidden":!0,required:p,tabIndex:-1,name:c,autoComplete:d,value:x,onChange:L=>C(L.target.value),disabled:h,form:w,children:[x===void 0?f.jsx("option",{value:""}):null,Array.from(E)]},P):null]})})};L_.displayName=xo;var M_="SelectTrigger",j_=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,i=Uu(r),s=Hn(M_,r),a=s.disabled||n,l=we(t,s.onTriggerChange),u=$u(r),c=y.useRef("touch"),[d,h,p]=ix(m=>{const _=u().filter(b=>!b.disabled),v=_.find(b=>b.value===s.value),g=sx(_,m,v);g!==void 0&&s.onValueChange(g.value)}),w=m=>{a||(s.onOpenChange(!0),p()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return f.jsx(Mh,{asChild:!0,...i,children:f.jsx(he.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":ox(s.value)?"":void 0,...o,ref:l,onClick:X(o.onClick,m=>{m.currentTarget.focus(),c.current!=="mouse"&&w(m)}),onPointerDown:X(o.onPointerDown,m=>{c.current=m.pointerType;const _=m.target;_.hasPointerCapture(m.pointerId)&&_.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(w(m),m.preventDefault())}),onKeyDown:X(o.onKeyDown,m=>{const _=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(_&&m.key===" ")&&pj.includes(m.key)&&(w(),m.preventDefault())})})})});j_.displayName=M_;var D_="SelectValue",V_=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:i,placeholder:s="",...a}=e,l=Hn(D_,r),{onValueNodeHasChildrenChange:u}=l,c=i!==void 0,d=we(t,l.onValueNodeChange);return nt(()=>{u(c)},[u,c]),f.jsx(he.span,{...a,ref:d,style:{pointerEvents:"none"},children:ox(l.value)?f.jsx(f.Fragment,{children:s}):i})});V_.displayName=D_;var bj="SelectIcon",B_=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return f.jsx(he.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});B_.displayName=bj;var _j="SelectPortal",F_=e=>f.jsx(_u,{asChild:!0,...e});F_.displayName=_j;var So="SelectContent",$_=y.forwardRef((e,t)=>{const r=Hn(So,e.__scopeSelect),[n,o]=y.useState();if(nt(()=>{o(new DocumentFragment)},[]),!r.open){const i=n;return i?ko.createPortal(f.jsx(U_,{scope:e.__scopeSelect,children:f.jsx(Fu.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),i):null}return f.jsx(z_,{...e,ref:t})});$_.displayName=So;var er=10,[U_,Wn]=qi(So),xj="SelectContentImpl",Sj=Ai("SelectContent.RemoveScroll"),z_=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:s,side:a,sideOffset:l,align:u,alignOffset:c,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:m,avoidCollisions:_,...v}=e,g=Hn(So,r),[b,S]=y.useState(null),[T,A]=y.useState(null),O=we(t,U=>S(U)),[V,x]=y.useState(null),[C,N]=y.useState(null),j=$u(r),[E,k]=y.useState(!1),P=y.useRef(!1);y.useEffect(()=>{if(b)return Eb(b)},[b]),mb();const L=y.useCallback(U=>{const[Z,...ie]=j().map(se=>se.ref.current),[le]=ie.slice(-1),ue=document.activeElement;for(const se of U)if(se===ue||(se==null||se.scrollIntoView({block:"nearest"}),se===Z&&T&&(T.scrollTop=0),se===le&&T&&(T.scrollTop=T.scrollHeight),se==null||se.focus(),document.activeElement!==ue))return},[j,T]),B=y.useCallback(()=>L([V,b]),[L,V,b]);y.useEffect(()=>{E&&B()},[E,B]);const{onOpenChange:M,triggerPointerDownPosRef:R}=g;y.useEffect(()=>{if(b){let U={x:0,y:0};const Z=le=>{var ue,se;U={x:Math.abs(Math.round(le.pageX)-(((ue=R.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(le.pageY)-(((se=R.current)==null?void 0:se.y)??0))}},ie=le=>{U.x<=10&&U.y<=10?le.preventDefault():b.contains(le.target)||M(!1),document.removeEventListener("pointermove",Z),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",ie,{capture:!0})}}},[b,M,R]),y.useEffect(()=>{const U=()=>M(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[M]);const[D,H]=ix(U=>{const Z=j().filter(ue=>!ue.disabled),ie=Z.find(ue=>ue.ref.current===document.activeElement),le=sx(Z,U,ie);le&&setTimeout(()=>le.ref.current.focus())}),F=y.useCallback((U,Z,ie)=>{const le=!P.current&&!ie;(g.value!==void 0&&g.value===Z||le)&&(x(U),le&&(P.current=!0))},[g.value]),W=y.useCallback(()=>b==null?void 0:b.focus(),[b]),I=y.useCallback((U,Z,ie)=>{const le=!P.current&&!ie;(g.value!==void 0&&g.value===Z||le)&&N(U)},[g.value]),G=n==="popper"?gf:H_,J=G===gf?{side:a,sideOffset:l,align:u,alignOffset:c,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:m,avoidCollisions:_}:{};return f.jsx(U_,{scope:r,content:b,viewport:T,onViewportChange:A,itemRefCallback:F,selectedItem:V,onItemLeave:W,itemTextRefCallback:I,focusSelectedItem:B,selectedItemText:C,position:n,isPositioned:E,searchRef:D,children:f.jsx(Yh,{as:Sj,allowPinchZoom:!0,children:f.jsx(Jh,{asChild:!0,trapped:g.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:X(o,U=>{var Z;(Z=g.trigger)==null||Z.focus({preventScroll:!0}),U.preventDefault()}),children:f.jsx(ua,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:f.jsx(G,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:U=>U.preventDefault(),...v,...J,onPlaced:()=>k(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:X(v.onKeyDown,U=>{const Z=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!Z&&U.key.length===1&&H(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let le=j().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(U.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const ue=U.target,se=le.indexOf(ue);le=le.slice(se+1)}setTimeout(()=>L(le)),U.preventDefault()}})})})})})})});z_.displayName=xj;var Ej="SelectItemAlignedPosition",H_=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,i=Hn(So,r),s=Wn(So,r),[a,l]=y.useState(null),[u,c]=y.useState(null),d=we(t,O=>c(O)),h=$u(r),p=y.useRef(!1),w=y.useRef(!0),{viewport:m,selectedItem:_,selectedItemText:v,focusSelectedItem:g}=s,b=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&m&&_&&v){const O=i.trigger.getBoundingClientRect(),V=u.getBoundingClientRect(),x=i.valueNode.getBoundingClientRect(),C=v.getBoundingClientRect();if(i.dir!=="rtl"){const ue=C.left-V.left,se=x.left-ue,Se=O.left-se,je=O.width+Se,Or=Math.max(je,V.width),pr=window.innerWidth-er,Lr=Kg(se,[er,Math.max(er,pr-Or)]);a.style.minWidth=je+"px",a.style.left=Lr+"px"}else{const ue=V.right-C.right,se=window.innerWidth-x.right-ue,Se=window.innerWidth-O.right-se,je=O.width+Se,Or=Math.max(je,V.width),pr=window.innerWidth-er,Lr=Kg(se,[er,Math.max(er,pr-Or)]);a.style.minWidth=je+"px",a.style.right=Lr+"px"}const N=h(),j=window.innerHeight-er*2,E=m.scrollHeight,k=window.getComputedStyle(u),P=parseInt(k.borderTopWidth,10),L=parseInt(k.paddingTop,10),B=parseInt(k.borderBottomWidth,10),M=parseInt(k.paddingBottom,10),R=P+L+E+M+B,D=Math.min(_.offsetHeight*5,R),H=window.getComputedStyle(m),F=parseInt(H.paddingTop,10),W=parseInt(H.paddingBottom,10),I=O.top+O.height/2-er,G=j-I,J=_.offsetHeight/2,U=_.offsetTop+J,Z=P+L+U,ie=R-Z;if(Z<=I){const ue=N.length>0&&_===N[N.length-1].ref.current;a.style.bottom="0px";const se=u.clientHeight-m.offsetTop-m.offsetHeight,Se=Math.max(G,J+(ue?W:0)+se+B),je=Z+Se;a.style.height=je+"px"}else{const ue=N.length>0&&_===N[0].ref.current;a.style.top="0px";const Se=Math.max(I,P+m.offsetTop+(ue?F:0)+J)+ie;a.style.height=Se+"px",m.scrollTop=Z-I+m.offsetTop}a.style.margin=`${er}px 0`,a.style.minHeight=D+"px",a.style.maxHeight=j+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,a,u,m,_,v,i.dir,n]);nt(()=>b(),[b]);const[S,T]=y.useState();nt(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const A=y.useCallback(O=>{O&&w.current===!0&&(b(),g==null||g(),w.current=!1)},[b,g]);return f.jsx(kj,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:A,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:f.jsx(he.div,{...o,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});H_.displayName=Ej;var Cj="SelectPopperPosition",gf=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=er,...i}=e,s=Uu(r);return f.jsx(jh,{...s,...i,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gf.displayName=Cj;var[kj,ap]=qi(So,{}),vf="SelectViewport",W_=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,i=Wn(vf,r),s=ap(vf,r),a=we(t,i.onViewportChange),l=y.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),f.jsx(Fu.Slot,{scope:r,children:f.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:X(o.onScroll,u=>{const c=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&d){const p=Math.abs(l.current-c.scrollTop);if(p>0){const w=window.innerHeight-er*2,m=parseFloat(d.style.minHeight),_=parseFloat(d.style.height),v=Math.max(m,_);if(v<w){const g=v+p,b=Math.min(w,g),S=g-b;d.style.height=b+"px",d.style.bottom==="0px"&&(c.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}l.current=c.scrollTop})})})]})});W_.displayName=vf;var q_="SelectGroup",[Tj,Rj]=qi(q_),Pj=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Ni();return f.jsx(Tj,{scope:r,id:o,children:f.jsx(he.div,{role:"group","aria-labelledby":o,...n,ref:t})})});Pj.displayName=q_;var K_="SelectLabel",G_=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Rj(K_,r);return f.jsx(he.div,{id:o.id,...n,ref:t})});G_.displayName=K_;var tu="SelectItem",[Aj,I_]=qi(tu),Q_=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:i,...s}=e,a=Hn(tu,r),l=Wn(tu,r),u=a.value===n,[c,d]=y.useState(i??""),[h,p]=y.useState(!1),w=we(t,g=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,g,n,o)}),m=Ni(),_=y.useRef("touch"),v=()=>{o||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Aj,{scope:r,value:n,disabled:o,textId:m,isSelected:u,onItemTextChange:y.useCallback(g=>{d(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:f.jsx(Fu.ItemSlot,{scope:r,value:n,disabled:o,textValue:c,children:f.jsx(he.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...s,ref:w,onFocus:X(s.onFocus,()=>p(!0)),onBlur:X(s.onBlur,()=>p(!1)),onClick:X(s.onClick,()=>{_.current!=="mouse"&&v()}),onPointerUp:X(s.onPointerUp,()=>{_.current==="mouse"&&v()}),onPointerDown:X(s.onPointerDown,g=>{_.current=g.pointerType}),onPointerMove:X(s.onPointerMove,g=>{var b;_.current=g.pointerType,o?(b=l.onItemLeave)==null||b.call(l):_.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(s.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:X(s.onKeyDown,g=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&g.key===" "||(mj.includes(g.key)&&v(),g.key===" "&&g.preventDefault())})})})})});Q_.displayName=tu;var us="SelectItemText",J_=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...i}=e,s=Hn(us,r),a=Wn(us,r),l=I_(us,r),u=wj(us,r),[c,d]=y.useState(null),h=we(t,v=>d(v),l.onItemTextChange,v=>{var g;return(g=a.itemTextRefCallback)==null?void 0:g.call(a,v,l.value,l.disabled)}),p=c==null?void 0:c.textContent,w=y.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:_}=u;return nt(()=>(m(w),()=>_(w)),[m,_,w]),f.jsxs(f.Fragment,{children:[f.jsx(he.span,{id:l.textId,...i,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?ko.createPortal(i.children,s.valueNode):null]})});J_.displayName=us;var Y_="SelectItemIndicator",X_=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return I_(Y_,r).isSelected?f.jsx(he.span,{"aria-hidden":!0,...n,ref:t}):null});X_.displayName=Y_;var yf="SelectScrollUpButton",Z_=y.forwardRef((e,t)=>{const r=Wn(yf,e.__scopeSelect),n=ap(yf,e.__scopeSelect),[o,i]=y.useState(!1),s=we(t,n.onScrollButtonChange);return nt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),o?f.jsx(tx,{...e,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Z_.displayName=yf;var wf="SelectScrollDownButton",ex=y.forwardRef((e,t)=>{const r=Wn(wf,e.__scopeSelect),n=ap(wf,e.__scopeSelect),[o,i]=y.useState(!1),s=we(t,n.onScrollButtonChange);return nt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,c=Math.ceil(l.scrollTop)<u;i(c)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),o?f.jsx(tx,{...e,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});ex.displayName=wf;var tx=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,i=Wn("SelectScrollButton",r),s=y.useRef(null),a=$u(r),l=y.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),nt(()=>{var c;const u=a().find(d=>d.ref.current===document.activeElement);(c=u==null?void 0:u.ref.current)==null||c.scrollIntoView({block:"nearest"})},[a]),f.jsx(he.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:X(o.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:X(o.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:X(o.onPointerLeave,()=>{l()})})}),Nj="SelectSeparator",rx=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return f.jsx(he.div,{"aria-hidden":!0,...n,ref:t})});rx.displayName=Nj;var bf="SelectArrow",Oj=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Uu(r),i=Hn(bf,r),s=Wn(bf,r);return i.open&&s.position==="popper"?f.jsx(Dh,{...o,...n,ref:t}):null});Oj.displayName=bf;var Lj="SelectBubbleInput",nx=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=y.useRef(null),i=we(n,o),s=sp(t);return y.useEffect(()=>{const a=o.current;if(!a)return;const l=window.HTMLSelectElement.prototype,c=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==t&&c){const d=new Event("change",{bubbles:!0});c.call(a,t),a.dispatchEvent(d)}},[s,t]),f.jsx(he.select,{...r,style:{...ww,...r.style},ref:i,defaultValue:t})});nx.displayName=Lj;function ox(e){return e===""||e===void 0}function ix(e){const t=Ct(e),r=y.useRef(""),n=y.useRef(0),o=y.useCallback(s=>{const a=r.current+s;t(a),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,i]}function sx(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=Mj(e,Math.max(i,0));o.length===1&&(s=s.filter(u=>u!==r));const l=s.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==r?l:void 0}function Mj(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var jj=L_,ax=j_,Dj=V_,Vj=B_,Bj=F_,lx=$_,Fj=W_,ux=G_,cx=Q_,$j=J_,Uj=X_,dx=Z_,fx=ex,hx=rx;const zj=jj,Hj=Dj,px=y.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(ax,{ref:n,className:fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,f.jsx(Vj,{asChild:!0,children:f.jsx(zw,{className:"h-4 w-4 opacity-50"})})]}));px.displayName=ax.displayName;const mx=y.forwardRef(({className:e,...t},r)=>f.jsx(dx,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(fk,{className:"h-4 w-4"})}));mx.displayName=dx.displayName;const gx=y.forwardRef(({className:e,...t},r)=>f.jsx(fx,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(zw,{className:"h-4 w-4"})}));gx.displayName=fx.displayName;const vx=y.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>f.jsx(Bj,{children:f.jsxs(lx,{ref:o,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[f.jsx(mx,{}),f.jsx(Fj,{className:fe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),f.jsx(gx,{})]})}));vx.displayName=lx.displayName;const Wj=y.forwardRef(({className:e,...t},r)=>f.jsx(ux,{ref:r,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Wj.displayName=ux.displayName;const yx=y.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(cx,{ref:n,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Uj,{children:f.jsx(xh,{className:"h-4 w-4"})})}),f.jsx($j,{children:t})]}));yx.displayName=cx.displayName;const qj=y.forwardRef(({className:e,...t},r)=>f.jsx(hx,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",e),...t}));qj.displayName=hx.displayName;var zu="Switch",[Kj,UD]=Pr(zu),[Gj,Ij]=Kj(zu),wx=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:o,defaultChecked:i,required:s,disabled:a,value:l="on",onCheckedChange:u,form:c,...d}=e,[h,p]=y.useState(null),w=we(t,b=>p(b)),m=y.useRef(!1),_=h?c||!!h.closest("form"):!0,[v,g]=wo({prop:o,defaultProp:i??!1,onChange:u,caller:zu});return f.jsxs(Gj,{scope:r,checked:v,disabled:a,children:[f.jsx(he.button,{type:"button",role:"switch","aria-checked":v,"aria-required":s,"data-state":Sx(v),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:w,onClick:X(e.onClick,b=>{g(S=>!S),_&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),_&&f.jsx(xx,{control:h,bubbles:!m.current,name:n,value:l,checked:v,required:s,disabled:a,form:c,style:{transform:"translateX(-100%)"}})]})});wx.displayName=zu;var bx="SwitchThumb",_x=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,o=Ij(bx,r);return f.jsx(he.span,{"data-state":Sx(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:t})});_x.displayName=bx;var Qj="SwitchBubbleInput",xx=y.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...o},i)=>{const s=y.useRef(null),a=we(s,i),l=sp(r),u=Nh(t);return y.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&p){const w=new Event("click",{bubbles:n});p.call(c,r),c.dispatchEvent(w)}},[l,r,n]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:a,style:{...o.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xx.displayName=Qj;function Sx(e){return e?"checked":"unchecked"}var Ex=wx,Jj=_x;const Cx=y.forwardRef(({className:e,...t},r)=>f.jsx(Ex,{className:fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:f.jsx(Jj,{className:fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Cx.displayName=Ex.displayName;var Hu="Checkbox",[Yj,zD]=Pr(Hu),[Xj,lp]=Yj(Hu);function Zj(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:o,disabled:i,form:s,name:a,onCheckedChange:l,required:u,value:c="on",internal_do_not_use_render:d}=e,[h,p]=wo({prop:r,defaultProp:o??!1,onChange:l,caller:Hu}),[w,m]=y.useState(null),[_,v]=y.useState(null),g=y.useRef(!1),b=w?!!s||!!w.closest("form"):!0,S={checked:h,disabled:i,setChecked:p,control:w,setControl:m,name:a,form:s,value:c,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:Nn(o)?!1:o,isFormControl:b,bubbleInput:_,setBubbleInput:v};return f.jsx(Xj,{scope:t,...S,children:eD(d)?d(S):n})}var kx="CheckboxTrigger",Tx=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},o)=>{const{control:i,value:s,disabled:a,checked:l,required:u,setControl:c,setChecked:d,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:w}=lp(kx,e),m=we(o,c),_=y.useRef(l);return y.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const g=()=>d(_.current);return v.addEventListener("reset",g),()=>v.removeEventListener("reset",g)}},[i,d]),f.jsx(he.button,{type:"button",role:"checkbox","aria-checked":Nn(l)?"mixed":l,"aria-required":u,"data-state":Ox(l),"data-disabled":a?"":void 0,disabled:a,value:s,...n,ref:m,onKeyDown:X(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:X(r,v=>{d(g=>Nn(g)?!0:!g),w&&p&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});Tx.displayName=kx;var up=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:o,defaultChecked:i,required:s,disabled:a,value:l,onCheckedChange:u,form:c,...d}=e;return f.jsx(Zj,{__scopeCheckbox:r,checked:o,defaultChecked:i,disabled:a,required:s,onCheckedChange:u,name:n,form:c,value:l,internal_do_not_use_render:({isFormControl:h})=>f.jsxs(f.Fragment,{children:[f.jsx(Tx,{...d,ref:t,__scopeCheckbox:r}),h&&f.jsx(Nx,{__scopeCheckbox:r})]})})});up.displayName=Hu;var Rx="CheckboxIndicator",Px=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...o}=e,i=lp(Rx,r);return f.jsx(Fn,{present:n||Nn(i.checked)||i.checked===!0,children:f.jsx(he.span,{"data-state":Ox(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Px.displayName=Rx;var Ax="CheckboxBubbleInput",Nx=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:o,checked:i,defaultChecked:s,required:a,disabled:l,name:u,value:c,form:d,bubbleInput:h,setBubbleInput:p}=lp(Ax,e),w=we(r,p),m=sp(i),_=Nh(n);y.useEffect(()=>{const g=h;if(!g)return;const b=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(b,"checked").set,A=!o.current;if(m!==i&&T){const O=new Event("click",{bubbles:A});g.indeterminate=Nn(i),T.call(g,Nn(i)?!1:i),g.dispatchEvent(O)}},[h,m,i,o]);const v=y.useRef(Nn(i)?!1:i);return f.jsx(he.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??v.current,required:a,disabled:l,name:u,value:c,form:d,...t,tabIndex:-1,ref:w,style:{...t.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Nx.displayName=Ax;function eD(e){return typeof e=="function"}function Nn(e){return e==="indeterminate"}function Ox(e){return Nn(e)?"indeterminate":e?"checked":"unchecked"}const _f=y.forwardRef(({className:e,...t},r)=>f.jsx(up,{ref:r,className:fe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:f.jsx(Px,{className:fe("flex items-center justify-center text-current"),children:f.jsx(xh,{className:"h-4 w-4"})})}));_f.displayName=up.displayName;const tD=[{id:"movies",name:"Movies",color:"category-movies"},{id:"series",name:"Series",color:"category-series"},{id:"gaming",name:"Gaming",color:"category-gaming"},{id:"music",name:"Music",color:"category-music"},{id:"sports",name:"Sports",color:"category-sports"},{id:"tech",name:"Tech",color:"category-tech"}],rD=()=>{var V,x;const{user:e,signOut:t}=pb(),r=zn(),[n,o]=y.useState(!1),[i,s]=y.useState([]),[a,l]=y.useState(!1),[u,c]=y.useState(null),[d,h]=y.useState(new Set),p={title:"",description:"",videoUrl:"",category:"movies",author:((V=e==null?void 0:e.user_metadata)==null?void 0:V.full_name)||((x=e==null?void 0:e.email)==null?void 0:x.split("@")[0])||"Anonymous",thumbnailUrl:"",isFeatured:!1},[w,m]=y.useState(p),_=async()=>{try{const C=await Sr.getVideos();s(C)}catch(C){console.error("Error fetching videos:",C)}};K.useEffect(()=>{_()},[]);const v=async C=>{if(C.preventDefault(),!!e){o(!0);try{const N="";a&&u?(await Sr.updateVideo(u,w,N),Vt.success("Video updated successfully!")):(await Sr.createVideo(w,N),Vt.success("Video published successfully!")),m(p),l(!1),c(null),_()}catch(N){console.error(N),Vt.error(N.message||"Failed to save video")}finally{o(!1)}}},g=C=>{m({title:C.title,description:C.description,videoUrl:C.videoUrl,category:C.category,author:C.author,thumbnailUrl:C.thumbnailUrl,isFeatured:C.isFeatured||!1}),l(!0),c(C.id),window.scrollTo({top:0,behavior:"smooth"})},b=async C=>{if(!(!e||!window.confirm("Are you sure you want to delete this video?")))try{await Sr.deleteVideo(C,""),Vt.success("Video deleted"),_()}catch(N){console.error(N),Vt.error("Failed to delete video")}},S=async()=>{await t(),Vt.success("Signed out"),r("/")},T=(C,N)=>{const j=new Set(d);N?j.add(C):j.delete(C),h(j)},A=C=>{if(C){const N=new Set(i.map(j=>j.id));h(N)}else h(new Set)},O=async()=>{if(d.size===0){Vt.error("No videos selected");return}if(window.confirm(`Are you sure you want to delete ${d.size} video(s)?`)){o(!0);try{const C=Array.from(d).map(N=>Sr.deleteVideo(N,""));await Promise.all(C),Vt.success(`Successfully deleted ${d.size} video(s)`),h(new Set),_()}catch(C){console.error(C),Vt.error("Failed to delete some videos")}finally{o(!1)}}};return f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx(ea,{}),f.jsx("div",{className:"container pt-6",children:f.jsx(Mi,{variant:"native",className:"my-4"})}),f.jsxs("main",{className:"flex-1 container py-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold font-headline",children:"Creator's Dashboard"}),f.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e==null?void 0:e.email]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(be,{variant:"outline",asChild:!0,children:f.jsxs(yt,{to:"/import",children:[f.jsx(Ww,{className:"w-4 h-4 mr-2"}),"Bulk Import"]})}),f.jsx(be,{variant:"outline",onClick:S,children:"Sign Out"})]})]}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[f.jsxs(Jl,{children:[f.jsxs(Yl,{children:[f.jsx(Xl,{children:a?"Edit Video":"Add New Video"}),f.jsx(Zl,{children:a?"Update the details of your video.":"Fill in the details below to publish a new video."})]}),f.jsxs("form",{onSubmit:v,children:[f.jsxs(eu,{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(vr,{htmlFor:"title",children:"Video Title"}),f.jsx(An,{id:"title",placeholder:"Enter a catchy title",required:!0,value:w.title,onChange:C=>m({...w,title:C.target.value})})]}),f.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(vr,{htmlFor:"category",children:"Category"}),f.jsxs(zj,{value:w.category,onValueChange:C=>m({...w,category:C}),children:[f.jsx(px,{id:"category",children:f.jsx(Hj,{placeholder:"Select category"})}),f.jsx(vx,{children:tD.map(C=>f.jsx(yx,{value:C.id,children:C.name},C.id))})]})]}),f.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[f.jsx(Cx,{id:"featured",checked:w.isFeatured,onCheckedChange:C=>m({...w,isFeatured:C})}),f.jsx(vr,{htmlFor:"featured",children:"Feature this video"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(vr,{htmlFor:"videoUrl",children:"Video URL"}),f.jsx(An,{id:"videoUrl",placeholder:"https://www.youtube.com/watch?v=...",type:"url",required:!0,value:w.videoUrl,onChange:C=>m({...w,videoUrl:C.target.value})}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Supports YouTube & Direct Video links"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(vr,{htmlFor:"thumbnailUrl",children:"Thumbnail URL"}),f.jsx(An,{id:"thumbnailUrl",placeholder:"https://images.unsplash.com/...",type:"url",required:!0,value:w.thumbnailUrl,onChange:C=>m({...w,thumbnailUrl:C.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(vr,{htmlFor:"description",children:"Description"}),f.jsx(O_,{id:"description",placeholder:"Describe your video...",className:"min-h-[150px]",required:!0,value:w.description,onChange:C=>m({...w,description:C.target.value})})]})]}),f.jsxs(ip,{className:"flex justify-end gap-4 border-t pt-6",children:[a&&f.jsx(be,{type:"button",variant:"ghost",onClick:()=>{l(!1),c(null),m(p)},children:"Cancel Edit"}),f.jsx(be,{type:"submit",disabled:n,children:n?"Processing...":a?"Update Video":"Publish Video"})]})]})]}),f.jsxs(Jl,{children:[f.jsx(Yl,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx(Xl,{children:"Manage Videos"}),f.jsx(Zl,{children:"A list of all published videos."})]}),i.length>0&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(_f,{id:"select-all",checked:i.length>0&&d.size===i.length,onCheckedChange:A}),f.jsx(vr,{htmlFor:"select-all",className:"text-sm cursor-pointer",children:"Select All"})]})]})}),f.jsx(eu,{children:f.jsx("div",{className:"space-y-4",children:i.length>0?i.map(C=>f.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[f.jsx("div",{className:"pt-1",children:f.jsx(_f,{id:`video-${C.id}`,checked:d.has(C.id),onCheckedChange:N=>T(C.id,N)})}),f.jsxs("div",{className:"flex items-start justify-between flex-1 overflow-hidden",children:[f.jsxs("div",{className:"flex gap-3 overflow-hidden flex-1",children:[f.jsx("div",{className:"w-24 h-16 bg-muted rounded overflow-hidden flex-shrink-0",children:f.jsx("img",{src:C.thumbnailUrl,alt:C.title,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("h4",{className:"font-semibold truncate leading-tight line-clamp-1",children:C.title}),f.jsxs("p",{className:"text-xs text-muted-foreground capitalize mt-1",children:[C.category,"  ",C.publishedAt]})]})]}),f.jsxs("div",{className:"flex flex-col gap-2 ml-2",children:[f.jsx(be,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>g(C),children:"Edit"}),f.jsx(be,{size:"sm",variant:"destructive",className:"h-7 text-xs",onClick:()=>b(C.id),children:"Delete"})]})]})]},C.id)):f.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No videos found."})})})]})]}),d.size>0&&f.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 bg-background border border-border rounded-lg shadow-lg p-4 flex items-center gap-4",children:[f.jsxs("p",{className:"text-sm font-medium",children:[d.size," video",d.size>1?"s":""," selected"]}),f.jsxs(be,{variant:"destructive",size:"sm",onClick:O,disabled:n,children:[f.jsx(wk,{className:"w-4 h-4 mr-2"}),n?"Deleting...":"Delete Selected"]})]})]}),f.jsx(ta,{})]})},nD=Eu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function oD({className:e,variant:t,...r}){return f.jsx("div",{className:fe(nD({variant:t}),e),...r})}function iD(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Lx={exports:{}};/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(e,t){(function(r,n){e.exports=n()})(Ku,function(){function r($){var Q=typeof $;return $!==null&&(Q==="object"||Q==="function")}function n($){return typeof $=="function"}var o=void 0;Array.isArray?o=Array.isArray:o=function($){return Object.prototype.toString.call($)==="[object Array]"};var i=o,s=0,a=void 0,l=void 0,u=function(Q,Y){A[s]=Q,A[s+1]=Y,s+=2,s===2&&(l?l(O):x())};function c($){l=$}function d($){u=$}var h=typeof window<"u"?window:void 0,p=h||{},w=p.MutationObserver||p.WebKitMutationObserver,m=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",_=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function v(){return function(){return process.nextTick(O)}}function g(){return typeof a<"u"?function(){a(O)}:T()}function b(){var $=0,Q=new w(O),Y=document.createTextNode("");return Q.observe(Y,{characterData:!0}),function(){Y.data=$=++$%2}}function S(){var $=new MessageChannel;return $.port1.onmessage=O,function(){return $.port2.postMessage(0)}}function T(){var $=setTimeout;return function(){return $(O,1)}}var A=new Array(1e3);function O(){for(var $=0;$<s;$+=2){var Q=A[$],Y=A[$+1];Q(Y),A[$]=void 0,A[$+1]=void 0}s=0}function V(){try{var $=Function("return this")().require("vertx");return a=$.runOnLoop||$.runOnContext,g()}catch{return T()}}var x=void 0;m?x=v():w?x=b():_?x=S():h===void 0&&typeof iD=="function"?x=V():x=T();function C($,Q){var Y=this,ee=new this.constructor(E);ee[j]===void 0&&Se(ee);var ae=Y._state;if(ae){var me=arguments[ae-1];u(function(){return ie(ae,ee,me,Y._result)})}else U(Y,ee,$,Q);return ee}function N($){var Q=this;if($&&typeof $=="object"&&$.constructor===Q)return $;var Y=new Q(E);return W(Y,$),Y}var j=Math.random().toString(36).substring(2);function E(){}var k=void 0,P=1,L=2;function B(){return new TypeError("You cannot resolve a promise with itself")}function M(){return new TypeError("A promises callback cannot return that same promise.")}function R($,Q,Y,ee){try{$.call(Q,Y,ee)}catch(ae){return ae}}function D($,Q,Y){u(function(ee){var ae=!1,me=R(Y,Q,function(ze){ae||(ae=!0,Q!==ze?W(ee,ze):G(ee,ze))},function(ze){ae||(ae=!0,J(ee,ze))},"Settle: "+(ee._label||" unknown promise"));!ae&&me&&(ae=!0,J(ee,me))},$)}function H($,Q){Q._state===P?G($,Q._result):Q._state===L?J($,Q._result):U(Q,void 0,function(Y){return W($,Y)},function(Y){return J($,Y)})}function F($,Q,Y){Q.constructor===$.constructor&&Y===C&&Q.constructor.resolve===N?H($,Q):Y===void 0?G($,Q):n(Y)?D($,Q,Y):G($,Q)}function W($,Q){if($===Q)J($,B());else if(r(Q)){var Y=void 0;try{Y=Q.then}catch(ee){J($,ee);return}F($,Q,Y)}else G($,Q)}function I($){$._onerror&&$._onerror($._result),Z($)}function G($,Q){$._state===k&&($._result=Q,$._state=P,$._subscribers.length!==0&&u(Z,$))}function J($,Q){$._state===k&&($._state=L,$._result=Q,u(I,$))}function U($,Q,Y,ee){var ae=$._subscribers,me=ae.length;$._onerror=null,ae[me]=Q,ae[me+P]=Y,ae[me+L]=ee,me===0&&$._state&&u(Z,$)}function Z($){var Q=$._subscribers,Y=$._state;if(Q.length!==0){for(var ee=void 0,ae=void 0,me=$._result,ze=0;ze<Q.length;ze+=3)ee=Q[ze],ae=Q[ze+Y],ee?ie(Y,ee,ae,me):ae(me);$._subscribers.length=0}}function ie($,Q,Y,ee){var ae=n(Y),me=void 0,ze=void 0,Kt=!0;if(ae){try{me=Y(ee)}catch(Po){Kt=!1,ze=Po}if(Q===me){J(Q,M());return}}else me=ee;Q._state!==k||(ae&&Kt?W(Q,me):Kt===!1?J(Q,ze):$===P?G(Q,me):$===L&&J(Q,me))}function le($,Q){try{Q(function(ee){W($,ee)},function(ee){J($,ee)})}catch(Y){J($,Y)}}var ue=0;function se(){return ue++}function Se($){$[j]=ue++,$._state=void 0,$._result=void 0,$._subscribers=[]}function je(){return new Error("Array Methods must be provided an Array")}var Or=function(){function $(Q,Y){this._instanceConstructor=Q,this.promise=new Q(E),this.promise[j]||Se(this.promise),i(Y)?(this.length=Y.length,this._remaining=Y.length,this._result=new Array(this.length),this.length===0?G(this.promise,this._result):(this.length=this.length||0,this._enumerate(Y),this._remaining===0&&G(this.promise,this._result))):J(this.promise,je())}return $.prototype._enumerate=function(Y){for(var ee=0;this._state===k&&ee<Y.length;ee++)this._eachEntry(Y[ee],ee)},$.prototype._eachEntry=function(Y,ee){var ae=this._instanceConstructor,me=ae.resolve;if(me===N){var ze=void 0,Kt=void 0,Po=!1;try{ze=Y.then}catch(Kn){Po=!0,Kt=Kn}if(ze===C&&Y._state!==k)this._settledAt(Y._state,ee,Y._result);else if(typeof ze!="function")this._remaining--,this._result[ee]=Y;else if(ae===Ue){var Ao=new ae(E);Po?J(Ao,Kt):F(Ao,Y,ze),this._willSettleAt(Ao,ee)}else this._willSettleAt(new ae(function(Kn){return Kn(Y)}),ee)}else this._willSettleAt(me(Y),ee)},$.prototype._settledAt=function(Y,ee,ae){var me=this.promise;me._state===k&&(this._remaining--,Y===L?J(me,ae):this._result[ee]=ae),this._remaining===0&&G(me,this._result)},$.prototype._willSettleAt=function(Y,ee){var ae=this;U(Y,void 0,function(me){return ae._settledAt(P,ee,me)},function(me){return ae._settledAt(L,ee,me)})},$}();function pr($){return new Or(this,$).promise}function Lr($){var Q=this;return i($)?new Q(function(Y,ee){for(var ae=$.length,me=0;me<ae;me++)Q.resolve($[me]).then(Y,ee)}):new Q(function(Y,ee){return ee(new TypeError("You must pass an array to race."))})}function qn($){var Q=this,Y=new Q(E);return J(Y,$),Y}function Yr(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ga(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Ue=function(){function $(Q){this[j]=se(),this._result=this._state=void 0,this._subscribers=[],E!==Q&&(typeof Q!="function"&&Yr(),this instanceof $?le(this,Q):ga())}return $.prototype.catch=function(Y){return this.then(null,Y)},$.prototype.finally=function(Y){var ee=this,ae=ee.constructor;return n(Y)?ee.then(function(me){return ae.resolve(Y()).then(function(){return me})},function(me){return ae.resolve(Y()).then(function(){throw me})}):ee.then(Y,Y)},$}();Ue.prototype.then=C,Ue.all=pr,Ue.race=Lr,Ue.resolve=N,Ue.reject=qn,Ue._setScheduler=c,Ue._setAsap=d,Ue._asap=u;function va(){var $=void 0;if(typeof Ku<"u")$=Ku;else if(typeof self<"u")$=self;else try{$=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Q=$.Promise;if(Q){var Y=null;try{Y=Object.prototype.toString.call(Q.resolve())}catch{}if(Y==="[object Promise]"&&!Q.cast)return}$.Promise=Ue}return Ue.polyfill=va,Ue.Promise=Ue,Ue})})(Lx);var sD=Lx.exports;const aD=xf(sD);typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(t,r){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const n=Object(t);for(let o=1;o<arguments.length;o++){const i=arguments[o];if(i!=null)for(let s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},writable:!0,configurable:!0});(function(){if(typeof globalThis.CustomEvent=="function")return!1;function e(t,r){r=r||{bubbles:!1,cancelable:!1,detail:void 0};const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,r.bubbles,r.cancelable,r.detail),n}e.prototype=globalThis.Event.prototype,globalThis.CustomEvent=e})();typeof globalThis.Element<"u"&&typeof globalThis.CharacterData<"u"&&typeof globalThis.DocumentType<"u"&&function(e){e.forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode!==null&&this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]);aD.polyfill();const cp={muteEvent:"mute",unmuteEvent:"unmute",pauseEvent:"pause",resumeEvent:"resume",rewindEvent:"rewind",fullscreenEvent:"fullscreen",skipEvent:"skip",playerExpandEvent:"playerExpand",playerCollapseEvent:"playerCollapse",impressionEvent:"impression",viewImpressionEvent:"viewImpression",startEvent:"start",firstQuartileEvent:"firstQuartile",midpointEvent:"midpoint",thirdQuartileEvent:"thirdQuartile",completeEvent:"complete",progressEvent:"progress",creativeViewEvent:"creativeView",collapseEvent:"collapse",adCollapseEvent:"adCollapse",closeEvent:"close",acceptInvitationEvent:"acceptInvitation",iconClickThroughEvent:"iconClickThrough"},We={FULLSCREEN:"fullscreen",THEATER:"theaterMode",MINI_PLAYER:"miniPlayer",NORMAL:"normal"};function lD(e,t){const{pauseEvent:r,resumeEvent:n,skipEvent:o,impressionEvent:i,startEvent:s,firstQuartileEvent:a,midpointEvent:l,thirdQuartileEvent:u,completeEvent:c,creativeViewEvent:d,collapseEvent:h,adCollapseEvent:p,closeEvent:w,acceptInvitationEvent:m}=cp,_={AdStarted:()=>e.onStartVpaidAd,AdStopped:()=>e.onStopVpaidAd,AdSkipped:()=>e.onSkipVpaidAd,AdLoaded:()=>e.onVpaidAdLoaded,AdLinearChange:()=>e.onVpaidAdLinearChange,AdSizeChange:()=>e.onVpaidAdSizeChange,AdExpandedChange:()=>e.onVpaidAdExpandedChange,AdSkippableStateChange:()=>e.onVpaidAdSkippableStateChange,AdDurationChange:()=>e.onVpaidAdDurationChange,AdRemainingTimeChange:()=>e.onVpaidAdRemainingTimeChange,AdVolumeChange:()=>e.onVpaidAdVolumeChange,AdImpression:()=>e.onVpaidAdImpression,AdClickThru:()=>e.onVpaidAdClickThru,AdInteraction:()=>e.onVpaidAdInteraction,AdVideoStart:()=>e.onVpaidAdVideoStart,AdVideoFirstQuartile:()=>e.onVpaidAdVideoFirstQuartile,AdVideoMidpoint:()=>e.onVpaidAdVideoMidpoint,AdVideoThirdQuartile:()=>e.onVpaidAdVideoThirdQuartile,AdVideoComplete:()=>e.onVpaidAdVideoComplete,AdUserAcceptInvitation:()=>e.onVpaidAdUserAcceptInvitation,AdUserMinimize:()=>e.onVpaidAdUserMinimize,AdUserClose:()=>e.onVpaidAdUserClose,AdPaused:()=>e.onVpaidAdPaused,AdPlaying:()=>e.onVpaidAdPlaying,AdError:()=>e.onVpaidAdError,AdLog:()=>e.onVpaidAdLog};e.checkVPAIDInterface=v=>{const g=v;return!!(g.handshakeVersion&&typeof g.handshakeVersion=="function"&&g.initAd&&typeof g.initAd=="function"&&g.startAd&&typeof g.startAd=="function"&&g.stopAd&&typeof g.stopAd=="function"&&g.skipAd&&typeof g.skipAd=="function"&&g.resizeAd&&typeof g.resizeAd=="function"&&g.pauseAd&&typeof g.pauseAd=="function"&&g.resumeAd&&typeof g.resumeAd=="function"&&g.expandAd&&typeof g.expandAd=="function"&&g.collapseAd&&typeof g.collapseAd=="function"&&g.subscribe&&typeof g.subscribe=="function"&&g.unsubscribe&&typeof g.unsubscribe=="function")},e.onVpaidAdPaused=()=>{e.vpaidTimeoutTimerClear(),e.debugMessage("onAdPaused"),e.vastOptions.tracking.pause&&e.trackSingleEvent(r)},e.onVpaidAdPlaying=()=>{e.vpaidTimeoutTimerClear(),e.debugMessage("onAdPlaying"),e.vastOptions.tracking.resume&&e.trackSingleEvent(n)},e.onVpaidAdError=v=>{e.debugMessage("onAdError: "+v),e.vpaidTimeoutTimerClear(),e.onVpaidEnded()},e.onVpaidAdLog=v=>{e.debugMessage("onAdLog: "+v)},e.onVpaidAdUserAcceptInvitation=()=>{e.debugMessage("onAdUserAcceptInvitation"),e.vastOptions.tracking.acceptInvitation&&e.trackSingleEvent(m)},e.onVpaidAdUserMinimize=()=>{e.debugMessage("onAdUserMinimize"),e.vastOptions.tracking.collapse&&e.trackSingleEvent(h),e.vastOptions.tracking.adCollapse&&e.trackSingleEvent(p)},e.onVpaidAdUserClose=()=>{e.debugMessage("onAdUserClose"),e.vastOptions.tracking.close&&e.trackSingleEvent(w)},e.onVpaidAdSkippableStateChange=()=>{e.vpaidAdUnit&&e.debugMessage("Ad Skippable State Changed to: "+e.vpaidAdUnit.getAdSkippableState())},e.onVpaidAdExpandedChange=()=>{e.vpaidAdUnit&&e.debugMessage("Ad Expanded Changed to: "+e.vpaidAdUnit.getAdExpanded())},e.getVpaidAdExpanded=()=>{if(e.debugMessage("getAdExpanded"),!!e.vpaidAdUnit)return e.vpaidAdUnit.getAdExpanded()},e.getVpaidAdSkippableState=()=>{if(e.debugMessage("getAdSkippableState"),!!e.vpaidAdUnit)return e.vpaidAdUnit.getAdSkippableState()},e.onVpaidAdSizeChange=()=>{e.vpaidAdUnit&&e.debugMessage("Ad size changed to: w="+e.vpaidAdUnit.getAdWidth()+" h="+e.vpaidAdUnit.getAdHeight())},e.onVpaidAdDurationChange=()=>{e.vpaidAdUnit&&e.debugMessage("Ad Duration Changed to: "+e.vpaidAdUnit.getAdDuration())},e.onVpaidAdRemainingTimeChange=()=>{e.vpaidAdUnit&&e.debugMessage("Ad Remaining Time Changed to: "+e.vpaidAdUnit.getAdRemainingTime())},e.getVpaidAdRemainingTime=()=>{if(e.debugMessage("getAdRemainingTime"),!!e.vpaidAdUnit)return e.vpaidAdUnit.getAdRemainingTime()},e.onVpaidAdImpression=()=>{e.debugMessage("Ad Impression"),e.trackSingleEvent(i)},e.onVpaidAdClickThru=(v,g,b)=>{e.debugMessage("Clickthrough portion of the ad was clicked"),b&&window.open(e.vastOptions.clickthroughUrl),e.pauseVpaidAd(),e.callUris(e.vastOptions.clicktracking)},e.onVpaidAdInteraction=v=>{e.debugMessage("A non-clickthrough event has occured")},e.onVpaidAdVideoStart=()=>{e.debugMessage("Video 0% completed"),e.trackSingleEvent(s)},e.onVpaidAdVideoFirstQuartile=()=>{e.debugMessage("Video 25% completed"),e.trackSingleEvent(a)},e.onVpaidAdVideoMidpoint=()=>{e.debugMessage("Video 50% completed"),e.trackSingleEvent(l)},e.onVpaidAdVideoThirdQuartile=()=>{e.debugMessage("Video 75% completed"),e.trackSingleEvent(u)},e.onVpaidAdVideoComplete=()=>{e.debugMessage("Video 100% completed"),e.trackSingleEvent(c)},e.onVpaidAdLinearChange=()=>{const v=e.domRef.wrapper.getElementsByClassName("fluid_vpaidNonLinear_ad")[0],g=e.domRef.wrapper.querySelector(".close_button"),b=v.getAttribute("adlistid");if(e.debugMessage("Ad linear has changed: "+e.vpaidAdUnit.getAdLinear()),!e.vpaidAdUnit.getAdLinear())return;e.backupMainVideoContentTime(b.split("_")[0]),e.isCurrentlyPlayingAd=!0,g&&g.remove(),v.className="fluid_vpaid_slot",e.domRef.player.loop=!1,e.domRef.player.removeAttribute("controls");const S=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_currentprogress");for(let T=0;T<S.length;T++)S[T].style.backgroundColor=e.displayOptions.layoutControls.adProgressColor;e.toggleLoader(!1)},e.getVpaidAdLinear=()=>(e.debugMessage("getAdLinear"),e.vpaidAdUnit.getAdLinear()),e.isAdLinear=v=>{try{return e.getVpaidAdLinear()}catch(g){return e.debugMessage("Error calling getAdLinear(), handshake -> initAd() must be set before calling getAdLinear(). Falling back to VAST metadata: "+g),v.adType&&v.adType.toLowerCase()==="linear"}},e.startVpaidAd=()=>{e.debugMessage("startAd"),e.vpaidTimeoutTimerStart(),e.vpaidAdUnit.startAd()},e.onVpaidAdLoaded=()=>{e.debugMessage("ad has been loaded"),e.vpaidTimeoutTimerClear(),e.startVpaidAd()},e.onStartVpaidAd=()=>{e.debugMessage("Ad has started"),e.vastOptions.tracking.creativeView&&e.trackSingleEvent(d,0),e.vpaidTimeoutTimerClear()},e.stopVpaidAd=()=>{e.vpaidTimeoutTimerStart(),e.vpaidAdUnit.stopAd()},e.hardStopVpaidAd=v=>{e.vpaidAdUnit&&(e.vpaidAdUnit.stopAd(),e.vpaidAdUnit=null);const g=e.domRef.wrapper.getElementsByClassName("fluid_vpaid_iframe"),b=e.domRef.wrapper.getElementsByClassName("fluid_vpaid_slot"),S=e.domRef.wrapper.getElementsByClassName("fluid_vpaidNonLinear_ad");for(let T=0;T<g.length;T++)g[T].getAttribute("adListId")!==v.id&&g[T].remove();for(let T=0;T<b.length;T++)b[T].getAttribute("adListId")!==v.id&&b[T].remove();for(let T=0;T<S.length;T++)S[T].getAttribute("adListId")!==v.id&&S[T].remove()},e.onStopVpaidAd=()=>{e.debugMessage("Ad has stopped"),e.vpaidTimeoutTimerClear(),e.onVpaidEnded()},e.onSkipVpaidAd=()=>{e.debugMessage("Ad was skipped"),e.vastOptions.tracking.skip&&e.trackSingleEvent(o),e.vpaidTimeoutTimerClear(),e.onVpaidEnded()},e.skipVpaidAd=()=>{e.vpaidTimeoutTimerStart(),e.vpaidAdUnit&&(e.vpaidAdUnit.skipAd(),e.vpaidTimeoutTimerClear(),e.onVpaidEnded())},e.setVpaidAdVolume=v=>{e.vpaidAdUnit&&e.vpaidAdUnit.setAdVolume(v)},e.getVpaidAdVolume=()=>{if(e.vpaidAdUnit)return e.vpaidAdUnit.getAdVolume()},e.onVpaidAdVolumeChange=()=>{e.vpaidAdUnit&&e.debugMessage("Ad Volume has changed to - "+e.vpaidAdUnit.getAdVolume())},e.resizeVpaidAuto=()=>{if(e.vastOptions!==null&&e.vastOptions.vpaid&&e.vastOptions.linear){const v=e.domRef.player.offsetWidth,g=e.domRef.player.offsetHeight,b=e.fullscreenMode?We.FULLSCREEN:We.NORMAL;e.resizeVpaidAd(v,g,b)}},e.resizeVpaidAd=(v,g,b)=>{e.vpaidAdUnit&&e.vpaidAdUnit.resizeAd(v,g,b)},e.pauseVpaidAd=()=>{e.vpaidTimeoutTimerStart(),e.vpaidAdUnit&&e.vpaidAdUnit.pauseAd()},e.resumeVpaidAd=()=>{e.vpaidTimeoutTimerStart(),e.vpaidAdUnit&&e.vpaidAdUnit.resumeAd()},e.expandVpaidAd=()=>{e.vpaidAdUnit&&e.vpaidAdUnit.expandAd()},e.collapseVpaidAd=()=>{e.vpaidAdUnit&&e.vpaidAdUnit.collapseAd()},e.vpaidTimeoutTimerClear=()=>{e.vpaidTimer&&clearTimeout(e.vpaidTimer)},e.vpaidTimeoutTimerStart=()=>{e.vpaidTimeoutTimerClear(),e.vpaidTimer=setTimeout(function(){e.announceLocalError("901"),e.onVpaidEnded()},e.displayOptions.vastOptions.vpaidTimeout)},e.vpaidCallbackListenersAttach=()=>{for(let v in _)e.vpaidAdUnit.subscribe(_[v](),v,e)},e.vpaidCallbackListenersDetach=()=>{if(e.vpaidAdUnit)for(let v in _)e.vpaidAdUnit.unsubscribe(_[v](),v,e)},e.loadVpaid=(v,g)=>{const b=document.createElement("iframe");b.id="fp_"+v.id+"_fluid_vpaid_iframe",b.className="fluid_vpaid_iframe",b.setAttribute("adListId",v.id),b.setAttribute("frameborder","0"),e.domRef.player.parentNode.insertBefore(b,e.domRef.player.nextSibling);const S=document.createElement("script");S.src=g,b.contentWindow.document.head.append(S),e.tempVpaidCounter=0,e.getVPAIDAdInterval=setInterval(function(){if(b&&b.contentWindow){const T=b.contentWindow.getVPAIDAd;if(T&&typeof T=="function")e.vpaidAdUnit&&e.hardStopVpaidAd(v),e.vpaidAdUnit=T(),clearInterval(e.getVPAIDAdInterval),e.checkVPAIDInterface(e.vpaidAdUnit)&&(e.isAdLinear(v)?(e.isCurrentlyPlayingAd=!0,e.switchPlayerToVpaidMode(v)):(e.debugMessage("non linear vpaid ad is loaded"),e.loadVpaidNonlinearAssets(v)));else{if(e.tempVpaidCounter++,e.tempVpaidCounter>=20)return clearInterval(e.getVPAIDAdInterval),e.rollsById[v.rollListId].error=!0,e.playMainVideoWhenVpaidFails(403),!1;e.debugMessage(e.tempVpaidCounter)}}},100),e.destructors.push(()=>clearInterval(e.getVPAIDAdInterval))},e.onVpaidEnded=v=>{if(v&&v.stopImmediatePropagation(),!e.vpaidAdUnit)return;const g=e.domRef.wrapper.querySelector(".fluid_vpaid_slot");e.vpaidCallbackListenersDetach(),e.vpaidAdUnit=null,clearInterval(e.getVPAIDAdInterval),g&&g.remove(),e.checkForNextAd()},e.playMainVideoWhenVpaidFails=v=>{const g=e.domRef.wrapper.querySelector(".fluid_vpaid_slot");g&&g.remove(),clearInterval(e.getVPAIDAdInterval),e.playMainVideoWhenVastFails(v)}}function uD(e,t){const{muteEvent:r,unmuteEvent:n,pauseEvent:o,resumeEvent:i,rewindEvent:s,fullscreenEvent:a,skipEvent:l,playerExpandEvent:u,playerCollapseEvent:c,startEvent:d,firstQuartileEvent:h,midpointEvent:p,thirdQuartileEvent:w,completeEvent:m,progressEvent:_,creativeViewEvent:v,collapseEvent:g,adCollapseEvent:b,closeEvent:S,acceptInvitationEvent:T}=cp;e.setCTAFromVast=(E,k)=>{if(e.displayOptions.vastOptions.adCTATextVast&&E){const P=e.extractNodeDataByTagName(E,"MobileText"),L=e.extractNodeDataByTagName(E,"PCText"),B=e.extractNodeDataByTagName(E,"DisplayUrl")||e.extractNodeDataByTagName(E,"Link"),M=e.extractNodeDataByTagName(E,"Tracking"),R=window.matchMedia("(max-width: 768px)").matches;(L||P)&&M&&(k.titleCTA={text:R?P||L:L||P,link:B||null,tracking:M})}},e.getClickThroughUrlFromLinear=E=>{const k=E.getElementsByTagName("VideoClicks");if(k.length){const P=k[0].getElementsByTagName("ClickThrough");if(P.length)return e.extractNodeData(P[0])}return!1},e.getVastAdTagUriFromWrapper=E=>{const k=E.getElementsByTagName("Wrapper");if(typeof k<"u"&&k.length){const P=k[0].getElementsByTagName("VASTAdTagURI");if(P.length)return e.extractNodeData(P[0])}return!1},e.hasInLine=E=>{const k=E.getElementsByTagName("InLine");return typeof k<"u"&&k.length},e.hasVastAdTagUri=E=>{const k=E.getElementsByTagName("VASTAdTagURI");return typeof k<"u"&&k.length},e.getClickThroughUrlFromNonLinear=E=>{let k="";if(E.getElementsByTagName("NonLinear").length){const L=E.getElementsByTagName("NonLinearClickThrough");L.length&&(k=e.extractNodeData(L[0]))}return k},e.getTrackingFromCreative=E=>{const k=E.getElementsByTagName("TrackingEvents");return k.length?k[0].getElementsByTagName("Tracking"):[]},e.getDurationFromLinear=E=>{const k=E.getElementsByTagName("Duration");if(k.length&&typeof k[0].childNodes[0]<"u"){const P=e.extractNodeData(k[0]);return e.convertTimeStringToSeconds(P)}return!1},e.getDurationFromNonLinear=E=>{let k=0;const P=E.getElementsByTagName("NonLinear");return P.length&&typeof P[0].getAttribute("minSuggestedDuration")<"u"&&(k=e.convertTimeStringToSeconds(P[0].getAttribute("minSuggestedDuration"))),k},e.getDimensionFromNonLinear=E=>{const k={width:null,height:null},P=E.getElementsByTagName("NonLinear");return P.length&&(typeof P[0].getAttribute("width")<"u"&&(k.width=P[0].getAttribute("width")),typeof P[0].getAttribute("height")<"u"&&(k.height=P[0].getAttribute("height"))),k},e.getCreativeTypeFromStaticResources=E=>{let k="";const P=E.getElementsByTagName("NonLinear");return P.length&&typeof P[0].childNodes[0]<"u"&&(k=P[0].getElementsByTagName("StaticResource")[0].getAttribute("creativeType")),k.toLowerCase()},e.getMediaFilesFromLinear=E=>{const k=E.getElementsByTagName("MediaFiles");return k.length?k[0].getElementsByTagName("MediaFile"):[]},e.getStaticResourcesFromNonLinear=E=>{let k=[];const P=E.getElementsByTagName("NonLinear");return P.length&&(k=P[0].getElementsByTagName("StaticResource")),k},e.extractNodeDataByTagName=(E,k)=>{const P=E.getElementsByTagName(k);return P&&P.length?e.extractNodeData(P[0]):null},e.extractNodeData=E=>{let k="";for(let P=0;P<E.childNodes.length;P++){const L=E.childNodes[P];L.nodeType===8||L.nodeType===3&&/^\s*$/.test(L.nodeValue)||(k+=L.nodeValue)}return k.replace(/(^\s+|\s+$)/g,"")},e.getAdParametersFromLinear=E=>{const k=E.getElementsByTagName("AdParameters");let P=null;return k.length&&(P=e.extractNodeData(k[0])),P},e.getMediaFileListFromLinear=E=>{const k=[],P=e.getMediaFilesFromLinear(E);if(!P.length)return k;for(let L=0;L<P.length;L++){let B=P[L].getAttribute("mediaType");B||(B="2D"),k.push({src:e.extractNodeData(P[L]),type:P[L].getAttribute("type"),apiFramework:P[L].getAttribute("apiFramework"),codec:P[L].getAttribute("codec"),id:P[L].getAttribute("codec"),fileSize:P[L].getAttribute("fileSize"),delivery:P[L].getAttribute("delivery"),width:P[L].getAttribute("width"),height:P[L].getAttribute("height"),mediaType:B.toLowerCase()})}return k},e.getIconClickThroughFromLinear=E=>{const k=E.getElementsByTagName("IconClickThrough");return k.length?e.extractNodeData(k[0]):""},e.getStaticResourceFromNonLinear=E=>{let k;const P=e.getStaticResourcesFromNonLinear(E);for(let L=0;L<P.length;L++)if(P[L].getAttribute("type")||(k=e.extractNodeData(P[L])),P[L].getAttribute("type")===e.displayOptions.staticResource)return e.extractNodeData(P[L]);return k},e.registerTrackingEvents=(E,k)=>{const P=e.getTrackingFromCreative(E);let L="",B=0;for(let M=0;M<P.length;M++)switch(L=P[M].getAttribute("event"),typeof k.tracking[L]>"u"&&(k.tracking[L]=[]),L){case d:case h:case p:case w:case m:case S:case l:case T:typeof k.stopTracking[L]>"u"&&(k.stopTracking[L]=[]),k.tracking[L].push(P[M].textContent.trim()),k.stopTracking[L]=!1;break;case _:case v:B=e.convertTimeStringToSeconds(P[M].getAttribute("offset"))||0,typeof k.tracking[L][B]>"u"&&(k.tracking[L][B]={elements:[],stopTracking:!1}),k.tracking[L][B].elements.push(P[M].textContent.trim());break;case r:case n:case o:case i:case s:case a:case u:case c:case g:case b:k.tracking[L].push(P[M].textContent.trim());break}},e.registerClickTracking=(E,k)=>{if(!(!E||!E.length))for(let P=0;P<E.length;P++)E[P]!==""&&k.clicktracking.push(E[P])},e.registerViewableImpressionEvents=(E,k)=>{if(E.length)for(let P=0;P<E.length;P++){const L=e.extractNodeData(E[P]);k.viewImpression.push(L)}},e.registerImpressionEvents=(E,k)=>{if(E.length)for(let P=0;P<E.length;P++){const L=e.extractNodeData(E[P]);k.impression.push(L)}},e.registerErrorEvents=(E,k)=>{typeof E<"u"&&E!==null&&E.length===1&&E[0].childNodes.length===1&&(k.errorUrl=E[0].childNodes[0].nodeValue)},e.announceError=E=>{if(typeof e.vastOptions.errorUrl>"u"||!e.vastOptions.errorUrl)return;const k=typeof E<"u"?parseInt(E):900,P=e.vastOptions.errorUrl.replace("[ERRORCODE]",k);e.callUris([P])},e.getClickTrackingEvents=E=>{const k=[],P=E.getElementsByTagName("VideoClicks");if(!P.length)return;const L=P[0].getElementsByTagName("ClickTracking");if(L.length){for(let B=0;B<L.length;B++){const M=e.extractNodeData(L[B]);k.push(M)}return k}},e.getNonLinearClickTrackingEvents=E=>{const k=[];if(!E.getElementsByTagName("NonLinear").length)return;const L=E.getElementsByTagName("NonLinearClickTracking");if(L.length){for(let B=0;B<L.length;B++){const M=e.extractNodeData(L[B]);k.push(M)}return k}},e.callUris=E=>{for(let k=0;k<E.length;k++)new Image().src=E[k]},e.recalculateAdDimensions=()=>{const E=e.domRef.player,k=e.domRef.wrapper.querySelector(".vast_clickthrough_layer");k&&(k.style.width=E.offsetWidth+"px",k.style.height=E.offsetHeight+"px");const P=e.checkFullscreenSupport(),L=e.domRef.wrapper.querySelector(".fluid_control_fullscreen"),B=e.domRef.wrapper.querySelector(".context_option_fullscreen");if(P)document[P.isFullscreen]===null?e.fullscreenOff(L,B):e.fullscreenOn(L,B);else{const M=e.domRef.wrapper;M.className.search(/\bpseudo_fullscreen\b/g)!==-1?(M.className+=" pseudo_fullscreen",e.fullscreenOn(L,B)):(M.className=M.className.replace(/\bpseudo_fullscreen\b/g,""),e.fullscreenOff(L,B))}},e.prepareVast=E=>{let k=e.findRoll(E);for(let P=0;P<k.length;P++){const L=k[P];e.rollsById[L].vastLoaded!==!0&&e.rollsById[L].error!==!0&&e.processVastWithRetries(e.rollsById[L])}},e.playMainVideoWhenVastFails=E=>{e.debugMessage("playMainVideoWhenVastFails called"),e.domRef.player.removeEventListener("loadedmetadata",e.switchPlayerToVastMode),e.domRef.player.pause(),e.toggleLoader(!1),e.displayOptions.vastOptions.vastAdvanced.noVastVideoCallback(),!e.vastOptions||typeof e.vastOptions.errorUrl>"u"?e.announceLocalError(E):e.announceError(E),e.switchToMainVideo()},e.switchPlayerToVastMode=()=>{};function A(E){var L,B,M,R,D,H,F,W;const k=E.data;if(!k)return;const P=Array.from(k.getElementsByTagName("Creative"));if(P.length)for(let I=0;I<P.length;I++){const G=P[I];try{if(E.adType==="linear"){const U=G.getElementsByTagName("Linear")[0];if(!e.hasVastAdTagUri(k)&&e.hasInLine(k)){if(E.adFinished=!1,E.vpaid=!1,E.skipoffset=e.convertTimeStringToSeconds(U.getAttribute("skipoffset")),E.clickthroughUrl=e.getClickThroughUrlFromLinear(U),E.duration=e.getDurationFromLinear(U),E.mediaFileList=e.getMediaFileListFromLinear(U),E.adParameters=e.getAdParametersFromLinear(U),E.iconClick=E.iconClick||e.getIconClickThroughFromLinear(U),(L=E==null?void 0:E.mediaFileList)!=null&&L.length&&((B=E.mediaFileList[0])==null?void 0:B.apiFramework)==="VPAID")E.vpaid=!0;else if(!((M=E==null?void 0:E.mediaFileList)!=null&&M.length)&&(E!=null&&E.adParameters)){try{const Z=JSON.parse((R=E==null?void 0:E.adParameters)==null?void 0:R.trim());Z&&(E.mediaFileList=[{src:(D=Z==null?void 0:Z.videos)!=null&&D.length?(H=Z==null?void 0:Z.videos[0])==null?void 0:H.url:"",type:(F=Z==null?void 0:Z.videos)!=null&&F.length?(W=Z==null?void 0:Z.videos[0])==null?void 0:W.mimetype:""}])}catch(Z){console.error("Error parsing media file URL:",Z)}E.adParameters=null}}}if(E.adType==="nonLinear"){const U=G.getElementsByTagName("NonLinearAds")[0];!e.hasVastAdTagUri(k)&&e.hasInLine(k)&&(E.vpaid=!1,E.clickthroughUrl=e.getClickThroughUrlFromNonLinear(U),E.duration=e.getDurationFromNonLinear(U),E.dimension=e.getDimensionFromNonLinear(U),E.staticResource=e.getStaticResourceFromNonLinear(U),E.creativeType=e.getCreativeTypeFromStaticResources(U),E.adParameters=e.getAdParametersFromLinear(U),E.adParameters&&(E.vpaid=!0))}break}catch(J){G.firstElementChild&&!(G.firstElementChild.tagName==="Linear"||G.firstElementChild.tagName==="NonLinearAds")&&console.warn("Skipping "+G.firstElementChild.tagName+", this might not be supported yet."),console.error(J)}}return E}e.processVastWithRetries=E=>{let k=E.vastTag;const P=E.id;e.domRef.player.addEventListener("adId_"+P,e[E.roll]);const L=function(B,M){if(B&&Array.isArray(M)&&!e.displayOptions.vastOptions.allowVPAID&&M.some(R=>R.vpaid)&&(M=M.filter(R=>R.vpaid!==!0),e.announceLocalError("103","VPAID not allowed, so skipping this VAST tag.")),B&&Array.isArray(M)&&M.length){e.adPool[P]=[],M.forEach((D,H)=>{if(D.id=P+"_AD"+H,D.rollListId=P,D.adType==="linear"){typeof D.iconClick<"u"&&D.iconClick!==null&&D.iconClick.length&&(D.landingPage=D.iconClick);const F=e.getSupportedMediaFileObject(D.mediaFileList);F&&(D.mediaType=F.mediaType)}if(D.adType=D.adType?D.adType:"unknown",e.adPool[P].push(Object.assign({},D)),e.hasTitle()){const F=e.domRef.wrapper.querySelector(".fp_title");F.style.display="none"}e.rollsById[P].ads.push(D)}),e.rollsById[P].vastLoaded=!0;const R=document.createEvent("Event");R.initEvent("adId_"+P,!1,!0),e.domRef.player.dispatchEvent(R),e.displayOptions.vastOptions.vastAdvanced.vastLoadedCallback()}else e.announceLocalError("101"),E.hasOwnProperty("fallbackVastTags")&&E.fallbackVastTags.length>0?(k=E.fallbackVastTags.shift(),e.processUrl(k,L,P)):(E.roll==="preRoll"&&e.preRollFail(E),e.rollsById[P].error=!0)};e.processUrl(k,L,P)},e.processUrl=(E,k,P)=>{const B={tracking:[],stopTracking:[],impression:[],viewImpression:[],clicktracking:[],vastLoaded:!1};e.resolveVastTag(E,0,B,k,P)};function O(E){for(const k of E)if(!(k.data.attributes.sequence!==void 0))return[k];return[]}async function V(E,k,P={},L=0,B=!0){var H,F,W,I;const M={...P,children:[]},{responseXML:R}=await e.sendRequestAsync(E,!0,e.displayOptions.vastOptions.vastTimeout),D=Array.from(R.getElementsByTagName("Ad"));for(const G of D){const J=e.getVastAdTagUriFromWrapper(G),U=G.attributes.sequence!==void 0,Z={data:G},ie=G.getElementsByTagName("Linear").length&&"linear"||G.getElementsByTagName("NonLinearAds").length&&"nonLinear"||"";if(J&&L<=k&&B){const[le]=G.getElementsByTagName("Wrapper"),ue=le.attributes.followAdditionalWrappers&&["false","0"].includes(le.attributes.followAdditionalWrappers.value),se=le.attributes.allowMultipleAds&&["true","1"].includes(le.attributes.allowMultipleAds.value),Se=le.attributes.fallbackOnNoAd&&["true","1"].includes(le.attributes.fallbackOnNoAd.value);try{const je=await V(J,k,{tagType:"wrapper",...Z,fallbackOnNoAd:Se},L+1,!ue);je.fallbackOnNoAd=Se,(!se||U)&&(je.children=O(je.children)),M.children.push(je)}catch(je){M.children.push({tagType:"wrapper",fallbackOnNoAd:Se,httpError:!0}),e.debugMessage("Error when loading Wrapper, will trigger fallback if available",je)}}else if(!J){if(ie==="nonLinear")M.children.push({tagType:"inLine",...Z});else if(Array.from(G.getElementsByTagName("MediaFiles")).length){const ue=(H=Array.from(G.getElementsByTagName("MediaFiles"))[0])==null?void 0:H.getElementsByTagName("MediaFile"),se=(F=ue[0])==null?void 0:F.textContent.trim();ue[0].getAttribute("apiFramework")==="VPAID"?M.children.push({tagType:"inLine",...Z}):await x(se)&&M.children.push({tagType:"inLine",...Z})}else if(Array.from(G.getElementsByTagName("AdParameters")).length){const le=Array.from(G.getElementsByTagName("AdParameters"));for(const ue of le)try{const se=JSON.parse(ue.textContent.trim()),Se=(W=se==null?void 0:se.videos)!=null&&W.length?(I=se==null?void 0:se.videos[0])==null?void 0:I.url:"";await x(Se)&&M.children.push({tagType:"inLine",...Z})}catch(se){console.error("Error parsing media file URL:",se)}}}}return M}async function x(E){if(!E)return!1;try{const k=await fetch(E);if(!k.ok||k.headers.get("content-type").indexOf("video")===-1)return!1;const P=document.createElement("video");return P.src=E,await P.canPlayType(k.headers.get("content-type"))!==""}catch(k){return console.error("Failed to load media file:",k),!1}}function C(E,k=[],P=[]){const L=[...P,E.data];return Array.isArray(E.children)&&E.children.length&&E.children.forEach(B=>C(B,k,L)),E.tagType==="inLine"&&k.push({...E,wrappers:L.filter(Boolean)}),k}function N(E,k){const P={...E,...JSON.parse(JSON.stringify(k))};return P.adType=P.data.getElementsByTagName("Linear").length&&"linear"||P.data.getElementsByTagName("NonLinearAds").length&&"nonLinear"||"unknown",[...P.wrappers||[],P.data].filter(Boolean).forEach(L=>{const B=L.getElementsByTagName("Impression");B!==null&&e.registerImpressionEvents(B,P);const M=L.getElementsByTagName("Viewable");M!==null&&e.registerViewableImpressionEvents(M,P);const R=L.getElementsByTagName("Error");R!==null&&e.registerErrorEvents(R,P);const[D]=L.getElementsByTagName("TitleCTA");D&&e.setCTAFromVast(D,P),e.registerTrackingEvents(L,P);const H=P.adType==="linear"?e.getClickTrackingEvents(L):e.getNonLinearClickTrackingEvents(L);e.registerClickTracking(H,P)}),P.sequence=P.data.attributes.sequence?Number(P.data.attributes.sequence.value):null,P.played=!1,P}function j(E,k,P,L){const{adPod:B}=E.filter(D=>!!D.sequence).sort((D,H)=>D.sequence-H.sequence).reduce((D,H)=>(D.adPod.length<P&&D.totalDuration+H.duration<=k&&D.adPod.push(H),D),{adPod:[],totalDuration:0}),M=E.filter(D=>!D.sequence&&D.duration<k),R=B.map(D=>D.adType).slice(0,-1).every(D=>D==="linear");return B.length>0&&!L&&R?(e.debugMessage("Playing valid adPod",B),B):(e.debugMessage("Trying to play single ad, adBuffet:",M),M.length>0?[M[0]]:[])}e.resolveVastTag=(E,k,P,L,B)=>{if(!E||E==="")return L(!1);V(E,e.displayOptions.vastOptions.maxAllowedVastTagRedirects).then(M=>{try{const R=M.children.some(H=>H.tagType==="wrapper"&&H.fallbackOnNoAd&&(!/"tagType":"ad"/.test(JSON.stringify(H))||H.httpError));R&&e.debugMessage("Error on VAST Wrapper, triggering fallbackOnNoAd. Ad tree:",M),M=C(M).map(H=>A(N(H,P)));const D=j(M,e.rollsById[B].maxTotalDuration||Number.MAX_SAFE_INTEGER,e.rollsById[B].maxTotalQuantity||Number.MAX_SAFE_INTEGER,R);D&&D.length?L(!0,D):L(!1)}catch{L(!1)}}).catch(()=>L(!1))},e.setVastList=()=>{const E={},k={preRoll:[],postRoll:[],midRoll:[],onPauseRoll:[]},P={id:null,roll:null,vastLoaded:!1,error:!1,adText:null,adTextPosition:null};let L=0;const B=function(R){let D=!1;return R.roll==="midRoll"&&typeof R.timer>"u"&&(D=!0),D},M=function(R){let D=!1;return R.vastTag||(e.announceLocalError(102,'"vastTag" property is missing from adList.'),D=!0),R.roll||(e.announceLocalError(102,'"roll" is missing from adList.'),D=!0),e.availableRolls.indexOf(R.roll)===-1&&(e.announceLocalError(102,"Only "+e.availableRolls.join(",")+" rolls are supported."),D=!0),R.size&&e.supportedNonLinearAd.indexOf(R.size)===-1&&(e.announceLocalError(102,"Only "+e.supportedNonLinearAd.join(",")+" size are supported."),D=!0),D};if(e.displayOptions.vastOptions.hasOwnProperty("adList"))for(let R in e.displayOptions.vastOptions.adList){let D=e.displayOptions.vastOptions.adList[R];if(M(D)){e.announceLocalError(102,"Wrong adList parameters.");continue}const H="ID"+L;E[H]=Object.assign({},P),E[H]=Object.assign(E[H],e.displayOptions.vastOptions.adList[R]),D.roll==="midRoll"&&(E[H].error=B("midRoll")),E[H].id=H,E[H].ads=[],L++}Object.keys(E).map(function(R){switch(E[R].roll.toLowerCase()){case"preRoll".toLowerCase():k.preRoll.push(E[R]);break;case"midRoll".toLowerCase():k.midRoll.push(E[R]);break;case"postRoll".toLowerCase():k.postRoll.push(E[R]);break;case"onPauseRoll".toLowerCase():k.onPauseRoll.push(E[R]);break;default:console.error(`${E[R].roll.toLowerCase()} is not a recognized roll`);break}}),e.adGroupedByRolls=k,e.rollsById=E},e.onVastAdEnded=E=>{E&&E.stopImmediatePropagation(),e.vastOptions.adFinished=!0,e.deleteVastAdElements(),e.checkForNextAd()},e.vastLogoBehaviour=E=>{if(!e.displayOptions.layoutControls.logo.showOverAds){const k=e.domRef.wrapper.querySelector(".logo_holder");if(!k)return;k.style.display=E?"none":"inline"}},e.deleteVastAdElements=()=>{e.removeClickthrough(),e.removeSkipButton(),e.removeAdCountdown(),e.removeAdPlayingText(),e.removeCTAButton(),e.vastLogoBehaviour(!1)},e.trackMuteChange=()=>{!e.isCurrentlyPlayingAd&&!e.isCurrentlyShowingNonLinearAd||!e.vastOptions||!e.vastOptions.tracking||!e.vastOptions.tracking.mute&&!e.vastOptions.tracking.unmute||(e.domRef.player.muted?e.trackSingleEvent(r):e.trackSingleEvent(n))},e.trackPlayPauseChange=()=>{!e.isCurrentlyPlayingAd&&!e.isCurrentlyShowingNonLinearAd||!e.vastOptions||!e.vastOptions.tracking||!e.vastOptions.tracking.pause&&!e.vastOptions.tracking.resume||(e.domRef.player.paused?e.trackSingleEvent(o):e.trackSingleEvent(i))},e.trackCloseNonLinearAd=()=>{!e.vastOptions||!e.vastOptions.tracking||!e.vastOptions.tracking.close||e.trackSingleEvent(S)},e.trackSkipAd=()=>{!e.vastOptions||!e.vastOptions.tracking||!e.vastOptions.tracking.skip||e.trackSingleEvent(l)},e.trackRewindAd=()=>{!e.isCurrentlyShowingNonLinearAd||!e.vastOptions||!e.vastOptions.tracking||!e.vastOptions.tracking.rewind||e.trackSingleEvent(s)},e.trackPlayerSizeChanged=E=>{const{isCurrentlyPlayingAd:k,isCurrentlyShowingNonLinearAd:P,fullscreenMode:L,theatreMode:B,miniPlayerToggledOn:M,vastOptions:R,trackSingleEvent:D}=e;if(!k&&!P||!(R!=null&&R.tracking))return;const{fullscreen:H,playerExpand:F,playerCollapse:W}=R.tracking;if(!(!H&&!F&&!W)){if(L){H&&D(a),(H||F)&&D(u);return}if(B){const I=E===We.MINI_PLAYER||E===We.NORMAL;I&&F?D(u):!I&&W&&D(c);return}if(M&&W){D(c);return}E===We.MINI_PLAYER&&F?D(u):E!==We.MINI_PLAYER&&W&&D(c)}}}function cD(e,t){e.createCardboardJoystickButton=n=>{const o=e.domRef.wrapper.querySelector(".fluid_vr_joystick_panel"),i=document.createElement("div");return i.className="fluid_vr_button fluid_vr_joystick_"+n,o.appendChild(i),i},e.cardboardRotateLeftRight=n=>{const o=e.vrROTATION_POSITION,i=-e.vrROTATION_POSITION,a={val:n<1?o:i};new TWEEN.Tween(a).to({val:0},e.vrROTATION_SPEED).easing(TWEEN.Easing.Quadratic.InOut).onUpdate(function(){e.vrViewer.OrbitControls.rotateLeft(a.val)}).start()},e.cardboardRotateUpDown=n=>{const o=e.vrROTATION_POSITION,i=-e.vrROTATION_POSITION,a={val:n<1?o:i};new TWEEN.Tween(a).to({val:0},e.vrROTATION_SPEED).easing(TWEEN.Easing.Quadratic.InOut).onUpdate(function(){e.vrViewer.OrbitControls.rotateUp(a.val)}).start()},e.createCardboardJoystick=()=>{const n=e.domRef.wrapper.querySelector(".fluid_vr_container"),o=document.createElement("div");o.className="fluid_vr_joystick_panel",n.appendChild(o);const i=e.createCardboardJoystickButton("up"),s=e.createCardboardJoystickButton("left"),a=e.createCardboardJoystickButton("right"),l=e.createCardboardJoystickButton("down"),u=e.createCardboardJoystickButton("zoomdefault"),c=e.createCardboardJoystickButton("zoomin"),d=e.createCardboardJoystickButton("zoomout");i.addEventListener("click",function(){e.cardboardRotateUpDown(1)}),l.addEventListener("click",function(){e.cardboardRotateUpDown(0)}),a.addEventListener("click",function(){e.cardboardRotateLeftRight(0)}),s.addEventListener("click",function(){e.cardboardRotateLeftRight(1)}),u.addEventListener("click",function(){e.vrViewer.camera.fov=60,e.vrViewer.camera.updateProjectionMatrix()}),d.addEventListener("click",function(){e.vrViewer.camera.fov*=1.1,e.vrViewer.camera.updateProjectionMatrix()}),c.addEventListener("click",function(){e.vrViewer.camera.fov*=.9,e.vrViewer.camera.updateProjectionMatrix()})},e.cardBoardResize=()=>{e.domRef.player.removeEventListener("theatreModeOn",r),e.domRef.player.addEventListener("theatreModeOn",r),e.domRef.player.removeEventListener("theatreModeOff",r),e.domRef.player.addEventListener("theatreModeOff",r)};function r(){e.vrViewer.onWindowResize()}e.cardBoardSwitchToNormal=()=>{const n=e.domRef.wrapper.querySelector(".fluid_vr_joystick_panel"),o=e.domRef.player;let i=o.parentNode.getElementsByClassName("fluid_controls_container");e.vrViewer.enableEffect(PANOLENS.MODES.NORMAL),e.vrViewer.onWindowResize(),e.vrMode=!1;const s=Array.from(i),a=s.findIndex(p=>p.classList.contains("fluid_vr2_controls_container"));if(a!==-1){const p=i[a],w=s.find((m,_)=>_!==a);o.parentNode.removeChild(p),w==null||w.classList.remove("fluid_vr_controls_container")}e.displayOptions.layoutControls.showCardBoardJoystick&&n&&(n.style.display="block");const l=e.domRef.wrapper.querySelector(".fluid_control_volume_container");l.style.display="block";const u=e.domRef.wrapper.querySelector(".ad_countdown"),c=e.domRef.wrapper.querySelector(".fluid_ad_cta"),d=e.domRef.wrapper.querySelector(".fluid_ad_playing"),h=e.domRef.wrapper.querySelector(".skip_button");u&&(u.style.display="block"),c&&(c.style.display="block"),d&&(d.style.display="block"),h&&(h.style.display="block")},e.cardBoardHideDefaultControls=()=>{const n=e.domRef.wrapper.querySelector(".fluid_vr_joystick_panel"),o=e.domRef.wrapper.querySelector(".fluid_initial_play"),i=e.domRef.wrapper.querySelector(".fluid_control_volume_container");e.displayOptions.layoutControls.showCardBoardJoystick&&n&&(n.style.display="none"),o&&(e.domRef.wrapper.querySelector(".fluid_initial_play").style.display="none",e.domRef.wrapper.querySelector(".fluid_initial_play_button_container").style.opacity="1"),i.style.display="none"},e.cardBoardCreateVRControls=()=>{const o=e.domRef.wrapper.querySelector(".fluid_controls_container").cloneNode(!0);o.removeAttribute("id"),o.querySelectorAll("*").forEach(function(i){i.removeAttribute("id")}),o.classList.add("fluid_vr2_controls_container"),e.domRef.player.parentNode.insertBefore(o,e.domRef.player.nextSibling),e.copyEvents(o)},e.cardBoardSwitchToVR=()=>{const n=e.domRef.wrapper.querySelector(".fluid_controls_container");e.vrViewer.enableEffect(PANOLENS.MODES.CARDBOARD),e.vrViewer.onWindowResize(),e.vrViewer.disableReticleControl(),e.vrMode=!0,n.classList.add("fluid_vr_controls_container"),e.cardBoardHideDefaultControls(),e.cardBoardCreateVRControls();const o=e.domRef.wrapper.querySelector(".ad_countdown"),i=e.domRef.wrapper.querySelector(".fluid_ad_cta"),s=e.domRef.wrapper.querySelector(".fluid_ad_playing"),a=e.domRef.wrapper.querySelector(".skip_button");o&&(o.style.display="none"),i&&(i.style.display="none"),s&&(s.style.display="none"),a&&(a.style.display="none")},e.cardBoardMoveTimeInfo=()=>{const n=e.domRef.wrapper.querySelector(".fluid_control_duration"),o=e.domRef.wrapper.querySelector(".fluid_controls_container");n.classList.add("cardboard_time"),o.appendChild(n),e.controlDurationUpdate=function(){const i=e.formatTime(e.domRef.player.currentTime),s=e.formatTime(e.currentVideoDuration),a=e.domRef.player.parentNode.getElementsByClassName("fluid_control_duration");let l="";if(e.isCurrentlyPlayingAd){l="<span class='ad_timer_prefix'>AD : </span>"+i+" / "+s;for(let u=0;u<a.length;u++)a[u].classList.add("ad_timer_prefix")}else{l=i+" / "+s;for(let u=0;u<a.length;u++)a[u].classList.remove("ad_timer_prefix")}for(let u=0;u<a.length;u++)a[u].innerHTML=l}},e.cardBoardAlterDefaultControls=()=>{e.cardBoardMoveTimeInfo()},e.createCardboardView=()=>{const n=document.createElement("div");n.className="fluid_vr_container",e.domRef.player.parentNode.insertBefore(n,e.domRef.player.nextSibling),PANOLENS.VideoPanorama.prototype.pauseVideo=function(){},PANOLENS.VideoPanorama.prototype.playVideo=function(){},e.vrPanorama=new PANOLENS.VideoPanorama("",{videoElement:e.domRef.player,autoplay:e.displayOptions.layoutControls.autoPlay,loop:!!e.displayOptions.layoutControls.loop}),e.vrViewer=new PANOLENS.Viewer({container:n,controlBar:!0,controlButtons:[],enableReticle:!1}),e.vrViewer.add(e.vrPanorama),e.vrViewer.enableEffect(PANOLENS.MODES.NORMAL),e.vrViewer.onWindowResize(),(e.getMobileOs().userOs==="Android"||e.getMobileOs().userOs==="iOS")&&e.vrViewer.enableControl(1),e.cardBoardAlterDefaultControls(),e.cardBoardResize(),e.vrViewer.initialCameraPosition=JSON.parse(JSON.stringify(e.vrViewer.camera.position)),e.displayOptions.layoutControls.showCardBoardJoystick&&(e.getMobileOs().userOs==="Android"||e.getMobileOs().userOs==="iOS"||e.createCardboardJoystick(),e.vrViewer.OrbitControls.noZoom=!0),e.trackEvent(e.domRef.player.parentNode,"click",".fluid_control_cardboard",function(){e.vrMode?e.cardBoardSwitchToNormal():e.cardBoardSwitchToVR()})},e.createCardboard=()=>{e.displayOptions.layoutControls.showCardBoardView&&(e.domRef.wrapper.querySelector(".fluid_control_cardboard").style.display="inline-block",window.PANOLENS?e.createCardboardView():_o(()=>import("./panolens.module-DJ7L_pkH.js"),[]).then(n=>{window.PANOLENS=n,e.createCardboardView()}))}}function dD(e,t){e.subtitleSizeLevels=[50,75,100,150,200],e.currentSubtitleSizeIndex=e.subtitleSizeLevels.indexOf(100),e.subtitleFetchParse=o=>{e.sendRequest(o.url,!1,e.displayOptions.vastOptions.vastTimeout,function(){const i=this;if(i.readyState===4&&i.status!==200||!(i.readyState===4&&i.status===200))return;const s=i.responseText,a=new WebVTT.Parser(window,WebVTT.StringDecoder()),l=[];a.oncue=function(u){l.push(u)},a.onregion=function(u){},a.parse(s),a.flush(),e.subtitlesData=l})},e.createSubtitlesSwitch=()=>{const o="OFF";if(e.subtitlesData=[],!e.displayOptions.layoutControls.subtitlesEnabled){e.domRef.wrapper.querySelector(".fluid_control_subtitles").style.display="none";return}const i=[];i.push({label:o,url:"na",lang:o});const s=e.domRef.player.querySelectorAll("track");[].forEach.call(s,function(h){h.kind==="metadata"&&h.src&&i.push({label:h.label,url:h.src,lang:h.srclang,default:h.default})}),e.subtitlesTracks=i;const a=e.domRef.wrapper.querySelector(".fluid_control_subtitles");a.style.display="inline-block";let l=!1;const u=document.createElement("div");u.className="fluid_subtitles_list",u.style.display="none",e.addSubtitleSizeControls(u,a);let c=!1;const d=!!e.subtitlesTracks.find(h=>h.default);e.subtitlesTracks.forEach(function(h){let p="";const w=e.displayOptions.layoutControls.subtitlesOnByDefault;(!c&&(w&&h.default||!d&&h.label!==o||e.subtitlesTracks.length===1)||!w&&h.label===o)&&(p="subtitle_selected",e.subtitleFetchParse(h),c=!0);const m=document.createElement("div");m.className="fluid_subtitle_list_item",m.innerHTML='<span class="subtitle_button_icon '+p+'"></span>'+h.label,m.addEventListener("click",function(_){_.stopPropagation();const v=this,g=e.domRef.wrapper.getElementsByClassName("subtitle_button_icon");for(let b=0;b<g.length;b++)g[b].className=g[b].className.replace("subtitle_selected","");v.firstChild.className+=" subtitle_selected",e.subtitlesTracks.forEach(function(b){b.label===v.innerText.replace(/(\r\n\t|\n|\r\t)/gm,"")&&(b.label===o?e.subtitlesData=[]:e.subtitleFetchParse(b))}),e.openCloseSubtitlesSwitch()}),u.appendChild(m),l=!0}),l?(a.appendChild(u),a.removeEventListener("click",r),a.addEventListener("click",r)):e.domRef.wrapper.querySelector(".fluid_control_subtitles").style.display="none",e.domRef.player.removeEventListener("timeupdate",n),e.domRef.player.addEventListener("timeupdate",n)};function r(o){const i=e.domRef.wrapper.querySelector(".fluid_control_subtitles");let s=!1;for(let a=0;a<i.children.length;a++)i.children[a].style.display==="block"&&(s=!0,i.children[a].style.display="none");s||e.openCloseSubtitlesSwitch()}function n(){e.renderSubtitles()}e.addSubtitleSizeControls=(o,i)=>{const s=e.createSubtitleSizeButton(),a=e.createSubtitleSizeMenu();a.style.display="none",o.appendChild(s),i.appendChild(a)},e.renderSubtitles=()=>{const o=e.domRef.player;let i=Math.floor(o.currentTime),s=!1,a=e.domRef.wrapper.querySelector(".fluid_subtitles_container");if(e.isCurrentlyPlayingAd){a.innerHTML="";return}for(let l=0;l<e.subtitlesData.length;l++)i>=e.subtitlesData[l].startTime&&i<=e.subtitlesData[l].endTime&&(a.innerHTML="",a.appendChild(WebVTT.convertCueToDOMTree(window,e.subtitlesData[l].text)),s=!0);s||(a.innerHTML="")},e.openCloseSubtitlesSwitch=()=>{const o=e.domRef.wrapper.querySelector(".fluid_subtitles_list");if(e.isCurrentlyPlayingAd){o.style.display="none";return}if(o.style.display==="none"){o.style.display="block";const i=function(s){o.removeEventListener("mouseleave",i),o.style.display="none"};o.addEventListener("mouseleave",i)}else o.style.display="none";e.setMenusMaxHeight()},e.createSubtitles=()=>{const o=document.createElement("div");o.className="fluid_subtitles_container",e.domRef.player.parentNode.insertBefore(o,e.domRef.player.nextSibling),e.displayOptions.layoutControls.subtitlesEnabled&&_o(()=>import("./browser-index-C4eAjEf0.js").then(i=>i.b),[]).then(i=>{window.WebVTT=i.WebVTT||i.default.WebVTT,e.createSubtitlesSwitch()})},e.resizeSubtitles=o=>{const i=e.domRef.wrapper.querySelector(".fluid_subtitles_container"),s=o/100;i.style.fontSize=`${s}em`},e.adjustSubtitleSizeByOperation=o=>{if(o==="+"&&e.currentSubtitleSizeIndex<e.subtitleSizeLevels.length-1)e.currentSubtitleSizeIndex++;else if(o==="-"&&e.currentSubtitleSizeIndex>0)e.currentSubtitleSizeIndex--;else return;const i=e.subtitleSizeLevels[e.currentSubtitleSizeIndex];e.resizeSubtitles(i),e.updateSubtitleSizeMenuSelection()},e.updateSubtitleSizeMenuSelection=()=>{const o=e.domRef.wrapper.querySelector(".fluid_subtitle_size_menu");if(!o)return;const i=o.querySelectorAll(".subtitle_button_icon");for(let a=0;a<i.length;a++)i[a].className=i[a].className.replace("subtitle_size_selected","");const s=Array.from(o.querySelectorAll(".fluid_subtitle_size_button")).filter(a=>!a.classList.contains("fluid_sub_menu_button"));if(s[e.currentSubtitleSizeIndex]){const a=s[e.currentSubtitleSizeIndex].querySelector(".subtitle_button_icon");a&&(a.className+=" subtitle_size_selected")}},e.createSubtitleSizeButton=()=>{const o=document.createElement("div");return o.className="fluid_subtitle_list_item fluid_sub_menu_button arrow-right",o.innerHTML="Font Size",o.addEventListener("click",i=>{i.stopPropagation(),e.toggleSubtitleSizeMenu(),e.openCloseSubtitlesSwitch()}),o},e.createSubtitleSizeMenu=()=>{const o=document.createElement("div");o.className="fluid_subtitle_size_menu";const i=e.createBackButtonForSubtitleSizeMenu();return o.appendChild(i),e.subtitleSizeLevels.forEach((s,a)=>{const l=document.createElement("div");l.className="fluid_subtitle_size_button";const u=s===100;l.innerHTML='<span class="subtitle_button_icon '+(u?"subtitle_size_selected":"")+'"></span>'+s+"%",l.addEventListener("click",c=>{c.stopPropagation(),e.toggleSubtitleSizeMenu(),e.resizeSubtitles(s),e.currentSubtitleSizeIndex=a,e.updateSubtitleSizeMenuSelection()}),o.appendChild(l)}),o},e.createBackButtonForSubtitleSizeMenu=()=>{const o=document.createElement("div");return o.className="fluid_subtitle_size_button fluid_sub_menu_button arrow-left",o.innerHTML="Font Size",o.addEventListener("click",i=>{i.stopPropagation(),e.toggleSubtitleSizeMenu(),e.openCloseSubtitlesSwitch()}),o},e.toggleSubtitleSizeMenu=()=>{const o=e.domRef.wrapper.querySelector(".fluid_subtitle_size_menu"),i=function(s){o.removeEventListener("mouseleave",i),o.style.display="none"};o.style.display==="block"?(o.style.display="none",o.removeEventListener("mouseleave",i)):(o.style.display="block",o.addEventListener("mouseleave",i)),e.setMenusMaxHeight()},e.setMenusMaxHeight=()=>{const o=e.domRef.wrapper.offsetHeight,i=e.domRef.wrapper.querySelector(".fluid_controls_container").offsetHeight,s=o-i,a=e.domRef.wrapper.querySelector(".fluid_subtitle_size_menu"),l=e.domRef.wrapper.querySelector(".fluid_subtitles_list");a.style.maxHeight=`${s}px`,l.style.maxHeight=`${s}px`},e.repositionSubtitlesContainer=o=>{const i=e.domRef.wrapper.querySelector(".fluid_subtitles_container");i.style.bottom=o}}function fD(e,t){e.setupThumbnailPreviewVtt=()=>{e.sendRequest(e.displayOptions.layoutControls.timelinePreview.file,!1,e.displayOptions.vastOptions.vastTimeout,function(){const r=function(a){if(!(typeof a.cues<"u"&&a.cues.length))return[];const l=[];let u=null,c=null;for(let d=0;d<a.cues.length;d++){u=a.cues[d].text.split("#");let h=0,p=0,w=122.5,m=69;u.length===2&&u[1].indexOf("xywh=")===0&&(c=u[1].substring(5),c=c.split(","),c.length===4&&(e.displayOptions.layoutControls.timelinePreview.spriteImage=!0,h=parseInt(c[0]),p=parseInt(c[1]),w=parseInt(c[2]),m=parseInt(c[3])));let _;e.displayOptions.layoutControls.timelinePreview.spriteRelativePath&&e.displayOptions.layoutControls.timelinePreview.file.indexOf("/")!==-1&&(typeof e.displayOptions.layoutControls.timelinePreview.sprite>"u"||e.displayOptions.layoutControls.timelinePreview.sprite==="")?(_=e.displayOptions.layoutControls.timelinePreview.file.substring(0,e.displayOptions.layoutControls.timelinePreview.file.lastIndexOf("/")),_+="/"+u[0]):_=e.displayOptions.layoutControls.timelinePreview.sprite?e.displayOptions.layoutControls.timelinePreview.sprite:u[0],l.push({startTime:a.cues[d].startTime,endTime:a.cues[d].endTime,image:_,x:h,y:p,w,h:m})}return l},n=this;if(n.readyState===4&&n.status!==200||!(n.readyState===4&&n.status===200))return;const o=n.responseText,s=new window.WebVTTParser().parse(o);e.timelinePreviewData=r(s)})},e.generateTimelinePreviewTags=()=>{const r=e.domRef.wrapper.querySelector(".fluid_controls_progress_container"),n=document.createElement("div");n.className="fluid_timeline_preview_container",n.style.display="none",n.style.position="absolute",r.appendChild(n);const o=document.createElement("div");o.className="fluid_timeline_preview_container_shadow",o.style.position="absolute",o.style.display="none",o.style.opacity=1,r.appendChild(o)},e.getThumbnailCoordinates=r=>{if(e.timelinePreviewData.length){for(let n=0;n<e.timelinePreviewData.length;n++)if(r>=e.timelinePreviewData[n].startTime&&r<=e.timelinePreviewData[n].endTime)return e.timelinePreviewData[n]}return!1},e.drawTimelinePreview=r=>{const n=e.domRef.wrapper.querySelector(".fluid_timeline_preview_container"),o=e.domRef.wrapper.querySelector(".fluid_timeline_preview_container_shadow"),i=e.domRef.wrapper.querySelector(".fluid_controls_progress_container"),s=i.clientWidth;if(e.isCurrentlyPlayingAd){n.style.display!=="none"&&(n.style.display="none");return}const a=e.getEventOffsetX(r,i);let l=null;if(s){l=e.currentVideoDuration*a/s;const u=e.getThumbnailCoordinates(l);o.style.width=s+"px",o.style.display="block",u!==!1?(n.style.width=u.w+"px",n.style.height=u.h+"px",o.style.height=u.h+"px",n.style.background="url("+u.image+") no-repeat scroll -"+u.x+"px -"+u.y+"px",n.style.left=a-u.w/2+"px",n.style.display="block",e.displayOptions.layoutControls.timelinePreview.spriteImage||(n.style.backgroundSize="contain")):n.style.display="none"}},e.setupThumbnailPreview=()=>{let r=e.displayOptions.layoutControls.timelinePreview;if(!r||!r.type)return;let n="mousemove",o="mouseleave";if(e.mobileInfo.userOs&&(n="touchmove",o="touchend"),e.domRef.wrapper.querySelector(".fluid_controls_progress_container").addEventListener(n,e.drawTimelinePreview.bind(e),!1),e.domRef.wrapper.querySelector(".fluid_controls_progress_container").addEventListener(o,function(i){const s=e.domRef.wrapper.querySelector(".fluid_controls_progress_container");typeof i.clientX<"u"&&s.contains(document.elementFromPoint(i.clientX,i.clientY))||(e.domRef.wrapper.querySelector(".fluid_timeline_preview_container").style.display="none",e.domRef.wrapper.querySelector(".fluid_timeline_preview_container_shadow").style.display="none")},!1),e.generateTimelinePreviewTags(),r.type==="VTT"&&typeof r.file=="string")_o(()=>import("./webvtt-BdD5S0-K.js"),[]).then(i=>{window.WebVTTParser=i.default,e.setupThumbnailPreviewVtt()});else if(r.type==="static"&&typeof r.frames=="object")r.spriteImage=!0,e.timelinePreviewData=r.frames;else throw"Invalid thumbnail-preview - type must be VTT or static";e.showTimeOnHover=!1}}function hD(e,t){const r="2.0",{muteEvent:n,unmuteEvent:o,pauseEvent:i,resumeEvent:s,rewindEvent:a,fullscreenEvent:l,skipEvent:u,playerExpandEvent:c,playerCollapseEvent:d,impressionEvent:h,viewImpressionEvent:p,startEvent:w,firstQuartileEvent:m,midpointEvent:_,thirdQuartileEvent:v,completeEvent:g,progressEvent:b,creativeViewEvent:S,collapseEvent:T,adCollapseEvent:A,closeEvent:O,acceptInvitationEvent:V}=cp;e.renderLinearAd=(x,C)=>{e.toggleLoader(!1),e.hideLiveIndicator(),e.isLiveStream=null,e.vastOptions=x,C&&e.backupMainVideoContentTime(x.rollListId);const N=E=>{e.switchPlayerToVpaidMode=L=>{e.debugMessage("starting function switchPlayerToVpaidMode");const B="fp_"+L.id+"_fluid_vpaid_iframe",M={};M.AdParameters=L.adParameters;const R=document.createElement("div");R.className="fluid_vpaid_slot",R.setAttribute("adListId",L.id),e.domRef.player.parentNode.insertBefore(R,B.nextSibling);const D={slot:R,videoSlot:e.domRef.player,videoSlotCanAutoPlay:!0},H=e.vpaidAdUnit.handshakeVersion(r);if(e.compareVersion(r,H)===1)return L.error=!0,e.playMainVideoWhenVpaidFails(403),!1;e.vastOptions.skipoffset!==!1&&e.addSkipButton(),e.domRef.player.loop=!1,e.domRef.player.removeAttribute("controls"),e.vpaidCallbackListenersAttach();const W=e.fullscreenMode?We.FULLSCREEN:We.NORMAL,I=e.domRef.player.offsetWidth,G=e.domRef.player.offsetHeight;e.vpaidAdUnit.initAd(I,G,W,3e3,M,D);const J=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_currentprogress");for(let U=0;U<J.length;U++)J[U].style.backgroundColor=e.displayOptions.layoutControls.adProgressColor;e.toggleLoader(!1),L.played=!0,e.adFinished=!1},e.switchPlayerToVastMode=()=>{if(e.vastOptions.duration||(e.vastOptions.duration=k.delivery==="streaming"?1/0:e.domRef.player.duration),e.displayOptions.layoutControls.showCardBoardView)E.landingPage?e.addCTAButton(E.landingPage):e.addCTAButton(E.clickthroughUrl);else{let B=[void 0,!0].includes(e.displayOptions.vastOptions.adClickable);e.rollsById[E.rollListId].adClickable!==void 0&&(B=e.rollsById[E.rollListId].adClickable),B&&e.addClickthroughLayer(),e.addCTAButton(E.landingPage)}e.vastOptions.skipoffset!==!1&&e.addSkipButton(),e.domRef.player.loop=!1,e.addAdCountdown(),e.domRef.player.removeAttribute("controls"),e.vastLogoBehaviour(!0);const L=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_currentprogress");for(let B=0;B<L.length;B++)L[B].style.backgroundColor=e.displayOptions.layoutControls.adProgressColor;if(e.rollsById[E.rollListId].adText||E.adText){const B=E.adText?E.adText:e.rollsById[E.rollListId].adText;e.addAdPlayingText(B)}if(e.positionTextElements(E),e.toggleLoader(!1),E.played=!0,e.adFinished=!1,e.domRef.player.play(),e.trackSingleEvent(h),e.domRef.player.removeEventListener("loadedmetadata",e.switchPlayerToVastMode),e.vrMode){const B=e.domRef.wrapper.querySelector(".ad_countdown"),M=e.domRef.wrapper.querySelector(".fluid_ad_cta"),R=e.domRef.wrapper.querySelector(".fluid_ad_playing"),D=e.domRef.wrapper.querySelector(".skip_button");B&&(B.style.display="none"),M&&(M.style.display="none"),R&&(R.style.display="none"),D&&(D.style.display="none")}},e.domRef.player.pause(),e.detachStreamers();const k=e.getSupportedMediaFileObject(e.vastOptions.mediaFileList);if(e.displayOptions.layoutControls.showCardBoardView&&E.mediaType!=="360")return E.error=!0,e.playMainVideoWhenVastFails(403),!1;const P=e.vastOptions.vpaid;if(!P&&k.isUnsuportedHls)_o(()=>import("./hls-ywO_6aio.js"),[]).then(L=>{window.Hls=L.default;const B=new Hls({debug:typeof FP_DEBUG<"u"&&FP_DEBUG===!0,startPosition:0,p2pConfig:{logLevel:!1},enableWebVTT:!1,enableCEA708Captions:!1});B.attachMedia(e.domRef.player),B.loadSource(k.src),e.isCurrentlyPlayingAd=!0,B.once(Hls.Events.LEVEL_LOADED,function(M,R){e.isLiveStream=!!R.details.live,R.details.live?e.showLiveIndicator():e.hideLiveIndicator()}),e.hlsPlayer=B,e.domRef.player.addEventListener("loadedmetadata",e.switchPlayerToVastMode),e.domRef.player.addEventListener("ended",()=>{B.detachMedia(),B.destroy(),e.hlsPlayer=!1,e.onVastAdEnded()}),e.domRef.player.play()});else if(P)e.loadVpaid(E,k.src),e.displayOptions.vastOptions.showProgressbarMarkers&&e.hideAdMarkers();else{if(k.src===!1)return E.error=!0,e.playMainVideoWhenVastFails(403),!1;e.domRef.player.addEventListener("loadedmetadata",e.switchPlayerToVastMode),e.domRef.player.src=k.src,e.isCurrentlyPlayingAd=!0,e.displayOptions.vastOptions.showProgressbarMarkers&&e.hideAdMarkers(),e.domRef.player.load(),e.domRef.player.addEventListener("ended",e.onVastAdEnded)}},j=()=>{if(e.adFinished){e.domRef.player.removeEventListener("timeupdate",j);return}const E=Math.floor(e.domRef.player.currentTime);e.vastOptions.duration!==0&&e.scheduleTrackingEvent(E,e.vastOptions.duration),E>=e.vastOptions.duration-1&&e.vastOptions.duration!==0&&(e.domRef.player.removeEventListener("timeupdate",j),e.adFinished=!0)};N(x),e.domRef.player.addEventListener("timeupdate",j)},e.playRoll=x=>{const C=[];for(let E=0;E<x.length;E++)C.push(x[E]);if(e.temporaryAdPods=C,e.vastOptions!==null&&e.vastOptions.adType.toLowerCase()==="linear")return;const N=e.getNextAdPod();N!==null&&e.renderLinearAd(N,!0);const j=e.rollsById[N.rollListId].roll;e.currentMediaSourceType=j},e.backupMainVideoContentTime=x=>{switch(e.rollsById[x].roll){case"midRoll":e.domRef.player.mainVideoCurrentTime=e.domRef.player.currentTime-1;break;case"postRoll":e.domRef.player.mainVideoCurrentTime=e.mainVideoDuration,e.autoplayAfterAd=!1,e.domRef.player.currentTime=e.mainVideoDuration;break;case"preRoll":if(e.domRef.player.currentTime>0||e.domRef.player.safariPlayheadPosition){const N=e.domRef.player.safariPlayheadPosition??e.domRef.player.currentTime;e.domRef.player.mainVideoCurrentTime=N-1}break}},e.getSupportedMediaFileObject=x=>{let C=null,N=!1;if(x.length)for(let j=0;j<x.length;j++)if(x[j].apiFramework!=="VPAID"){const E=e.getMediaFileTypeSupportLevel(x[j].type);if((E==="maybe"||E==="probably")&&(C=x[j],N=!0),E==="probably")break;E==="no"&&x[j].delivery==="streaming"&&(x[j].type==="application/vnd.apple.mpegurl"||x[j].type==="application/x-mpegURL")&&(C=x[j],C.isUnsuportedHls=!0,N=!0)}else{C=x[j],N=!0;break}return N===!1?!1:C},e.getMediaFileTypeSupportLevel=x=>{if(x===null)return null;let N=document.createElement("video").canPlayType(x);return N||"no"},e.scheduleTrackingEvent=(x,C)=>{x===0&&(e.trackSingleEvent(w),e.observe(),e.domRef.player.timeInView=0),e.domRef.player.inView&&(e.domRef.player.timeInView>2?e.trackSingleEvent(p):e.domRef.player.timeInView+=x),typeof e.vastOptions.tracking.progress<"u"&&e.vastOptions.tracking.progress.length&&typeof e.vastOptions.tracking.progress[x]<"u"&&e.trackSingleEvent(b,x),typeof e.vastOptions.tracking.creativeView<"u"&&e.vastOptions.tracking.creativeView.length&&typeof e.vastOptions.tracking.creativeView[x]<"u"&&e.trackSingleEvent(S,x),x===Math.floor(C/4)&&e.trackSingleEvent(m),x===Math.floor(C/2)&&e.trackSingleEvent(_),x===Math.floor(C*3/4)&&e.trackSingleEvent(v),x>=C-1&&e.trackSingleEvent(g)},e.trackSingleEvent=(x,C)=>{var j,E;if(typeof e.vastOptions>"u"||e.vastOptions===null)return;let N=[];switch(N.length=0,x){case w:case m:case _:case v:case g:case O:case u:case V:e.vastOptions.stopTracking[x]===!1&&(e.vastOptions.tracking[x]!==null&&(N=e.vastOptions.tracking[x]),e.vastOptions.stopTracking[x]=!0);break;case b:e.vastOptions.tracking.progress[C].elements.forEach(function(k,P){e.vastOptions.tracking.progress[C].stopTracking===!1&&e.vastOptions.tracking.progress[C].elements.length&&(N=e.vastOptions.tracking.progress[C].elements),e.vastOptions.tracking.progress[C].stopTracking=!0});break;case S:if(!e.vastOptions.tracking.creativeView||!e.vastOptions.tracking.creativeView[C]||((j=e.vastOptions.tracking.creativeView[C])==null?void 0:j.stopTracking)===!0)break;(E=e.vastOptions.tracking.creativeView[C])!=null&&E.elements.length&&(N=e.vastOptions.tracking.creativeView[C].elements),e.vastOptions.tracking.creativeView[C].stopTracking=!0;break;case h:typeof e.vastOptions.impression<"u"&&e.vastOptions.impression!==null&&typeof e.vastOptions.impression.length<"u"&&(N=e.vastOptions.impression);break;case p:if(e.vastOptions.stopTracking.viewImpression===!0)break;typeof e.vastOptions.viewImpression<"u"&&e.vastOptions.viewImpression!==null&&typeof e.vastOptions.viewImpression.length<"u"&&(N=e.vastOptions.viewImpression,e.vastOptions.stopTracking.viewImpression=!0);break;case n:case o:case i:case s:case a:case l:case c:case d:case T:case A:e.vastOptions.tracking[x]&&(N=e.vastOptions.tracking[x]);break}e.callUris(N)},e.completeNonLinearStatic=x=>{e.closeNonLinear(x.id),e.adFinished===!1&&(e.adFinished=!0,e.isCurrentlyShowingNonLinearAd=!1,e.trackSingleEvent(g)),clearInterval(e.nonLinearTracking)},e.createNonLinearStatic=x=>{if(e.vastOptions=x,e.createBoard(x),e.rollsById[x.rollListId].error===!0||x.error===!0){e.announceLocalError(101);return}e.adFinished=!1,e.isCurrentlyShowingNonLinearAd=!0;let C=e.rollsById[x.rollListId].nonLinearDuration?e.rollsById[x.rollListId].nonLinearDuration:!1;e.vastOptions.vpaid||(e.trackSingleEvent(w),e.trackSingleEvent(S,0),C=C||e.vastOptions.duration,e.nonLinearTracking=setInterval(function(){if(e.adFinished===!0)return;const j=Math.floor(e.domRef.player.currentTime);e.scheduleTrackingEvent(j,C),j>=C-1&&(e.adFinished=!0,e.isCurrentlyShowingNonLinearAd=!1)},400),e.destructors.push(()=>clearInterval(e.nonLinearTracking)));const N=parseInt(e.getCurrentTime())+parseInt(C);e.scheduleTask({time:N,closeStaticAd:x,rollListId:x.rollListId})},e.createVpaidNonLinearBoard=x=>{e.loadVpaidNonlinearAssets=function(C){e.vastOptions=C,e.debugMessage("starting function switchPlayerToVpaidMode");const N=C.vAlign?C.vAlign:e.nonLinearVerticalAlign,j=C.vpaidNonLinearCloseButton?C.vpaidNonLinearCloseButton:e.vpaidNonLinearCloseButton,E="fp_"+C.id+"_fluid_vpaid_iframe",k={};k.AdParameters=C.adParameters;const P=document.createElement("div");P.id="fluid_vpaidNonLinear_"+C.id,P.className="fluid_vpaidNonLinear_"+N,P.className+=" fluid_vpaidNonLinear_ad",P.setAttribute("adListId",C.id);let L=Math.min(468,e.domRef.player.offsetWidth),B=Math.min(60,Math.floor(e.domRef.player.offsetHeight/4));if(typeof C.size<"u"){const G=C.size.split("x");L=G[0],B=G[1]}else C.dimension.width&&C.dimension.height&&(L=C.dimension.width,B=C.dimension.height);P.style.width="100%",P.style.height=B+"px";let M;if(j){const G=document.createElement("div");G.className="fluid_vpaidNonLinear_frame",G.style.width=L+"px",G.style.height=B+"px",P.appendChild(G);const J=document.createElement("div");J.className="close_button",J.innerHTML="",J.title=e.displayOptions.layoutControls.closeButtonCaption;const[U]=C.id.split("_");J.onclick=function(Z){if(e.hardStopVpaidAd(""),e.trackCloseNonLinearAd(),typeof Z.stopImmediatePropagation<"u"&&Z.stopImmediatePropagation(),e.adFinished=!0,e.rollsById[U].roll==="onPauseRoll"&&e.onPauseRollAdPods[0]){const ie=e.onPauseRollAdPods[0];e.createBoard(ie),e.currentOnPauseRollAd=e.onPauseRollAdPods[0],delete e.onPauseRollAdPods[0]}return!1},G.appendChild(J)}const R=document.createElement("iframe");R.id=e.videoPlayerId+"non_linear_vapid_slot_iframe",R.className="fluid_vpaid_nonlinear_slot_iframe",R.setAttribute("width",L+"px"),R.setAttribute("height",B+"px"),R.setAttribute("sandbox","allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"),R.setAttribute("frameborder","0"),R.setAttribute("scrolling","no"),R.setAttribute("marginwidth","0"),R.setAttribute("marginheight","0"),P.appendChild(R),e.domRef.player.parentNode.insertBefore(P,E.nextSibling);const D=R.contentWindow.document.createElement("div");R.contentWindow.document.body.appendChild(D),e.vastOptions.slotIframe=R,e.vastOptions.slotFrame=M;const H={slot:D,videoSlot:e.domRef.player,videoSlotCanAutoPlay:!0};e.debugMessage(C);const F=e.vpaidAdUnit.handshakeVersion(r);if(e.compareVersion(r,F)===1)return C.error=!0,e.playMainVideoWhenVpaidFails(403),!1;e.domRef.player.loop=!1,e.domRef.player.removeAttribute("controls"),e.vpaidCallbackListenersAttach();const I=e.fullscreenMode?We.FULLSCREEN:We.NORMAL;e.vpaidAdUnit.initAd(L,B,I,3e3,k,H),e.toggleLoader(!1),C.played=!0,e.adFinished=!1},e.loadVpaid(x,x.staticResource),e.debugMessage("create non linear vpaid")},e.createNonLinearBoard=x=>{x.played=!0;const C=document.createElement("div"),N=e.rollsById[x.rollListId].vAlign?e.rollsById[x.rollListId].vAlign:e.nonLinearVerticalAlign,j=new Image;j.src=x.staticResource,j.id="fluid_nonLinear_imgCreative_"+x.id+"_"+e.videoPlayerId,j.onerror=function(){e.rollsById[x.rollListId].error=!0,e.announceError(500)},j.onload=function(){const P=e.domRef.player.clientWidth;let L,B,M,R;if(typeof e.rollsById[x.rollListId].size<"u"?(L=e.rollsById[x.rollListId].size.split("x")[0],B=e.rollsById[x.rollListId].size.split("x")[1]):x.dimension.width&&x.dimension.height?(L=x.dimension.width,B=x.dimension.height):(L=j.width,B=j.height),L>P?(M=P-5,R=B*M/L):(M=L,R=B),e.rollsById[x.rollListId].roll!=="onPauseRoll"){const H=e.domRef.wrapper.querySelector("#fluid_nonLinear_"+x.id);H&&(H.style.display="")}const D=e.domRef.wrapper.querySelector("#"+j.id);D.width=M,D.height=R,e.trackSingleEvent(h)},C.id="fluid_nonLinear_"+x.id,C.className="fluid_nonLinear_"+N,C.className+=" fluid_nonLinear_ad",C.innerHTML=j.outerHTML,C.style.display="none",C.onclick=function(){typeof x.clickthroughUrl<"u"&&window.open(x.clickthroughUrl),typeof x.clicktracking<"u"&&e.callUris([x.clicktracking])},typeof x.clickthroughUrl<"u"&&(C.style.cursor="pointer");const E=document.createElement("div");E.className="close_button",E.innerHTML="",E.title=e.displayOptions.layoutControls.closeButtonCaption;const k=x.rollListId;E.onclick=function(P){if(e.trackCloseNonLinearAd(),this.parentElement.remove(),typeof P.stopImmediatePropagation<"u"&&P.stopImmediatePropagation(),e.adFinished=!0,e.isCurrentlyShowingNonLinearAd=!1,clearInterval(e.nonLinearTracking),e.rollsById[k].roll==="onPauseRoll"&&e.onPauseRollAdPods[0]){const L=e.onPauseRollAdPods[0];e.createBoard(L),e.currentOnPauseRollAd=e.onPauseRollAdPods[0],delete e.onPauseRollAdPods[0]}return!1},C.appendChild(E),e.domRef.player.parentNode.insertBefore(C,e.domRef.player.nextSibling)},e.createBoard=x=>{if(x.vpaid)e.hardStopVpaidAd(""),e.createVpaidNonLinearBoard(x);else{if(typeof x.staticResource>"u"||e.supportedStaticTypes.indexOf(x.creativeType)===-1){x.error=!0,!e.vastOptions||typeof e.vastOptions.errorUrl>"u"?e.announceLocalError(503):e.announceError(503);return}e.createNonLinearBoard(x)}},e.closeNonLinear=x=>{const C=e.domRef.wrapper.querySelector("#fluid_nonLinear_"+x+", #fluid_vpaidNonLinear_"+x);C&&(C.remove(),e.isCurrentlyShowingNonLinearAd=!1)},e.rollGroupContainsLinear=x=>{let C=!1;for(let N=0;N<x.length;N++)if(e.rollsById[x[N].id].adType&&e.rollsById[x[N].id].adType==="linear"){C=!0;break}return C},e.rollGroupContainsNonlinear=x=>{let C=!1;for(let N=0;N<x.length;N++)if(e.rollsById[x[N].id].adType.toLowerCase()==="nonlinear"){C=!0;break}return C},e.preRollFail=()=>{const x=e.preRollAdPodsLength;e.preRollVastResolved++,e.preRollVastResolved===x&&e.preRollAdsPlay()},e.preRollSuccess=()=>{const x=e.preRollAdPodsLength;e.preRollVastResolved++,e.preRollVastResolved===x&&e.preRollAdsPlay()},e.preRollAdsPlay=()=>{const C=e.preRollAdPods,N={linear:[],nonLinear:[]};e.firstPlayLaunched=!0;for(let j=0;j<C.length;j++)e.rollsById[C[j]].ads.forEach(E=>{E.played!==!0&&(E.adType==="linear"&&N.linear.push(E),E.adType==="nonLinear"&&(N.nonLinear.push(E),e.scheduleTask({time:0,playRoll:"midRoll",rollListId:E.rollListId})))});N.linear.length>0?(e.toggleLoader(!1),e.playRoll(N.linear)):e.playMainVideoWhenVastFails(900)},e.preRoll=x=>{const C=x.vastObj;e.domRef.player.removeEventListener(x.type,e.preRoll);const N=[];N[0]=x.type.replace("adId_",""),e.rollsById[N[0]].played!==!0&&(e.preRollAdPods.push(N[0]),e.preRollSuccess(C))},e.createAdMarker=(x,C)=>{const N=e.domRef.wrapper.querySelector(".fluid_controls_ad_markers_holder"),j=document.createElement("div");j.className="fluid_controls_ad_marker fluid_controls_ad_marker_"+x,j.dataset.adListId=x,j.style.left=C/e.mainVideoDuration*100+"%",e.isCurrentlyPlayingAd&&(j.style.display="none"),N.appendChild(j)},e.hideAdMarker=x=>{const C=e.domRef.wrapper.querySelector("fluid_controls_ad_marker_"+x);C&&(C.style.display="none")},e.showAdMarkers=()=>{const C=e.domRef.wrapper.querySelector(".fluid_controls_ad_markers_holder").getElementsByClassName("fluid_controls_ad_marker");for(let N=0;N<C.length;++N){const j=C[N],E=j.dataset.adListId;e.rollsById[E].played===!1&&(j.style.display="")}},e.hideAdMarkers=()=>{const C=e.domRef.wrapper.querySelector(".fluid_controls_ad_markers_holder").getElementsByClassName("fluid_controls_ad_marker");for(let N=0;N<C.length;++N){const j=C[N];j.style.display="none"}},e.midRoll=x=>{e.domRef.player.removeEventListener(x.type,e.midRoll);const C=x.type.replace("adId_","");if(e.rollsById[C].played===!0)return;let N=e.rollsById[C].timer;typeof N=="string"&&N.indexOf("%")!==-1&&(N=N.replace("%",""),N=Math.floor(e.mainVideoDuration/100*N)),e.displayOptions.vastOptions.showProgressbarMarkers&&e.rollsById[C].adType==="nonLinear"&&e.createAdMarker(C,N),e.scheduleTask({time:N,playRoll:"midRoll",rollListId:C})},e.postRoll=x=>{e.domRef.player.removeEventListener(x.type,e.postRoll);const C=x.type.replace("adId_","");e.scheduleTask({time:Math.floor(e.mainVideoDuration),playRoll:"postRoll",rollListId:C})},e.onPauseRoll=x=>{e.domRef.player.removeEventListener(x.type,e.onPauseRoll);const C=x.type.replace("adId_","");e.rollsById[C].ads.forEach(N=>{if(N.adType==="nonLinear"){if(e.rollsById[N.rollListId].error===!0||N.error===!0){e.announceLocalError(101);return}if(e.domRef.wrapper.getElementsByClassName("fluid_nonLinear_ad")[0])e.onPauseRollAdPods.push(C);else{e.createBoard(N),e.currentOnPauseRollAd=C;let E="";for(const k of e.domRef.wrapper.children)k.id==="fluid_nonLinear_"+C&&(E=k);E&&(E.style.display="none")}}})},e.hasValidOnPauseAd=()=>{const x=e.findRoll("onPauseRoll");return x.length!==0&&e.rollsById[x[0]]&&e.rollsById[x[0]].error===!1&&e.rollsById[x[0]].ads.length&&e.rollsById[x[0]].ads[0].error!==!0},e.toggleOnPauseAd=()=>{if(e.toggleLoader(!1),e.hasValidOnPauseAd()&&!e.isCurrentlyPlayingAd){const x=e.findRoll("onPauseRoll"),C=e.rollsById[x].ads[0];e.vastOptions=C;let N="";for(const j of e.domRef.wrapper.children)j.id==="fluid_nonLinear_"+C.id&&(N=j);N&&e.domRef.player.paused?setTimeout(function(){N.style.display="flex",C.played=!1,e.trackingOnPauseNonLinearAd(C,w)},500):N&&!e.domRef.player.paused&&(N.style.display="none",e.adFinished=!0,e.trackingOnPauseNonLinearAd(C,g))}},e.trackingOnPauseNonLinearAd=(x,C)=>{if(e.rollsById[x.rollListId].error===!0||x.error===!0){e.announceLocalError(101);return}e.vastOptions=x,e.trackSingleEvent(C)},e.getLinearAdsFromKeyTime=x=>{const C=[];for(let N=0;N<x.length;N++)e.rollsById[x[N].adListId].played===!1&&C.push(x[N].adListId);return C},e.adKeytimePlay=x=>{if(!e.timerPool[x]||e.isCurrentlyPlayingAd)return;const C=e.timerPool[x].closeStaticAd.length,N=e.timerPool[x].linear.length,j=e.timerPool[x].nonLinear.length,E=e.timerPool[x].loadVast.length;if([C,N,j,E].every(k=>k===0)){delete e.timerPool[x];return}if(C>0){for(let k=0;k<C;k++){const P=e.timerPool[x].closeStaticAd[k];P.played===!0&&e.completeNonLinearStatic(P)}e.timerPool[x].closeStaticAd=[]}if(N>0&&e.timerPool[x].linear.length>0){e.playRoll(e.timerPool[x].linear),e.timerPool[x].linear=[];return}if(j>0)for(let k=0;k<j;k++){const P=e.timerPool[x].nonLinear[k],L=P.rollListId;if(e.adPool[L],P.played===!1&&!e.displayOptions.layoutControls.showCardBoardView){e.createNonLinearStatic(P),e.displayOptions.vastOptions.showProgressbarMarkers&&e.hideAdMarker(L),e.timerPool[x].nonLinear.splice(k,1);return}}E>0&&(e.timerPool[x].loadVast.forEach(k=>{k.roll==="postRoll"&&k.voidPostRollTasks||(k.roll==="postRoll"&&(k.voidPostRollTasks=!0),e.debugMessage(`Handling on-demand VAST load for roll ${k.id}`),e.processVastWithRetries(k))}),e.timerPool[x].loadVast=[])},e.adTimer=()=>{e.isTimer||(e.isTimer=!e.isTimer,e.timer=setInterval(function(){const x=Math.floor(e.getCurrentTime());e.adKeytimePlay(x)},800),e.destructors.push(()=>e.timer))},e.scheduleTask=x=>{if(x.time>e.mainVideoDuration||x.time<0||Number.isNaN(x.time)){console.warn("Scheduled task has invalid time",x.time,". Check your configuration.");return}e.debugMessage("Scheduling task",x),e.timerPool.hasOwnProperty(x.time)||(e.timerPool[x.time]={linear:[],nonLinear:[],closeStaticAd:[],loadVast:[]}),x.rollListId&&e.rollsById[x.rollListId].ads.filter(({adType:N})=>x.time===0?N!=="linear":!0).forEach(N=>{x.hasOwnProperty("playRoll")&&N.adType==="linear"?e.timerPool[x.time].linear.push(N):x.hasOwnProperty("playRoll")&&N.adType==="nonLinear"?e.timerPool[x.time].nonLinear.push(N):x.hasOwnProperty("closeStaticAd")&&e.timerPool[x.time].closeStaticAd.push(N)}),x.loadVast&&e.timerPool[x.time].loadVast.push(x.roll)},e.scheduleOnDemandRolls=()=>{const x=e.findRoll("midRoll")||[],C=e.findRoll("postRoll")||[];[...x,...C].map(N=>e.rollsById[N]).filter(N=>N.vastLoaded!==!0&&N.error!==!0).forEach(N=>{if(N.roll==="midRoll"){typeof N.timer=="string"&&(N.timer=Math.floor(e.mainVideoDuration/100*N.timer.replace("%","")),e.debugMessage(`Replaced midRoll from percentage to timer value ${N.timer} seconds`));const j=N.timer-e.displayOptions.vastOptions.vastTimeout/1e3;j<=Number(e.getCurrentTime())?(e.debugMessage("Loading Mid Roll VAST immediately as it needs to be played soon"),e.processVastWithRetries(N)):e.scheduleTask({loadVast:!0,time:j,roll:N})}else{const j=parseInt(e.mainVideoDuration),E=e.displayOptions.vastOptions.vastTimeout/1e3;N.voidPostRollTasks=!1;for(let k=1;k<=E;k++)e.scheduleTask({loadVast:!0,time:j-k,roll:N})}})},e.switchToMainVideo=()=>{e.debugMessage("starting main video"),e.hideLiveIndicator(),e.isLiveStream=null,e.domRef.player.src=e.originalSrc,e.currentMediaSourceType="source",e.initialiseStreamers(),e.hlsPlayer&&!e.hlsPlayer.config.autoStartLoad&&e.hlsPlayer.startLoad();const x=typeof e.domRef.player.mainVideoCurrentTime<"u"?Math.floor(e.domRef.player.mainVideoCurrentTime):0;if(e.domRef.player.hasOwnProperty("currentTime")&&(e.domRef.player.currentTime=x),e.displayOptions.layoutControls.loop&&(e.domRef.player.loop=!0),e.setCurrentTimeAndPlay(x,e.autoplayAfterAd),e.isCurrentlyPlayingAd=!1,e.deleteVastAdElements(),e.adFinished=!0,e.displayOptions.vastOptions.vastAdvanced.vastVideoEndedCallback(),e.vastOptions=null,e.setBuffering(),e.domRef.wrapper.querySelector(".fluid_controls_progress_container")!==null){const N=e.displayOptions.layoutControls.primaryColor?e.displayOptions.layoutControls.primaryColor:"white",j=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_currentprogress");for(let E=0;E<j.length;E++)j[E].style.backgroundColor=N}if(e.domRef.player.removeEventListener("ended",e.onVastAdEnded),e.displayOptions.vastOptions.showProgressbarMarkers&&e.showAdMarkers(),e.hasTitle()){const N=e.domRef.wrapper.querySelector(".fp_title");N.style.display="inline"}},e.getNextAdPod=()=>e.temporaryAdPods.length>0?e.temporaryAdPods.shift():null,e.checkForNextAd=()=>{const x=e.getNextAdPod();x===null?(e.switchToMainVideo(),e.vastOptions=null,e.adFinished=!0):(e.domRef.player.removeEventListener("ended",e.onVastAdEnded),e.isCurrentlyPlayingAd=!1,e.vastOptions=null,e.adFinished=!0,e.renderLinearAd(x,!1))},e.addSkipButton=()=>{const x=document.createElement("div");x.className="skip_button skip_button_disabled",e.vastOptions.skipoffset>0&&(x.innerHTML=e.displayOptions.vastOptions.skipButtonCaption.replace("[seconds]",e.vastOptions.skipoffset)),e.domRef.wrapper.appendChild(x),e.vastOptions.skipoffset===0&&e.decreaseSkipOffset(),e.domRef.player.addEventListener("timeupdate",e.decreaseSkipOffset,!1)},e.addAdCountdown=()=>{if(e.isCurrentlyPlayingAd&&e.hlsPlayer||e.currentVideoDuration===1/0)return;const x=e.domRef.wrapper,C=document.createElement("div"),N=e.pad(parseInt(e.currentVideoDuration/60))+":"+e.pad(parseInt(e.currentVideoDuration%60)),j=parseInt(N);C.className="ad_countdown",C.innerHTML="<span class='ad_timer_prefix'>Ad - </span>"+j,x.appendChild(C),e.domRef.player.addEventListener("timeupdate",e.decreaseAdCountdown,!1),x.addEventListener("mouseover",function(){C.style.display="none"},!1)},e.decreaseAdCountdown=function(){const C=parseInt(e.currentVideoDuration)-parseInt(e.domRef.player.currentTime),N=e.domRef.wrapper.querySelector(".ad_countdown");if(N&&isNaN(C)){N.parentNode.removeChild(N);return}N?N.innerHTML="<span class='ad_timer_prefix'>Ad - </span> "+e.pad(parseInt(C/60))+":"+e.pad(parseInt(C%60)):e.domRef.player.removeEventListener("timeupdate",e.decreaseAdCountdown)},e.removeAdCountdown=()=>{const x=e.domRef.wrapper.querySelector(".ad_countdown");x&&x.parentElement.removeChild(x)},e.toggleAdCountdown=x=>{const C=e.domRef.wrapper.querySelector(".ad_countdown");C&&(x?C.style.display="inline-block":C.style.display="none")},e.addAdPlayingText=x=>{const C=document.createElement("div");e.displayOptions.layoutControls.primaryColor&&(C.style.backgroundColor=e.displayOptions.layoutControls.primaryColor,C.style.opacity=1),C.className="fluid_ad_playing",C.innerText=x,e.domRef.wrapper.appendChild(C)},e.positionTextElements=x=>{const C=["top left","top right","bottom left","bottom right"],N=e.domRef.wrapper.querySelector(".skip_button"),j=e.domRef.wrapper.querySelector(".fluid_ad_playing"),E=e.domRef.wrapper.querySelector(".fluid_ad_cta");let k=0,P=0;const L=8;let B=!1,M=0,R=[];const D={top:{left:{h:34,v:34},right:{h:0,v:34}},bottom:{left:{h:34,v:50},right:{h:0,v:50}}};N!==null&&(M=N.offsetHeight+L,e.domRef.wrapper.classList.contains("mobile")&&(D.top={left:{h:0,v:8},right:{h:0,v:8}},D.bottom={left:{h:0,v:50},right:{h:0,v:50}}));let H;E!==null&&(H=e.rollsById[x.rollListId].adCTATextPosition?e.rollsById[x.rollListId].adCTATextPosition.toLowerCase():e.displayOptions.vastOptions.adCTATextPosition,C.indexOf(H)===-1&&(console.log('[FP Error] Invalid position for CTAText. Reverting to "bottom right"'),H="bottom right"),E.classList.add.apply(E.classList,H.split(" ")),R=H.split(" "),B=R[0]==="bottom",E.style[R[0]]=D[R[0]][R[1]].v+"px",E.style[R[1]]=D[R[0]][R[1]].h+"px",B&&R[1]==="right"&&(E.style[R[0]]=D[R[0]][R[1]].v+M+"px"),k=E.offsetHeight+L+"px");let F,W;j!==null&&(F=e.rollsById[x.rollListId].adTextPosition?e.rollsById[x.rollListId].adTextPosition.toLowerCase():e.displayOptions.vastOptions.adTextPosition,C.indexOf(F)===-1&&(console.log('[FP Error] Invalid position for adText. Reverting to "top left"'),F="top left"),W=F.split(" "),j.style[W[0]]=D[W[0]][W[1]].v+"px",j.style[W[1]]=D[W[0]][W[1]].h+"px",P=j.offsetHeight+L+"px"),k>0&&P>0&&H===F&&(B?R[1]==="right"?j.style.bottom=D[W[0]][W[1]].v+M+k+"px":j.style.bottom=D[W[0]][W[1]].v+k+"px":E.style.top=D[R[0]][R[1]].v+P+"px")},e.removeAdPlayingText=()=>{const x=e.domRef.wrapper.querySelector(".fluid_ad_playing");x&&x.parentElement.removeChild(x)},e.addCTAButton=x=>{if(e.vastOptions.titleCTA){const{text:C,link:N,tracking:j}=e.vastOptions.titleCTA;return e.createAndAppendCTAButton(C,N,j)}if(x&&typeof e.displayOptions.vastOptions.adCTAText=="string")return e.createAndAppendCTAButton(e.displayOptions.vastOptions.adCTAText,x,e.vastOptions.clickthroughUrl)},e.createAndAppendCTAButton=(x,C,N)=>{const j=document.createElement("div");j.className="fluid_ad_cta";const E=document.createElement("span");let k=x;C&&(k+='<br/><span class="add_icon_clickthrough">'+C+"</span>"),E.innerHTML=k,j.addEventListener("click",()=>(e.domRef.player.paused||e.domRef.player.pause(),window.open(N,"_blank").focus(),!0),!1),j.appendChild(E),e.domRef.wrapper.appendChild(j)},e.removeCTAButton=()=>{const x=e.domRef.wrapper.querySelector(".fluid_ad_cta");x&&x.parentElement.removeChild(x)},e.decreaseSkipOffset=()=>{if(typeof e.vastOptions>"u"||e.vastOptions===null)return;let x=e.vastOptions.skipoffset-Math.floor(e.domRef.player.currentTime);const C=e.domRef.wrapper.querySelector(".skip_button");if(!C){e.domRef.player.removeEventListener("timeupdate",e.decreaseSkipOffset);return}if(x>=1){C.innerHTML=e.displayOptions.vastOptions.skipButtonCaption.replace("[seconds]",x);return}const N=document.createElement("a");N.href="#",N.className="js-skipHref",N.innerHTML=e.displayOptions.vastOptions.skipButtonClickCaption,N.onclick=j=>{j.preventDefault(),j.stopPropagation(),e.pressSkipButton()},C.innerHTML="",C.appendChild(N),C.className=C.className.replace(/\bskip_button_disabled\b/,""),e.domRef.player.removeEventListener("timeupdate",e.decreaseSkipOffset)},e.pressSkipButton=()=>{if(e.removeSkipButton(),e.removeAdPlayingText(),e.removeCTAButton(),e.vastOptions.vpaid){e.skipVpaidAd();return}e.trackSkipAd(),e.displayOptions.vastOptions.vastAdvanced.vastVideoSkippedCallback();const x=document.createEvent("Event");x.initEvent("ended",!1,!0),e.domRef.player.dispatchEvent(x)},e.removeSkipButton=()=>{const x=e.domRef.wrapper.querySelector(".skip_button");x&&x.parentElement.removeChild(x)},e.addClickthroughLayer=()=>{const x=e.domRef.wrapper,C=document.createElement("div");C.className="vast_clickthrough_layer",C.setAttribute("style","position: absolute; cursor: pointer; top: 0; left: 0; width: "+e.domRef.player.offsetWidth+"px; height: "+e.domRef.player.offsetHeight+"px;"),x.appendChild(C);const N=function(){window.open(e.vastOptions.clickthroughUrl),typeof e.vastOptions.clicktracking<"u"&&e.callUris(e.vastOptions.clicktracking)},j=e.domRef.wrapper.querySelector(".vast_clickthrough_layer"),E=e.mobileInfo.device==="iPhone"&&e.mobileInfo.userOsMajor!==!1&&e.mobileInfo.userOsMajor<=9;j.onclick=()=>{e.domRef.player.paused?E&&!e.suppressClickthrough?(N(),e.suppressClickthrough=!0):e.domRef.player.play():(N(),e.domRef.player.pause())}},e.removeClickthrough=()=>{const x=e.domRef.wrapper.querySelector(".vast_clickthrough_layer");x&&x.parentNode.removeChild(x)}}typeof window<"u"&&!window.dashjs&&(window.dashjs={skipAutoCreate:!0,isDefaultSubject:!0});function pD(e,t){e.initialiseStreamers=()=>{switch(e.detachStreamers(),e.displayOptions.layoutControls.mediaType){case"application/dash+xml":!e.dashScriptLoaded&&(!window.dashjs||window.dashjs.isDefaultSubject)?(e.dashScriptLoaded=!0,_o(()=>import("./dash.all.min-CO6IqX_8.js").then(_=>_.d),[]).then(_=>{window.dashjs=_.default,e.initialiseDash()})):e.initialiseDash();break;case"application/x-mpegurl":const{displayOptions:h,domRef:p}=e,{player:w}=p,{hls:m}=h;if(w.canPlayType("application/x-mpegurl")&&!m.overrideNative){e.debugMessage("Native HLS support found, skipping hls.js");break}!e.hlsScriptLoaded&&!window.Hls?(e.hlsScriptLoaded=!0,_o(()=>import("./hls-ywO_6aio.js"),[]).then(_=>{window.Hls=_.default,e.initialiseHls()})):e.initialiseHls();break}},e.initialiseDash=()=>{if(typeof(window.MediaSource||window.WebKitMediaSource)=="function"){const h=e.autoplayAfterAd?e.displayOptions.layoutControls.autoPlay:e.autoplayAfterAd,p={debug:{logLevel:typeof FP_DEBUG<"u"&&FP_DEBUG===!0?dashjs.Debug.LOG_LEVEL_DEBUG:dashjs.Debug.LOG_LEVEL_FATAL}},w=dashjs.MediaPlayer().create(),m=e.displayOptions.modules.configureDash(p);w.updateSettings(m),e.displayOptions.modules.onBeforeInitDash(w),w.initialize(e.domRef.player,e.originalSrc,h),w.on("streamInitializing",()=>{e.toggleLoader(!0)}),w.on("canPlay",()=>{e.toggleLoader(!1)}),w.on("playbackPlaying",()=>{e.toggleLoader(!1)}),w.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED,()=>{e.isLiveStream=!!w.isDynamic(),w.isDynamic()&&e.showLiveIndicator()}),e.displayOptions.modules.onAfterInitDash(w),e.dashPlayer=w}else e.nextSource(),console.log("[FP_WARNING] Media type not supported by this browser using DASH.js. (application/dash+xml)")},e.initialiseHls=()=>{if(typeof Hls<"u"&&Hls.isSupported()){e.debugMessage("Initializing hls.js");const h={debug:typeof FP_DEBUG<"u"&&FP_DEBUG===!0,startPosition:0,p2pConfig:{logLevel:!1},enableWebVTT:!1,enableCEA708Captions:!1},p=e.displayOptions.modules.configureHls(h),w=new Hls(p);e.displayOptions.modules.onBeforeInitHls(w),w.attachMedia(e.domRef.player),w.loadSource(e.originalSrc),w.once(Hls.Events.LEVEL_LOADED,function(m,_){e.isLiveStream=!!_.details.live,_.details.live?e.showLiveIndicator():e.hideLiveIndicator()}),e.displayOptions.modules.onAfterInitHls(w),e.hlsPlayer=w,!e.firstPlayLaunched&&e.displayOptions.layoutControls.autoPlay&&e.domRef.player.play(),e.createHLSVideoSourceSwitch()}else e.nextSource(),console.log("[FP_WARNING] Media type not supported by this browser using HLS.js. (application/x-mpegURL)")},e.createHLSVideoSourceSwitch=()=>{e.hlsPlayer.on(Hls.Events.MANIFEST_PARSED,function(){try{const h=r(),p=d(h);if(e.videoSources=p,p.length<=2)return;const w=e.domRef.wrapper.querySelector(".fluid_control_video_source");n(p,w);const m=o(p);u(w,m),c(p)}catch(h){console.error(h)}})};function r(){const h=e.hlsPlayer.levels.map((w,m)=>({id:m,title:w.height+"p",isHD:w.videoRange==="HDR",bitrate:w.bitrate})),p={id:-1,title:"auto",isHD:!1,bitrate:0};return[...h,p]}function n(h,p){h.length>1?p.style.display="inline-block":p.style.display="none"}function o(h){const p=document.createElement("div");return p.className="fluid_video_sources_list",p.style.display="none",h.forEach(w=>{const m=i(w);p.appendChild(m)}),p}function i(h){const p=s(h),w=h.isHD?`<sup style="color:${e.displayOptions.layoutControls.primaryColor}" class="fp_hd_source"></sup>`:"",m=document.createElement("div");return m.className=`fluid_video_source_list_item js-source_${h.title}`,m.innerHTML=`<span class="source_button_icon ${p}"></span>${h.title}${w}`,m.addEventListener("click",_=>a(_,h)),m}function s(h){const p=e.videoSources.filter(w=>w.title===e.fluidStorage.fluidQuality);if(p.length>1){if(p[0].id===h.id)return"source_selected"}else if(p.length===1)return p[0].id===h.id?"source_selected":"";return!p.length&&h.title==="auto"?"source_selected":""}function a(h,p){h.stopPropagation();const w=h.currentTarget;l(),w.firstChild.classList.add("source_selected"),e.videoSources.forEach(m=>{m.title===w.innerText.replace(/(\r\n\t|\n|\r\t)/gm,"")&&(e.hlsPlayer.currentLevel=p.id,e.fluidStorage.fluidQuality=p.title)}),e.openCloseVideoSourceSwitch()}function l(){const h=e.domRef.wrapper.getElementsByClassName("source_button_icon");Array.from(h).forEach(p=>p.classList.remove("source_selected"))}function u(h,p){h.appendChild(p),h.removeEventListener("click",e.openCloseVideoSourceSwitch),h.addEventListener("click",e.openCloseVideoSourceSwitch)}function c(h){const p=h.find(w=>w.title===e.fluidStorage.fluidQuality);if(p)e.hlsPlayer.currentLevel=p.id;else{const w=h.find(m=>m.title==="auto");e.hlsPlayer.currentLevel=w.id}}function d(h){return[...h].sort((p,w)=>w.height!==p.height?w.height-p.height:w.bitrate-p.bitrate)}e.detachStreamers=()=>{e.dashPlayer?(e.dashPlayer.reset(),e.dashPlayer=!1):e.hlsPlayer&&(e.hlsPlayer.detachMedia(),e.hlsPlayer=!1)}}function mD(e,t){e.isTouchDevice=()=>!!("ontouchstart"in window||navigator.maxTouchPoints),e.getMobileOs=()=>{const r=navigator.userAgent||"",n={device:!1,userOs:!1,userOsVer:!1,userOsMajor:!1};let o;if(r.match(/Android/i)?(n.userOs="Android",o=r.indexOf("Android ")):r.match(/iPhone/i)?(n.device="iPhone",n.userOs="iOS",o=r.indexOf("OS ")):r.match(/iPad/i)?(n.device="iPad",n.userOs="iOS",o=r.indexOf("OS ")):n.userOs=!1,n.userOs==="iOS"&&o>-1){const i=r.substr(o+3);i.indexOf(" ")!==-1&&(n.userOsVer=i.substring(0,i.indexOf(" ")).replace(/_/g,"."),n.userOsMajor=parseInt(n.userOsVer))}else n.userOs==="Android"&&o>-1?n.userOsVer=r.substr(o+8,3):n.userOsVer=!1;return n},e.getBrowserVersion=()=>{const r=navigator.userAgent||"",n={browserName:!1,fullVersion:!1,majorVersion:!1,userOsMajor:!1};let o,i;try{n.browserName=navigator.appName,(o=r.indexOf("OPR/"))!==-1?(n.browserName="Opera",n.fullVersion=r.substring(o+4)):(o=r.indexOf("Opera"))!==-1?(n.browserName="Opera",n.fullVersion=r.substring(o+6),(o=r.indexOf("Version"))!==-1&&(n.fullVersion=r.substring(o+8))):(o=r.indexOf("MSIE"))!==-1?(n.browserName="Microsoft Internet Explorer",n.fullVersion=r.substring(o+5)):(o=r.indexOf("Chrome"))!==-1?(n.browserName="Google Chrome",n.fullVersion=r.substring(o+7)):(o=r.indexOf("Safari"))!==-1?(n.browserName="Safari",n.fullVersion=r.substring(o+7),(o=r.indexOf("Version"))!==-1&&(n.fullVersion=r.substring(o+8))):(o=r.indexOf("Firefox"))!==-1?(n.browserName="Mozilla Firefox",n.fullVersion=r.substring(o+8)):(i=r.lastIndexOf(" ")+1)<(o=r.lastIndexOf("/"))&&(n.browserName=r.substring(i,o),n.fullVersion=r.substring(o+1),n.browserName.toLowerCase()===n.browserName.toUpperCase()&&(n.browserName=navigator.appName)),(i=n.fullVersion.indexOf(";"))!==-1&&(n.fullVersion=n.fullVersion.substring(0,i)),(i=n.fullVersion.indexOf(" "))!==-1&&(n.fullVersion=n.fullVersion.substring(0,i)),n.majorVersion=parseInt(""+n.fullVersion,10),isNaN(n.majorVersion)&&(n.fullVersion=""+parseFloat(navigator.appVersion),n.majorVersion=parseInt(navigator.appVersion,10))}catch{}return n},e.compareVersion=(r,n)=>{if(typeof r!="string"||typeof n!="string")return!1;r=r.split("."),n=n.split(".");const o=Math.min(r.length,n.length);for(let i=0;i<o;++i){if(r[i]=parseInt(r[i],10),n[i]=parseInt(n[i],10),r[i]>n[i])return 1;if(r[i]<n[i])return-1}return r.length===n.length?0:r.length<n.length?-1:1},e.convertTimeStringToSeconds=r=>{if(!(r&&r.match(/^(\d){2}(:[0-5][0-9]){2}(.(\d){1,3})?$/)))return!1;const n=r.split(":");return parseInt(n[0],10)*3600+parseInt(n[1],10)*60+parseInt(n[2],10)},e.formatTime=r=>{const n=new Date(r*1e3),o=e.pad(n.getUTCHours()),i=e.pad(n.getUTCMinutes()),s=e.pad(n.getSeconds());return o>=1?o+":"+i+":"+s:i+":"+s},e.pad=r=>r<10?"0"+r:r,e.isElementVisible=r=>{if(!r)return null;const n=r.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)},e.observe=()=>{var r=new IntersectionObserver(function(n){n.forEach(function(o){o.intersectionRatio>=.5&&(e.domRef.player.inView=!0),o.intersectionRatio==0&&o.target.glast&&(e.domRef.player.inView=!1)})},{threshold:[0,.5]});r.observe(e.domRef.wrapper)},e.throttle=function(n,o){let i=!1;return function(){i||(n.apply(this,arguments),i=!0,setTimeout(function(){i=!1},o))}},e.getImageTwoMostProminentColours=r=>new Promise((n,o)=>{const i=new Image;i.crossOrigin="Anonymous",i.src=r,i.onload=()=>{const s=document.createElement("canvas"),a=s.getContext("2d");s.width=i.width,s.height=i.height,a.drawImage(i,0,0,i.width,i.height);const l=a.getImageData(0,0,i.width,i.height).data,u={};for(let v=0;v<l.length;v+=4){const g=l[v],b=l[v+1],S=l[v+2],T=`rgb(${g},${b},${S})`;u[T]?u[T]++:u[T]=1}const c=(v,g,b)=>{v/=255,g/=255,b/=255;const S=Math.max(v,g,b),T=Math.min(v,g,b);let A,O,V=(S+T)/2;if(S===T)A=O=0;else{const x=S-T;switch(O=V>.5?x/(2-S-T):x/(S+T),S){case v:A=(g-b)/x+(g<b?6:0);break;case g:A=(b-v)/x+2;break;case b:A=(v-g)/x+4;break}A/=6}return[A,O,V]},d=Object.keys(u).map(v=>{const[g,b,S]=v.match(/\d+/g).map(Number),[T,A,O]=c(g,b,S);return{color:v,h:T,s:A,l:O,score:A+(1-Math.abs(2*O-1))}}).sort((v,g)=>g.score-v.score),h=v=>{const g=v.match(/\d+/g).map(Number),b=40;return g[0]<b&&g[1]<b&&g[2]<b},p=.1,w=.1,m=.1;let _=[];for(const v of d){if(_.length===2)break;h(v.color)||_.every(b=>{const S=Math.abs(v.h-b.h),T=Math.abs(v.s-b.s),A=Math.abs(v.l-b.l);return S>=p&&T>=w&&A>=m})&&_.push(v)}_.length<2&&(_=d.slice(0,2)),n(_.map(v=>v.color))},i.onerror=()=>{o(new Error("Failed to load image"))}})}function gD(e,t){e.suggestedVideosGrid=null,e.generateSuggestedVideoList=()=>{const r=e.displayOptions.suggestedVideos.configUrl;r&&e.sendRequestAsync(r,!1,5e3).then(({response:n})=>{const o=JSON.parse(n),i=e.generateSuggestedVideoGrid(o);e.suggestedVideosGrid=i}).catch(n=>{console.error("[FP_ERROR] given suggested videos config url is invalid or not found.",n)})},e.generateSuggestedVideoGrid=r=>{const n=document.createElement("div");n.className="suggested_tile_grid";for(let o=0;o<12;o++){const i=e.createVideoTile(r[o]);n.appendChild(i)}return n},e.displaySuggestedVideos=()=>{e.domRef.wrapper.appendChild(e.suggestedVideosGrid)},e.clickSuggestedVideo=(r,n,o)=>{e.toggleLoader(!0),e.hideSuggestedVideos(),e.resetPlayer(r,n,o),e.generateSuggestedVideoList()},e.resetPlayer=(r,n,o)=>{const i=e.domRef.wrapper.querySelector(`#${e.videoPlayerId}`);i.innerHTML="";let s="";r&&r.forEach(l=>{s+=`<source src='${l.url}' ${l.hd?"data-fluid-hd":""} title="${l.resolution}" type='${l.mimeType}'/>`}),n&&n.forEach(l=>{s+=`<track label="${l.label}" kind="metadata" srclang="${l.lang}" src="${l.url}" ${l.default?"default":""}>`}),i.innerHTML=s,e.removeVideoSourcesListFromDOM();const a=e.domRef.wrapper.getElementsByClassName("fluid_control_video_source")[0];a.innerHTML="",e.domRef.player.src="",e.domRef.player.removeAttribute("src"),e.setVideoSource(r[0].url),e.createVideoSourceSwitch(!1),e.resetSubtitles(),e.setPersistentSettings(!0),e.loadInNewVideo(),e.resetAds(),o&&(e.displayOptions.suggestedVideos.configUrl=o,e.generateSuggestedVideoList())},e.createVideoTile=r=>{const n=document.createElement("div");n.addEventListener("click",function(){e.clickSuggestedVideo(r.sources,r.subtitles,r.configUrl)},!1),n.className="suggested_tile",n.id="suggested_tile_"+r.id,e.getImageTwoMostProminentColours(r.thumbnailUrl).then(a=>{a&&a.length&&(n.style=`background: ${a[0]};`)});const o=document.createElement("img");o.src=r.thumbnailUrl,o.className="suggested_tile_image";const i=document.createElement("div");i.className="suggested_tile_overlay";const s=document.createElement("p");return s.className="suggested_tile_title",s.innerText=r.title,i.appendChild(s),n.appendChild(o),n.appendChild(i),n},e.resetSubtitles=()=>{e.removeSubtitlesListFromDOM();const r=e.domRef.wrapper.getElementsByClassName("fluid_control_subtitles")[0];r.innerHTML="",e.domRef.player.load(),e.createSubtitles(!1)},e.loadInNewVideo=()=>{e.displayOptions.layoutControls.mediaType=e.getCurrentSrcType(),e.initialiseStreamers(),e.domRef.player.currentTime=0,e.domRef.player.mainVideoCurrentTime=0,e.setBuffering()},e.resetAds=()=>{e.timerPool={},e.rollsById={},e.adPool={},e.adGroupedByRolls={},e.onPauseRollAdPods=[],e.currentOnPauseRollAd="",e.isTimer=!1,e.timer=null,e.firstPlayLaunched=!1,e.preRollAdsResolved=!1,e.preRollAdPods=[],e.preRollAdPodsLength=0,e.preRollVastResolved=0,e.autoplayAfterAd=!0;const n=setInterval(()=>{!isNaN(e.domRef.player.duration)&&e.domRef.player.duration>0&&(e.toggleLoader(!0),e.mainVideoDuration=e.domRef.player.duration,clearInterval(n),e.setVastList(),e.checkForNextAd(),e.playPauseToggle())},100)},e.removeVideoSourcesListFromDOM=()=>{const r=e.domRef.wrapper.getElementsByClassName("fluid_video_source_list_item");for(let n=0;n<r.length;n++)r[n].remove()},e.removeSubtitlesListFromDOM=()=>{const r=e.domRef.wrapper.getElementsByClassName("fluid_subtitle_list_item");for(let n=0;n<r.length;n++)r[n].remove()},e.hideSuggestedVideos=()=>{const r=e.domRef.wrapper.getElementsByClassName("suggested_tile_grid")[0];r&&r.remove()},e.isShowingSuggestedVideos=()=>!!e.domRef.wrapper.getElementsByClassName("suggested_tile_grid")[0]}function vD(e){const o=16.666666666666668,i=50,s=5,a="(max-width: 768px)",l="fluid_mini_player_mode",u="mini-player-close-button-wrapper",c="mini-player-close-button",d="fluidplayer-miniplayer-player-placeholder",h="disable-mini-player-mobile",p=".vast_clickthrough_layer",w=".fluid_nonLinear_ad img, .fluid_vpaid_nonlinear_slot_iframe",m=".fluid_vpaidNonLinear_frame",_="miniPlayerToggle";let v=null,g=null,b=null,S=null,T=!1,A=null,O=!1,V=!1;function x(F,W=!1,I=!1){e.debugMessage(`[MiniPlayer] Toggling MiniPlayer, forceToggle: ${F}`);const G=e.displayOptions.layoutControls.miniPlayer;if(!G.enabled){e.debugMessage("[MiniPlayer] Prevent toggle MiniPlayer, it's currently disabled");return}if(F==="on"&&e.miniPlayerToggledOn||F==="off"&&!e.miniPlayerToggledOn){e.debugMessage("[MiniPlayer] Can't force toggle Mini Player to it's same state");return}W&&D(),window.matchMedia(a).matches&&(O=!0);const J=e.getPreviousDisplayMode();e.resetDisplayMode(We.MINI_PLAYER),T||C(),F==="off"||e.miniPlayerToggledOn?N():(F==="on"||!e.miniPlayerToggledOn)&&j(G.width,G.height,G.widthMobile,G.position),I||e.trackPlayerSizeChanged(J)}function C(){if(!!!e.domRef.player.parentNode.querySelector(`.${c}`)){const W=document.createElement("div");W.classList.add(u);const I=document.createElement("span");I.classList.add(c),I.addEventListener("click",()=>{x("off",!0),e.domRef.player.paused||e.playPauseToggle()}),W.appendChild(I),e.domRef.player.parentNode.append(W)}O&&B(),T=!0}function N(){const F=e.domRef.wrapper;R(),F.classList.remove(l),F.style.width=`${v}px`,F.style.height=`${g}px`,v=null,g=null,P(),L(),e.miniPlayerToggledOn=!1,E()}function j(F,W,I,G){const J=e.domRef.wrapper,U=F>400?F:400,Z=W>225?W:225,ie=I>40?I:40;v=k(J,"width","clientWidth"),g=k(J,"height","clientHeight"),J.classList.add(l,`${l}--${G.trim().replace(/\s/,"-")}`),O?(J.style.width=`${ie}vw`,J.style.height="auto",J.style.aspectRatio="16 / 9"):(J.style.width=`${U}px`,J.style.height=`${Z}px`),M(v,g),P(U,Z,ie),L(),e.miniPlayerToggledOn=!0,E()}function E(){e.domRef.player.dispatchEvent(new CustomEvent(_,{detail:{isToggledOn:e.miniPlayerToggledOn}}))}function k(F,W,I){return W&&F.style[W]&&F.style[W].match("px")?parseInt(F.style[W]):String(F[I]).match("px")?parseInt(F[I]):F[I]}function P(F,W,I){const G=e.domRef.wrapper.querySelector(w),J=e.domRef.wrapper.querySelector(m);if(!G)return;O&&(F=window.innerWidth*I/100);const U=k(G,null,"width"),Z=k(G,null,"height");if(b&&S)G.width=b,G.height=S,J&&(J.style.width=`${b}px`,J.style.height=`${S}px`),b=S=null;else if(U>F||Z>W){const ie=(F-(O?4:32))/U;b=U,S=Z,G.width=Math.round(U*ie),G.height=Math.round(Z*ie),J&&(J.style.width=`${Math.round(U*ie)}px`,J.style.height=`${Math.round(Z*ie)}px`)}}function L(){const F=e.domRef.wrapper.querySelector(p);F&&(F.style.width=`${e.domRef.player.offsetWidth}px`,F.style.height=`${e.domRef.player.offsetHeight}px`)}function B(){const F=document.createElement("div");let W=0,I=0,G;F.classList.add(h);const J=document.createElement("span");J.classList.add(c),F.appendChild(J),F.ontouchstart=U=>{G=!1,U.timeStamp,I=U.changedTouches[0].screenX,U.preventDefault()},F.ontouchmove=U=>{W=Math.min(Math.max(I-U.changedTouches[0].screenX,i*-1),i),Math.abs(W)>s?(e.domRef.wrapper.style.transform=`translateX(${W*-1}px)`,G=!0):e.domRef.wrapper.style.transform="translateX(0px)"},F.ontouchend=U=>{Math.abs(W)>s?(x("off",!0),e.domRef.player.paused||e.playPauseToggle(),U.preventDefault()):G||(x("off",!0),setTimeout(()=>{e.domRef.wrapper.scrollIntoView({behavior:"smooth",block:"center"})})),W=0,e.domRef.wrapper.style.transform=""},F.onmouseup=()=>x("off",!0),e.domRef.wrapper.insertBefore(F,e.domRef.player.nextSibling)}function M(F,W){A=document.createElement("div"),A.classList.add(d),A.style.height=`${W}px`,A.style.width=`${F}px`,A.innerText=e.displayOptions.layoutControls.miniPlayer.placeholderText||"",A.onclick=()=>x("off",!0),e.domRef.wrapper.parentElement.insertBefore(A,e.domRef.wrapper)}function R(){e.domRef.wrapper.parentElement.removeChild(A),A=null}function D(){const F=e.displayOptions.layoutControls.miniPlayer.autoToggle;if(V||!F){document.removeEventListener("scroll",H);return}V=!0,document.addEventListener("scroll",H,{passive:!0})}const H=e.throttle(function(){if(e.domRef.player.paused)return;const W=e.isElementVisible(e.domRef.player),I=e.isElementVisible(e.domRef.wrapper.querySelector(`.${d}`));!W&&!e.miniPlayerToggledOn?x("on"):I&&e.miniPlayerToggledOn&&x("off")},o);e.toggleMiniPlayer=x,e.toggleMiniPlayerScreenDetection=D}const yD=[lD,uD,cD,dD,fD,hD,pD,mD,gD,vD],ru=typeof FP_ENV<"u"&&FP_ENV==="development",hl=typeof FP_DEBUG<"u"&&FP_DEBUG===!0;let wD=0;const bD=function(){const e=this;e.domRef={player:null},e.version=typeof FP_BUILD_VERSION<"u"?FP_BUILD_VERSION:"",e.homepage=typeof FP_HOMEPAGE<"u"?FP_HOMEPAGE+"/?utm_source=player&utm_medium=context_menu&utm_campaign=organic":"",e.destructors=[],e.init=(t,r)=>{const n={development:ru,debug:hl};for(const l of yD)l(e,n);let o;if(t instanceof HTMLVideoElement)o=t,t.id||(t.id="fluid_player_instance_"+(wD++).toString());else if(typeof t=="string"||t instanceof String)o=document.getElementById(t);else throw"Invalid initializer - player target must be HTMLVideoElement or ID";if(!o)throw"Could not find a HTML node to attach to for target "+t+'"';if(o.classList.contains("js-fluid-player"))throw"Invalid initializer - player target already is initialized";o.setAttribute("playsinline",""),o.setAttribute("webkit-playsinline",""),o.classList.add("js-fluid-player"),e.domRef.player=o,e.vrROTATION_POSITION=.1,e.vrROTATION_SPEED=80,e.vrMode=!1,e.vrPanorama=null,e.vrViewer=null,e.vpaidTimer=null,e.vpaidAdUnit=null,e.vastOptions=null,e.videoPlayerId=o.id,e.originalSrc=e.getCurrentSrc(),e.isCurrentlyPlayingAd=!1,e.isCurrentlyShowingNonLinearAd=!1,e.recentWaiting=!1,e.latestVolume=1,e.currentVideoDuration=0,e.firstPlayLaunched=!1,e.suppressClickthrough=!1,e.timelinePreviewData=[],e.mainVideoCurrentTime=0,e.mainVideoDuration=0,e.isTimer=!1,e.timer=null,e.timerPool={},e.rollsById={},e.adPool={},e.adGroupedByRolls={},e.onPauseRollAdPods=[],e.currentOnPauseRollAd="",e.preRollAdsResolved=!1,e.preRollAdPods=[],e.preRollAdPodsLength=0,e.preRollVastResolved=0,e.temporaryAdPods=[],e.availableRolls=["preRoll","midRoll","postRoll","onPauseRoll"],e.supportedNonLinearAd=["300x250","468x60","728x90"],e.autoplayAfterAd=!0,e.nonLinearDuration=15,e.supportedStaticTypes=["image/gif","image/jpeg","image/png"],e.inactivityTimeout=null,e.isUserActive=null,e.nonLinearVerticalAlign="bottom",e.vpaidNonLinearCloseButton=!0,e.showTimeOnHover=!0,e.initialAnimationSet=!0,e.theatreMode=!1,e.theatreModeAdvanced=!1,e.fullscreenMode=!1,e.originalWidth=o.offsetWidth,e.originalHeight=o.offsetHeight,e.dashPlayer=!1,e.hlsPlayer=!1,e.dashScriptLoaded=!1,e.hlsScriptLoaded=!1,e.isPlayingMedia=!1,e.isSwitchingSource=!1,e.isLoading=!1,e.isInIframe=e.inIframe(),e.mainVideoReadyState=!1,e.xmlCollection=[],e.inLineFound=null,e.fluidStorage={},e.fluidPseudoPause=!1,e.mobileInfo=e.getMobileOs(),e.events={},e.timeSkipOffsetAmount=10,e.currentMediaSourceType="source",e.isLiveStream=null,e.previousTime=0,e.displayOptions={layoutControls:{mediaType:e.getCurrentSrcType(),primaryColor:!1,posterImage:!1,posterImageSize:"contain",adProgressColor:"#f9d300",playButtonShowing:!0,playPauseAnimation:!0,closeButtonCaption:"Close",fillToContainer:!1,autoPlay:!1,preload:"auto",mute:!1,loop:null,keyboardControl:!0,allowDownload:!1,playbackRateEnabled:!1,subtitlesEnabled:!1,subtitlesOnByDefault:!0,showCardBoardView:!1,showCardBoardJoystick:!1,allowTheatre:!0,doubleclickFullscreen:!0,autoRotateFullScreen:!1,theatreSettings:{width:"100%",height:"60%",marginTop:0,horizontalAlign:"center",keepPosition:!1},theatreAdvanced:{theatreElement:null},title:null,logo:{imageUrl:null,position:"top left",clickUrl:null,opacity:1,mouseOverImageUrl:null,imageMargin:"2px",hideWithControls:!1,showOverAds:!1},controlBar:{autoHide:!1,autoHideTimeout:3,animated:!0,playbackRates:["x2","x1.5","x1","x0.5"]},timelinePreview:{spriteImage:!1,spriteRelativePath:!1},htmlOnPauseBlock:{html:null,height:null,width:null},layout:"default",playerInitCallback:function(){},persistentSettings:{volume:!0,quality:!0,speed:!0,theatre:!0},controlForwardBackward:{show:!1,doubleTapMobile:!0},contextMenu:{controls:!0,links:[]},miniPlayer:{enabled:!0,width:400,height:225,widthMobile:50,placeholderText:"Playing in Miniplayer",position:"bottom right",autoToggle:!1},roundedCorners:0},suggestedVideos:{configUrl:null},vastOptions:{adList:{},skipButtonCaption:"Skip ad in [seconds]",skipButtonClickCaption:'Skip Ad <span class="skip_button_icon"></span>',adText:null,adTextPosition:"top left",adCTAText:"Visit now!",adCTATextPosition:"bottom right",adCTATextVast:!1,adClickable:!0,vastTimeout:5e3,showProgressbarMarkers:!1,allowVPAID:!1,showPlayButton:!1,maxAllowedVastTagRedirects:3,vpaidTimeout:3e3,vastAdvanced:{vastLoadedCallback:function(){},noVastVideoCallback:function(){},vastVideoSkippedCallback:function(){},vastVideoEndedCallback:function(){}}},hls:{overrideNative:!1},captions:{play:"Play",pause:"Pause",mute:"Mute",unmute:"Unmute",fullscreen:"Fullscreen",subtitles:"Subtitles",exitFullscreen:"Exit Fullscreen"},debug:hl,modules:{configureHls:l=>l,onBeforeInitHls:l=>{},onAfterInitHls:l=>{},configureDash:l=>l,onBeforeInitDash:l=>{},onAfterInitDash:l=>{}},onBeforeXMLHttpRequestOpen:l=>{},onBeforeXMLHttpRequest:l=>{(hl||ru)&&console.debug("[FP_DEBUG] Request made",l)}},r.hlsjsConfig&&console.error("[FP_ERROR] player option hlsjsConfig is removed and has no effect. Use module callbacks instead!");function i(l,u){return Object.keys(u).forEach(c=>{typeof u[c]=="object"&&u[c]!==null&&!Array.isArray(u[c])?i(l[c],u[c]):typeof u[c]<"u"&&(l[c]=u[c])}),l}i(e.displayOptions,r),e.domRef.wrapper=e.setupPlayerWrapper(),o.addEventListener("webkitfullscreenchange",e.recalculateAdDimensions),o.addEventListener("fullscreenchange",e.recalculateAdDimensions),o.addEventListener("waiting",e.onRecentWaiting),o.addEventListener("pause",e.onFluidPlayerPause),o.addEventListener("error",e.onErrorDetection),o.addEventListener("ended",e.onMainVideoEnded),o.addEventListener("durationchange",()=>{e.currentVideoDuration=e.getCurrentVideoDuration()}),o.addEventListener("seeked",e.onVideoSeeked),o.readyState>0?e.mainVideoReady():o.addEventListener("loadedmetadata",e.mainVideoReady),e.displayOptions.layoutControls.showCardBoardView&&o.setAttribute("crossOrigin","anonymous"),e.currentVideoDuration=e.getCurrentVideoDuration(),(isNaN(e.currentVideoDuration)||!isFinite(e.currentVideoDuration))&&(e.currentVideoDuration=0),e.setLayout(),e.latestVolume=o.volume,e.initialAnimationSet=e.displayOptions.layoutControls.playPauseAnimation,e.handleFullscreen(),e.initLogo(),e.initTitle(),e.initMute(),e.initLoop(),e.displayOptions.layoutControls.playerInitCallback(),e.createVideoSourceSwitch(),e.createSubtitles(),e.createCardboard(),e.userActivityChecker(),e.setVastList(),e.setPersistentSettings(),e.generateSuggestedVideoList(),e.initialiseStreamers();const s=o.play;o.play=function(){let l=null;e.displayOptions.layoutControls.showCardBoardView&&typeof DeviceOrientationEvent<"u"&&typeof DeviceOrientationEvent.requestPermission=="function"&&DeviceOrientationEvent.requestPermission().then(function(u){u==="granted"&&e.debugMessage("DeviceOrientationEvent permission granted!")}).catch(console.error);try{return l=s.apply(this,arguments),l!=null&&(l.then(()=>{e.isPlayingMedia=!0,clearTimeout(e.promiseTimeout)}).catch(u=>{console.error("[FP_ERROR] Playback error",u),typeof u.name<"u"&&u.name==="AbortError"||e.announceLocalError(202,"Failed to play video."),clearTimeout(e.promiseTimeout)}),e.promiseTimeout=setTimeout(function(){e.isPlayingMedia===!1&&e.announceLocalError(204,"[FP_ERROR] Timeout error. Failed to play video?")},5e3)),l}catch(u){console.error("[FP_ERROR] Playback error",u),e.announceLocalError(201,"Failed to play video.")}};const a=o.pause;if(o.pause=function(){if(e.isPlayingMedia===!0)return e.isPlayingMedia=!1,a.apply(this,arguments);if(e.isCurrentlyPlayingVideo(e.domRef.player))try{return e.isPlayingMedia=!1,a.apply(this,arguments)}catch{e.announceLocalError(203,"Failed to play video.")}},e.displayOptions.layoutControls.autoPlay&&!e.dashScriptLoaded&&!e.hlsScriptLoaded){if(e.getBrowserVersion().browserName==="Safari")return;o.play()}e.mobileInfo.userOs?(e.hideControlBar(),e.domRef.wrapper.addEventListener("touchstart",e.showControlBar,{passive:!0})):(e.displayOptions.layoutControls.controlBar.autoHide||e.domRef.wrapper.addEventListener("mouseleave",e.handleMouseleave,!1),e.domRef.wrapper.addEventListener("mouseenter",e.showControlBar,!1),e.domRef.wrapper.addEventListener("mouseenter",e.showTitle,!1)),e.displayOptions.layoutControls.keyboardControl&&e.keyboardControl(),e.displayOptions.layoutControls.controlBar.autoHide&&e.linkControlBarUserActivity();try{if(e.domRef.player.textTracks)for(const l of e.domRef.player.textTracks)l.mode="hidden"}catch{}},e.getCurrentVideoDuration=()=>e.domRef.player?e.domRef.player.duration:0,e.toggleLoader=t=>{e.isLoading=!!t;const r=e.domRef.wrapper.querySelector(".vast_video_loading");r&&(r.style.display=t?"table":"none")},e.sendRequest=(t,r,n,o)=>{const i=new XMLHttpRequest;i.onreadystatechange=o,e.displayOptions.onBeforeXMLHttpRequestOpen(i),i.open("GET",t,!0),i.withCredentials=r,i.timeout=n,e.displayOptions.onBeforeXMLHttpRequest(i),i.send()},e.sendRequestAsync=async(t,r,n)=>await new Promise((o,i)=>{const s=new XMLHttpRequest;s.onreadystatechange=a=>{const l=a.target;l.readyState===4&&l.status>=200&&l.status<300?o(l):l.readyState===4&&i(l)},e.displayOptions.onBeforeXMLHttpRequestOpen(s),s.open("GET",t,!0),s.withCredentials=r,s.timeout=n,e.displayOptions.onBeforeXMLHttpRequest(s),s.send()}),e.announceLocalError=(t,r)=>{let o="[Error] ("+(typeof t<"u"?parseInt(t):900)+"): ";o+=r||"Failed to load Vast",console.warn(o)},e.debugMessage=(...t)=>{e.displayOptions.debug&&console.log("%cFP DEBUG","color: #fff; font-weight: bold; background-color: #1a5e87; padding: 3px 6px; border-radius: 3px;",...t)},e.onMainVideoEnded=t=>{e.debugMessage("onMainVideoEnded is called"),!(e.isCurrentlyPlayingAd&&e.autoplayAfterAd)&&(Math.floor(e.getCurrentTime())>=Math.floor(e.mainVideoDuration)&&(e.adKeytimePlay(Math.floor(e.mainVideoDuration)),clearInterval(e.timer)),e.displayOptions.layoutControls.loop&&(e.switchToMainVideo(),e.playPauseToggle()),setTimeout(()=>{!e.isCurrentlyPlayingAd&&e.displayOptions.suggestedVideos.configUrl&&e.displaySuggestedVideos()},100))},e.getCurrentTime=()=>e.isCurrentlyPlayingAd?e.mainVideoCurrentTime:e.domRef.player.currentTime,e.getCurrentSrc=()=>{const t=e.domRef.player.getElementsByTagName("source");return t.length?t[0].getAttribute("src"):null},e.getCurrentSrcType=()=>{const t=e.domRef.player.getElementsByTagName("source");if(!t.length)return null;for(let r=0;r<t.length;r++)if(t[r].getAttribute("src")===e.originalSrc)return t[r].getAttribute("type").toLowerCase();return null},e.onRecentWaiting=()=>{e.recentWaiting=!0,setTimeout(function(){e.recentWaiting=!1},1e3)},e.onFluidPlayerPause=()=>{setTimeout(function(){if(e.recentWaiting)return;const t=document.createEvent("CustomEvent");t.initEvent("fluidplayerpause",!1,!0),e.domRef.player.dispatchEvent(t)},100)},e.checkShouldDisplayVolumeBar=()=>e.getMobileOs().userOs!=="iOS",e.generateCustomControlTags=t=>{const r={};r.loader=document.createElement("div"),r.loader.className="vast_video_loading",r.loader.style.display="none",r.root=document.createElement("div"),r.root.className="fluid_controls_container",t.displayVolumeBar||(r.root.className=r.root.className+" no_volume_bar"),t.controlForwardBackward&&(r.root.className=r.root.className+" skip_controls"),r.leftContainer=document.createElement("div"),r.leftContainer.className="fluid_controls_left",r.root.appendChild(r.leftContainer),r.playPause=document.createElement("div"),r.playPause.className="fluid_button fluid_button_play fluid_control_playpause",r.leftContainer.appendChild(r.playPause),t.controlForwardBackward&&(r.skipBack=document.createElement("div"),r.skipBack.className="fluid_button fluid_button_skip_back",r.leftContainer.appendChild(r.skipBack),r.skipForward=document.createElement("div"),r.skipForward.className="fluid_button fluid_button_skip_forward",r.leftContainer.appendChild(r.skipForward)),r.progressContainer=document.createElement("div"),r.progressContainer.className="fluid_controls_progress_container fluid_slider",r.root.appendChild(r.progressContainer),r.progressWrapper=document.createElement("div"),r.progressWrapper.className="fluid_controls_progress",r.progressContainer.appendChild(r.progressWrapper),r.progressCurrent=document.createElement("div"),r.progressCurrent.className="fluid_controls_currentprogress",r.progressCurrent.style.backgroundColor=t.primaryColor,r.progressWrapper.appendChild(r.progressCurrent),r.progress_current_marker=document.createElement("div"),r.progress_current_marker.className="fluid_controls_currentpos",r.progressCurrent.appendChild(r.progress_current_marker),r.bufferedIndicator=document.createElement("div"),r.bufferedIndicator.className="fluid_controls_buffered",r.progressContainer.appendChild(r.bufferedIndicator),r.adMarkers=document.createElement("div"),r.adMarkers.className="fluid_controls_ad_markers_holder",r.progressContainer.appendChild(r.adMarkers),r.rightContainer=document.createElement("div"),r.rightContainer.className="fluid_controls_right",r.root.appendChild(r.rightContainer),r.fullscreen=document.createElement("div"),r.fullscreen.className="fluid_button fluid_control_fullscreen fluid_button_fullscreen",r.fullscreen.title="Full Screen",r.rightContainer.appendChild(r.fullscreen),t.miniPlayer.enabled&&(r.miniPlayer=document.createElement("div"),r.miniPlayer.className="fluid_button fluid_control_mini_player fluid_button_mini_player",r.miniPlayer.title="Mini Player",r.rightContainer.appendChild(r.miniPlayer)),r.theatre=document.createElement("div"),r.theatre.className="fluid_button fluid_control_theatre fluid_button_theatre",r.theatre.title="Theatre Mode",r.rightContainer.appendChild(r.theatre),r.cardboard=document.createElement("div"),r.cardboard.className="fluid_button fluid_control_cardboard fluid_button_cardboard",r.cardboard.title="Cardboard",r.rightContainer.appendChild(r.cardboard),r.subtitles=document.createElement("div"),r.subtitles.className="fluid_button fluid_control_subtitles fluid_button_subtitles",r.subtitles.title="Captions",r.rightContainer.appendChild(r.subtitles),r.videoSource=document.createElement("div"),r.videoSource.className="fluid_button fluid_control_video_source fluid_button_video_source",r.videoSource.title="Source",r.rightContainer.appendChild(r.videoSource),r.playbackRate=document.createElement("div"),r.playbackRate.className="fluid_button fluid_control_playback_rate fluid_button_playback_rate",r.playbackRate.title="Playback Rate",r.rightContainer.appendChild(r.playbackRate),r.download=document.createElement("div"),r.download.className="fluid_button fluid_control_download fluid_button_download",r.download.title="Download",r.rightContainer.appendChild(r.download),r.volumeContainer=document.createElement("div"),r.volumeContainer.className="fluid_control_volume_container fluid_slider",r.rightContainer.appendChild(r.volumeContainer),r.volume=document.createElement("div"),r.volume.className="fluid_control_volume",r.volumeContainer.appendChild(r.volume),r.volumeCurrent=document.createElement("div"),r.volumeCurrent.className="fluid_control_currentvolume",r.volume.appendChild(r.volumeCurrent),r.volumeCurrentPos=document.createElement("div"),r.volumeCurrentPos.className="fluid_control_volume_currentpos",r.volumeCurrent.appendChild(r.volumeCurrentPos),r.mute=document.createElement("div"),r.mute.className="fluid_button fluid_button_volume fluid_control_mute",r.rightContainer.appendChild(r.mute);const n=document.createElement("div");return n.className="fluid_control_duration",r.duration=document.createElement("div"),r.duration.className="fluid_fluid_control_duration",r.duration.innerText="00:00 / 00:00",t.displayVolumeBar||(n.className=n.className+" no_volume_bar"),r.live_indicator=document.createElement("div"),r.live_indicator.className="fluid_control_live_indicator",n.append(r.live_indicator,r.duration),r.rightContainer.appendChild(n),r},e.showLiveIndicator=()=>{if(!e.domRef.player.parentNode.getElementsByClassName("fluid_button_live_indicator").length){const r=e.domRef.player.parentNode.getElementsByClassName("fluid_control_live_indicator"),n=document.createElement("span");n.className="fluid_button_live_indicator",n.innerHTML='LIVE<span class="live_circle"></span>',n.addEventListener("click",()=>{e.domRef.player.currentTime=e.currentVideoDuration});for(let o=0;o<r.length;o++)r[o].appendChild(n)}},e.hideLiveIndicator=()=>{const t=e.domRef.player.parentNode.getElementsByClassName("fluid_button_live_indicator")[0];t&&t.remove()},e.controlPlayPauseToggle=()=>{const t=e.domRef.player.parentNode.getElementsByClassName("fluid_control_playpause"),r=e.domRef.wrapper.querySelector(".context_option_play"),n=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_container"),o=e.domRef.wrapper.querySelector(".logo_holder");if(e.domRef.wrapper.querySelector(".fluid_initial_play")&&(e.domRef.wrapper.querySelector(".fluid_initial_play").style.display="none",e.domRef.wrapper.querySelector(".fluid_initial_play_button_container").style.opacity="1"),!e.domRef.player.paused){for(let s=0;s<t.length;s++)t[s].className=t[s].className.replace(/\bfluid_button_play\b/g,"fluid_button_pause");for(let s=0;s<n.length;s++)n[s].classList.remove("initial_controls_show");o&&o.classList.remove("initial_controls_show"),r!==null&&(r.innerHTML=e.displayOptions.captions.pause);return}for(let s=0;s<t.length;s++)t[s].className=t[s].className.replace(/\bfluid_button_pause\b/g,"fluid_button_play");for(let s=0;s<n.length;s++)n[s].classList.add("initial_controls_show");e.isCurrentlyPlayingAd&&e.displayOptions.vastOptions.showPlayButton&&(e.domRef.wrapper.querySelector(".fluid_initial_play").style.display="block",e.domRef.wrapper.querySelector(".fluid_initial_play_button_container").style.opacity="1"),o&&o.classList.add("initial_controls_show"),r!==null&&(r.innerHTML=e.displayOptions.captions.play)},e.playPauseAnimationToggle=t=>{if(e.isCurrentlyPlayingAd||!e.displayOptions.layoutControls.playPauseAnimation||e.isSwitchingSource)return;const r=e.domRef.wrapper.querySelector(".fluid_initial_play_button, .fluid_initial_pause_button");t?(r.classList.remove("fluid_initial_pause_button"),r.classList.add("fluid_initial_play_button")):(r.classList.remove("fluid_initial_play_button"),r.classList.add("fluid_initial_pause_button")),e.domRef.wrapper.querySelector(".fluid_initial_play").classList.add("transform-active"),setTimeout(function(){e.domRef.wrapper.querySelector(".fluid_initial_play").classList.remove("transform-active")},800)},e.controlProgressbarUpdate=()=>{const t=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_currentprogress");for(let r=0;r<t.length;r++)t[r].style.width=e.domRef.player.currentTime/e.currentVideoDuration*100+"%"},e.controlDurationUpdate=()=>{const t=e.formatTime(e.domRef.player.currentTime);let r=!1;e.hlsPlayer&&(r=e.hlsPlayer.levels&&e.hlsPlayer.levels[e.hlsPlayer.currentLevel]&&e.hlsPlayer.levels[e.hlsPlayer.currentLevel].details.live);let n;if(isNaN(e.currentVideoDuration)||!isFinite(e.currentVideoDuration)||r)n=t;else{const i=e.formatTime(e.currentVideoDuration);n=t+" / "+i}const o=e.domRef.player.parentNode.getElementsByClassName("fluid_control_duration");for(let i=0;i<o.length;i++){if(o[i].innerHTML="",e.isLiveStream){const a=document.createElement("span");a.className="fluid_button_live_indicator",a.innerHTML='LIVE<span class="live_circle"></span>',a.addEventListener("pointerdown",()=>{e.domRef.player.currentTime=e.currentVideoDuration}),o[i].appendChild(a)}const s=document.createElement("span");s.className="fluid_fluid_control_duration",s.innerText=n,o[i].appendChild(s)}},e.controlVolumebarUpdate=()=>{const t=e.domRef.wrapper.querySelector(".fluid_control_currentvolume"),r=e.domRef.wrapper.querySelector(".fluid_control_volume_currentpos"),n=e.domRef.wrapper.querySelector(".fluid_control_volume").clientWidth,o=r.clientWidth,i=e.domRef.player.parentNode.getElementsByClassName("fluid_control_mute"),s=e.domRef.wrapper.querySelector(".context_option_mute");if(e.domRef.player.volume!==0?(e.latestVolume=e.domRef.player.volume,e.fluidStorage.fluidMute=!1):e.fluidStorage.fluidMute=!0,e.domRef.player.volume&&!e.domRef.player.muted){for(let a=0;a<i.length;a++)i[a].className=i[a].className.replace(/\bfluid_button_mute\b/g,"fluid_button_volume");s!==null&&(s.innerHTML=e.displayOptions.captions.mute)}else{for(let a=0;a<i.length;a++)i[a].className=i[a].className.replace(/\bfluid_button_volume\b/g,"fluid_button_mute");s!==null&&(s.innerHTML=e.displayOptions.captions.unmute)}t.style.width=e.domRef.player.volume*n+"px",r.style.left=e.domRef.player.volume*n-o/2+"px"},e.muteToggle=()=>{e.domRef.player.volume!==0&&!e.domRef.player.muted?(e.domRef.player.volume=0,e.domRef.player.muted=!0):(e.domRef.player.volume=e.latestVolume,e.domRef.player.muted=!1),e.fluidStorage.fluidVolume=e.latestVolume,e.fluidStorage.fluidMute=e.domRef.player.muted,e.trackMuteChange()},e.checkFullscreenSupport=()=>{const t=e.domRef.wrapper;return t.mozRequestFullScreen?{goFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen",isFullscreen:"mozFullScreenElement"}:t.webkitRequestFullscreen?{goFullscreen:"webkitRequestFullscreen",exitFullscreen:"webkitExitFullscreen",isFullscreen:"webkitFullscreenElement"}:t.msRequestFullscreen?{goFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen",isFullscreen:"msFullscreenElement"}:t.requestFullscreen?{goFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen",isFullscreen:"fullscreenElement"}:e.domRef.player.webkitSupportsFullscreen?{goFullscreen:"webkitEnterFullscreen",exitFullscreen:"webkitExitFullscreen",isFullscreen:"webkitDisplayingFullscreen"}:!1},e.fullscreenOff=(t,r)=>{for(let n=0;n<t.length;n++)t[n].className=t[n].className.replace(/\bfluid_button_fullscreen_exit\b/g,"fluid_button_fullscreen");r!==null&&(r.innerHTML="Fullscreen"),e.fullscreenMode=!1},e.fullscreenOn=(t,r)=>{for(let n=0;n<t.length;n++)t[n].className=t[n].className.replace(/\bfluid_button_fullscreen\b/g,"fluid_button_fullscreen_exit");r!==null&&(r.innerHTML=e.displayOptions.captions.exitFullscreen),e.fullscreenMode=!0},e.fullscreenToggle=(t=!1)=>{e.debugMessage("Toggling Full Screen");const r=e.domRef.player,n=e.domRef.wrapper,o=e.checkFullscreenSupport(),i=r.parentNode.getElementsByClassName("fluid_control_fullscreen"),s=n.querySelector(".context_option_fullscreen"),a=e.getPreviousDisplayMode();e.resetDisplayMode(We.FULLSCREEN);let l;o?o.goFullscreen==="webkitEnterFullscreen"?r[o.isFullscreen]||(l="videoPlayerTag."+o.goFullscreen+"();",e.fullscreenOn(i,s),new Function("videoPlayerTag",l)(r)):(document[o.isFullscreen]===null?(l="videoPlayerTag."+o.goFullscreen+"();",e.fullscreenOn(i,s)):(l="document."+o.exitFullscreen+"();",e.fullscreenOff(i,s)),new Function("videoPlayerTag",l)(n)):n.className.search(/\bpseudo_fullscreen\b/g)!==-1?(n.className=n.className.replace(/\bpseudo_fullscreen\b/g,""),e.fullscreenOff(i,s)):(n.className+=" pseudo_fullscreen",e.fullscreenOn(i,s)),e.resizeVpaidAuto(),e.domRef.player.addEventListener("webkitendfullscreen",()=>{e.fullscreenOff(i,s)}),t||e.trackPlayerSizeChanged(a)},e.findClosestParent=(t,r)=>{let n=null;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(i){return typeof document.body[i]=="function"?(n=i,!0):!1});let o;if(t[n](r))return t;for(;t;){if(o=t.parentElement,o&&o[n](r))return o;t=o}return null},e.getTranslateX=t=>{let r=null;try{const n=t.style.transform.match(/translate3d\((-?\d+px,\s?){2}-?\d+px\)/);n&&n.length&&(r=n[0].replace("translate3d(","").replace(")","").replace(/\s/g,"").replace(/px/g,"").split(","))}catch{r=null}return r&&r.length===3?parseInt(r[0]):0},e.getEventOffsetX=(t,r)=>{let n=0,o=0;for(;r&&!isNaN(r.offsetLeft);)o=e.getTranslateX(r),r.tagName==="BODY"?n+=r.offsetLeft+r.clientLeft+o-(r.scrollLeft||document.documentElement.scrollLeft):n+=r.offsetLeft+r.clientLeft+o-r.scrollLeft,r=r.offsetParent;let i;return typeof t.touches<"u"&&typeof t.touches[0]<"u"?i=t.touches[0].clientX:i=t.clientX,i-n},e.getEventOffsetY=(t,r)=>{let n=1;const o=e.checkFullscreenSupport();o&&document[o.isFullscreen]&&(n=0);let i=0;for(;r&&!isNaN(r.offsetTop);)r.tagName==="BODY"?i+=r.offsetTop-(r.scrollTop||document.documentElement.scrollTop)*n:i+=r.offsetTop-r.scrollTop*n,r=r.offsetParent;return t.clientY-i},e.onProgressbarMouseDown=t=>{e.displayOptions.layoutControls.playPauseAnimation=!1;let r;if(e.displayOptions.layoutControls.showCardBoardView?r=e.getEventOffsetX(t,t.target.parentNode):r=e.getEventOffsetX(t,e.domRef.wrapper.querySelector(".fluid_controls_progress_container")),e.isCurrentlyPlayingAd)return;e.fluidPseudoPause=!0;const n=e.domRef.player.paused;n||e.domRef.player.pause(),e.updatePreviousTime();const o=a=>{const l=e.domRef.wrapper.querySelector(".fluid_controls_progress_container").clientWidth;if(!l){e.hideSuggestedVideos();return}const u=Math.abs(e.currentVideoDuration*a/l);e.domRef.player.currentTime=u,e.getBrowserVersion().browserName.toLowerCase()==="safari"&&(e.domRef.player.safariPlayheadPosition=u),e.hideSuggestedVideos()},i=a=>{const l=e.getEventOffsetX(a,a.target.parentNode);r=NaN,o(l),e.controlProgressbarUpdate(),e.controlDurationUpdate()},s=a=>{document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i),document.removeEventListener("mouseup",s),document.removeEventListener("touchend",s);let l=e.getEventOffsetX(a,a.target.parentNode);isNaN(l)&&!isNaN(r)&&(l=r),isNaN(l)||o(l),n||e.play(),e.initialAnimationSet&&setTimeout(()=>{e.displayOptions.layoutControls.playPauseAnimation=e.initialAnimationSet},200),e.fluidPseudoPause=!1};document.addEventListener("mouseup",s),document.addEventListener("touchend",s,{passive:!0}),document.addEventListener("mousemove",i),document.addEventListener("touchmove",i,{passive:!0})},e.onVolumeBarMouseDown=()=>{const t=o=>{const i=e.domRef.controls.volumeContainer.clientWidth;if(i){let s=o/i;s<.05?(s=0,e.domRef.player.muted=!0):s>.95&&(s=1),e.domRef.player.muted&&s>0&&(e.domRef.player.muted=!1),e.setVolume(s)}},r=o=>{const i=e.getEventOffsetX(o,e.domRef.controls.volumeContainer);t(i)},n=o=>{document.removeEventListener("mousemove",r),document.removeEventListener("touchmove",r),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n);const i=e.getEventOffsetX(o,e.domRef.controls.volumeContainer);isNaN(i)||t(i)};document.addEventListener("mouseup",n),document.addEventListener("touchend",n,{passive:!0}),document.addEventListener("mousemove",r),document.addEventListener("touchmove",r,{passive:!0})},e.onVideoSeeked=()=>{e.previousTime&&e.domRef.player.currentTime<e.previousTime&&(e.debugMessage("Video rewound from",e.previousTime,"to",e.domRef.player.currentTime),e.trackRewindAd()),e.updatePreviousTime()},e.findRoll=t=>{const r=[];if(r.length=0,!(!t||!e.hasOwnProperty("rollsById"))){for(let n in e.rollsById)e.rollsById.hasOwnProperty(n)&&e.rollsById[n].roll===t&&r.push(n);return r}},e.onKeyboardVolumeChange=t=>{let r=e.domRef.player.volume;t==="asc"?r+=.05:t==="desc"&&(r-=.05),r<.05?r=0:r>.95&&(r=1),e.setVolume(r)},e.onKeyboardSeekPosition=t=>{e.isCurrentlyPlayingAd||(e.domRef.player.currentTime=e.getNewCurrentTimeValueByKeyCode(t,e.domRef.player.currentTime,e.domRef.player.duration))},e.getNewCurrentTimeValueByKeyCode=(t,r,n)=>{let o=r;switch(t){case 35:o=n;break;case 36:o=0;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:if(t<58&&t>47){const i=(t-48)*10;o=n*i/100}break}return o},e.handleMouseleave=t=>{typeof t.clientX<"u"&&e.domRef.wrapper.contains(document.elementFromPoint(t.clientX,t.clientY))||(e.hideControlBar(),e.hideTitle())},e.handleMouseenterForKeyboard=()=>{e.captureKey||(e.captureKey=t=>{t.stopPropagation();const r=t.keyCode;switch(r){case 70:e.fullscreenToggle(),t.preventDefault();break;case 13:case 32:e.playPauseToggle(),t.preventDefault();break;case 77:e.muteToggle(),t.preventDefault();break;case 38:e.onKeyboardVolumeChange("asc"),t.preventDefault();break;case 40:e.onKeyboardVolumeChange("desc"),t.preventDefault();break;case 37:e.skipRelative(-e.timeSkipOffsetAmount);break;case 39:e.skipRelative(e.timeSkipOffsetAmount);break;case 35:case 36:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:e.onKeyboardSeekPosition(r),t.preventDefault();break;case 73:e.toggleMiniPlayer(void 0,!0);break;case 187:case 61:case 43:case 107:case 171:e.displayOptions.layoutControls.subtitlesEnabled&&e.adjustSubtitleSizeByOperation("+");break;case 189:case 173:case 45:case 109:e.displayOptions.layoutControls.subtitlesEnabled&&e.adjustSubtitleSizeByOperation("-");break}return!1},document.addEventListener("keydown",e.captureKey,!0))},e.keyboardControl=()=>{e.domRef.wrapper.addEventListener("click",e.handleMouseenterForKeyboard,!1);const t=e.handleWindowClick.bind(e);e.destructors.push(()=>{window.removeEventListener("click",t)}),window.addEventListener("click",t)},e.handleWindowClick=t=>{if(!e.domRef.wrapper){console.warn("Dangling click event listener should be collected for unknown wrapper.Did you forget to call destroy on player instance?");return}e.domRef.wrapper.contains(t.target)||t.target.classList.contains(".js-skipHref")||(document.removeEventListener("keydown",e.captureKey,!0),delete e.captureKey,e.theatreMode&&!e.theatreModeAdvanced&&e.theatreToggle())},e.initialPlay=()=>{if(e.domRef.player.addEventListener("playing",()=>{e.toggleLoader(!1)}),e.domRef.player.addEventListener("timeupdate",()=>{e.toggleLoader(!1)}),e.domRef.player.addEventListener("waiting",()=>{e.toggleLoader(!0)}),!e.displayOptions.layoutControls.playButtonShowing){e.domRef.wrapper.querySelector(".fluid_controls_container").classList.remove("initial_controls_show");const r=e.domRef.wrapper.querySelector(".logo_holder");r&&r.classList.remove("initial_controls_show")}e.firstPlayLaunched||(e.playPauseToggle(),e.domRef.player.removeEventListener("play",e.initialPlay))},e.playPauseToggle=()=>{e.hideSuggestedVideos();const t=!e.firstPlayLaunched,r=e.findRoll("preRoll");if(!t||r.length===0)t&&r.length===0&&(e.firstPlayLaunched=!0,e.displayOptions.vastOptions.vastAdvanced.noVastVideoCallback()),e.domRef.player.paused?(e.isCurrentlyPlayingAd&&e.vastOptions!==null&&e.vastOptions.vpaid?e.resumeVpaidAd():(Math.floor(e.domRef.player.currentTime)!==0&&Math.floor(e.currentVideoDuration)===Math.floor(e.domRef.player.currentTime)&&(e.initialiseStreamers(),e.domRef.player.currentTime=0),e.hlsPlayer&&!e.hlsPlayer.config.autoStartLoad&&e.hlsPlayer.startLoad(),e.dashPlayer?e.dashPlayer.play():(e.domRef.player.play(),e.fluidPseudoPause||e.trackPlayPauseChange())),e.playPauseAnimationToggle(!0)):t||(e.isCurrentlyPlayingAd&&e.vastOptions!==null&&e.vastOptions.vpaid?e.pauseVpaidAd():(e.domRef.player.pause(),e.trackPlayPauseChange()),e.playPauseAnimationToggle(!1)),e.toggleOnPauseAd();else{e.isCurrentlyPlayingAd=!0;const i=e.getBrowserVersion(),s=e.mobileInfo.userOs!==!1&&e.mobileInfo.userOs==="Android"&&i.browserName==="Google Chrome";(i.browserName==="Safari"||s)&&(e.domRef.player.src="https://cdn.fluidplayer.com/static/blank.mp4",e.domRef.player.play(),e.playPauseAnimationToggle(!0)),e.firstPlayLaunched=!0,e.prepareVast("preRoll"),e.preRollAdPodsLength=r.length}const n=()=>{e.prepareVast("onPauseRoll"),e.scheduleOnDemandRolls()};if(t){const i=e.domRef.wrapper.querySelector(".fluid_pseudo_poster");i&&i.parentNode.removeChild(i),e.mainVideoDuration>0?n():e.domRef.player.addEventListener("mainVideoDurationSet",n)}e.adTimer();const o=e.domRef.wrapper.querySelector(".fluid_html_on_pause_container");o&&!e.isCurrentlyPlayingAd&&(e.domRef.player.paused?o.style.display="flex":o.style.display="none")},e.setCustomControls=()=>{e.trackEvent(e.domRef.player.parentNode,"click",".fluid_control_playpause",()=>{e.firstPlayLaunched||e.domRef.player.removeEventListener("play",e.initialPlay),e.playPauseToggle()},!1),e.domRef.player.addEventListener("play",()=>{e.controlPlayPauseToggle(),e.controlVolumebarUpdate()},!1),e.domRef.player.addEventListener("fluidplayerpause",()=>{e.controlPlayPauseToggle()},!1),e.domRef.player.addEventListener("timeupdate",()=>{e.controlProgressbarUpdate(),e.controlDurationUpdate()});const r=e.getMobileOs().userOs?"touchstart":"mousedown";e.displayOptions.layoutControls.showCardBoardView?e.trackEvent(e.domRef.player.parentNode,r,".fluid_controls_progress_container",n=>e.onProgressbarMouseDown(n),!1):e.domRef.wrapper.querySelector(".fluid_controls_progress_container").addEventListener(r,n=>e.onProgressbarMouseDown(n),{passive:!0}),e.domRef.wrapper.querySelector(".fluid_control_volume_container").addEventListener(r,n=>e.onVolumeBarMouseDown(),{passive:!0}),e.domRef.player.addEventListener("volumechange",()=>e.controlVolumebarUpdate()),e.trackEvent(e.domRef.player.parentNode,"click",".fluid_control_mute",()=>e.muteToggle()),e.setBuffering(),e.trackEvent(e.domRef.player.parentNode,"click",".fluid_control_fullscreen",()=>e.fullscreenToggle()),e.displayOptions.layoutControls.allowTheatre&&!e.isInIframe?(e.domRef.wrapper.querySelector(".fluid_control_theatre").style.display="inline-block",e.trackEvent(e.domRef.player.parentNode,"click",".fluid_control_theatre",()=>e.theatreToggle())):e.domRef.wrapper.querySelector(".fluid_control_theatre").style.display="none",e.displayOptions.layoutControls.miniPlayer.enabled&&!e.isInIframe&&e.trackEvent(e.domRef.player.parentNode,"click",".fluid_control_mini_player",()=>e.toggleMiniPlayer(void 0,!0)),e.domRef.player.addEventListener("ratechange",()=>{e.isCurrentlyPlayingAd&&(e.playbackRate=1)})},e.createTimePositionPreview=()=>{if(!e.showTimeOnHover)return;const t=e.domRef.wrapper.querySelector(".fluid_controls_progress_container"),r=document.createElement("div");r.className="fluid_timeline_preview",r.style.display="none",r.style.position="absolute",t.appendChild(r),e.domRef.wrapper.querySelector(".fluid_controls_progress_container").addEventListener("mousemove",n=>{const o=e.domRef.wrapper.querySelector(".fluid_controls_progress_container"),i=o.clientWidth,s=e.domRef.wrapper.querySelector(".fluid_timeline_preview"),a=e.getEventOffsetX(n,o),l=e.currentVideoDuration*a/i;s.innerText=e.formatTime(l),s.style.display="block",s.style.left=l/e.domRef.player.duration*100+"%"},!1),e.domRef.wrapper.querySelector(".fluid_controls_progress_container").addEventListener("mouseout",()=>{const n=e.domRef.wrapper.querySelector(".fluid_timeline_preview");n.style.display="none"},!1)},e.setCustomContextMenu=()=>{const t=e.domRef.wrapper,r=e.displayOptions.layoutControls.contextMenu.controls,n=e.displayOptions.layoutControls.contextMenu.links,o=document.createElement("div");o.className="fluid_context_menu",o.style.display="none",o.style.position="absolute";const i=document.createElement("ul");if(o.appendChild(i),Array.isArray(n)&&n.forEach(function(l,u){const c=document.createElement("li");c.innerHTML=l.label,c.addEventListener("click",()=>window.open(l.href,"_blank"),!1),i.appendChild(c)}),r){const a=document.createElement("li");a.className="context_option_play",a.innerHTML=e.displayOptions.captions.play,a.addEventListener("click",()=>e.playPauseToggle(),!1),i.appendChild(a);const l=document.createElement("li");l.className="context_option_mute",l.innerHTML=e.displayOptions.captions.mute,l.addEventListener("click",()=>e.muteToggle(),!1),i.appendChild(l);const u=document.createElement("li");u.className="context_option_fullscreen",u.innerHTML=e.displayOptions.captions.fullscreen,u.addEventListener("click",()=>e.fullscreenToggle(),!1),i.appendChild(u)}const s=document.createElement("li");s.innerHTML="Fluid Player "+e.version,s.addEventListener("click",()=>window.open(e.homepage,"_blank"),!1),i.appendChild(s),e.domRef.player.parentNode.insertBefore(o,e.domRef.player.nextSibling),t.addEventListener("contextmenu",a=>{a.preventDefault(),o.style.left=e.getEventOffsetX(a,e.domRef.player)+"px",o.style.top=e.getEventOffsetY(a,e.domRef.player)+"px",o.style.display="block"},!1),document.addEventListener("click",a=>{(a.target!==e.domRef.player||a.button!==2)&&(o.style.display="none")},!1)},e.setDefaultLayout=()=>{e.domRef.wrapper.className+=" fluid_player_layout_"+e.displayOptions.layoutControls.layout,e.setCustomContextMenu();const t=e.generateCustomControlTags({displayVolumeBar:e.checkShouldDisplayVolumeBar(),primaryColor:e.displayOptions.layoutControls.primaryColor?e.displayOptions.layoutControls.primaryColor:"red",controlForwardBackward:!!e.displayOptions.layoutControls.controlForwardBackward.show,miniPlayer:e.displayOptions.layoutControls.miniPlayer});e.domRef.player.removeAttribute("controls"),e.domRef.player.parentNode.insertBefore(t.root,e.domRef.player.nextSibling),e.domRef.player.parentNode.insertBefore(t.loader,e.domRef.player.nextSibling),e.domRef.controls=t;let r=100,o=setInterval(function(){r?e.checkIfVolumebarIsRendered()?(clearInterval(o),e.controlVolumebarUpdate()):r--:clearInterval(o)},100);if(e.destructors.push(()=>clearInterval(o)),e.displayOptions.layoutControls.doubleclickFullscreen&&!(e.isTouchDevice()||!e.displayOptions.layoutControls.controlForwardBackward.doubleTapMobile)&&e.domRef.player.addEventListener("dblclick",e.fullscreenToggle),e.getMobileOs().userOs==="iOS"){let i=!1;new IntersectionObserver(a=>{a.forEach(l=>{l.isIntersecting?(e.domRef.player.inView=!0,e.displayOptions.layoutControls.autoRotateFullScreen&&e.isTouchDevice()&&!i&&(window.matchMedia("(orientation: landscape)").addEventListener("change",e.handleOrientationChange),i=!0)):e.domRef.player.inView=!1})}).observe(e.domRef.player)}e.initHtmlOnPauseBlock(),e.setCustomControls(),e.setupThumbnailPreview(),e.createTimePositionPreview(),e.posterImage(),e.initPlayButton(),e.setVideoPreload(),e.createPlaybackList(),e.createDownload(),e.toggleMiniPlayerScreenDetection(),e.displayOptions.layoutControls.controlForwardBackward.show&&e.initSkipControls(),e.displayOptions.layoutControls.controlForwardBackward.doubleTapMobile&&e.initDoubleTapSkip(),e.initSkipAnimationElements()},e.initSkipControls=()=>{e.domRef.controls.skipBack.addEventListener("click",e.skipRelative.bind(this,-e.timeSkipOffsetAmount)),e.domRef.controls.skipForward.addEventListener("click",e.skipRelative.bind(this,e.timeSkipOffsetAmount))},e.handleOrientationChange=()=>{const t=window.matchMedia("(orientation: landscape)").matches,r=e.domRef.player,n=e.domRef.wrapper,o=e.checkFullscreenSupport(),i=r.parentNode.getElementsByClassName("fluid_control_fullscreen"),s=n.querySelector(".context_option_fullscreen");let a;t&&e.domRef.player.inView?o?o.goFullscreen==="webkitEnterFullscreen"?(a="videoPlayerTag."+o.goFullscreen+"();",e.fullscreenOn(i,s),new Function("videoPlayerTag",a)(r)):(document[o.isFullscreen]===null&&(a="videoPlayerTag."+o.goFullscreen+"();",e.fullscreenOn(i,s)),new Function("videoPlayerTag",a)(n)):(n.className+=" pseudo_fullscreen",e.fullscreenOn(i,s)):(n.className=n.className.replace(/\bpseudo_fullscreen\b/g,""),o?(a="document."+o.exitFullscreen+"();",e.fullscreenOff(i,s),new Function("videoPlayerTag",a)(n)):n.className.search(/\bpseudo_fullscreen\b/g)!==-1&&(n.className=n.className.replace(/\bpseudo_fullscreen\b/g,""),e.fullscreenOff(i,s))),e.resizeVpaidAuto()},e.updatePreviousTime=()=>{e.previousTime=e.domRef.player.currentTime},e.getPreviousDisplayMode=()=>e.fullscreenMode?We.FULLSCREEN:e.theatreMode?We.THEATER:e.miniPlayerToggledOn?We.MINI_PLAYER:We.NORMAL,e.initSkipAnimationElements=function(){const r=document.createElement("div");r.classList.add("fluid_player_skip_offset");const n=document.createElement("div");n.classList.add("fluid_player_skip_offset__backward"),r.appendChild(n);const o=document.createElement("div");o.classList.add("fluid_player_skip_offset__backward-icon"),o.ontransitionend=()=>o.classList.remove("animate"),n.appendChild(o);const i=document.createElement("div");i.classList.add("fluid_player_skip_offset__forward"),r.appendChild(i);const s=document.createElement("div");s.classList.add("fluid_player_skip_offset__forward-icon"),s.ontransitionend=()=>s.classList.remove("animate"),i.appendChild(s),e.domRef.player.parentNode.insertBefore(r,e.domRef.player.nextSibling)},e.initDoubleTapSkip=()=>{let t=!1,r=[];function n(){r.forEach(o=>clearTimeout(o)),r=[]}e.domRef.player.addEventListener("pointerdown",o=>{if(!e.isTouchDevice())return;const i=e.isControlBarVisible(),{offsetX:s}=o,{clientWidth:a}=e.domRef.player;if(r.push(setTimeout(()=>{t=!1,i&&e.playPauseToggle()},300)),t)return n(),t=!1,e.skipRelative(s<a/2?-e.timeSkipOffsetAmount:e.timeSkipOffsetAmount);t=!0})},e.skipRelative=function(r){if(e.debugMessage("skipping video time by ",r),e.isCurrentlyPlayingAd)return;e.updatePreviousTime();let n=e.domRef.player.currentTime+r;n<0&&(n=0),e.domRef.player.currentTime=n,r>=0?e.domRef.wrapper.querySelector(".fluid_player_skip_offset__forward-icon").classList.add("animate"):e.domRef.wrapper.querySelector(".fluid_player_skip_offset__backward-icon").classList.add("animate")},e.checkIfVolumebarIsRendered=()=>{const t=e.domRef.wrapper.querySelector(".fluid_control_volume_currentpos"),r=e.domRef.wrapper.querySelector(".fluid_control_volume").clientWidth;return t.clientWidth!==r},e.setLayout=()=>{e.isTouchDevice()||e.domRef.player.addEventListener("click",()=>e.playPauseToggle(),!1),e.domRef.player.addEventListener("play",e.initialPlay,!1),e.setDefaultLayout()},e.handleFullscreen=()=>{typeof document.vastFullsreenChangeEventListenersAdded<"u"||(["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(t=>{typeof document["on"+t]=="object"&&document.addEventListener(t,function(r){e.recalculateAdDimensions()},!1)}),document.vastFullsreenChangeEventListenersAdded=!0)},e.setupPlayerWrapper=()=>{const t=document.createElement("div");t.id="fluid_video_wrapper_"+e.videoPlayerId,t.className=e.isTouchDevice()?"fluid_video_wrapper mobile":"fluid_video_wrapper",e.displayOptions.layoutControls.fillToContainer?(t.style.width="100%",t.style.height="100%"):(t.style.height=e.domRef.player.clientHeight+"px",t.style.width=e.domRef.player.clientWidth+"px");const r=()=>{const n=e.displayOptions.layoutControls.roundedCorners,o=Number(n);return!isNaN(o)&&o!==0?`${o}px`:n};return t.style.borderRadius=e.domRef.player.style.borderRadius=r(),t.style.overflow="hidden",e.domRef.player.style.height="100%",e.domRef.player.style.width="100%",e.domRef.player.parentNode.insertBefore(t,e.domRef.player),t.appendChild(e.domRef.player),t},e.onErrorDetection=()=>{e.domRef.player.networkState===e.domRef.player.NETWORK_NO_SOURCE&&e.isCurrentlyPlayingAd&&e.playMainVideoWhenVastFails(401)},e.createVideoSourceSwitch=(t=!0)=>{const r=[],n=e.domRef.player.querySelectorAll("source");[].forEach.call(n,l=>{l.title&&l.src&&r.push({title:l.title,url:l.src,isHD:l.getAttribute("data-fluid-hd")!=null})});const o=e.domRef.wrapper.querySelector(".fluid_control_video_source");if(e.videoSources=r,e.videoSources.length>1?o.style.display="inline-block":o.style.display="none",e.videoSources.length<=1)return;let i=!1;const s=document.createElement("div");s.className="fluid_video_sources_list",s.style.display="none";let a=!0;for(const l of e.videoSources){const u=l.url.split(".").pop();if(e.mobileInfo.userOs==="iOS"&&u==="mkv")continue;a&&!t&&(e.domRef.player.src=l.url);const c=a?"source_selected":"",d=l.isHD?'<sup style="color:'+e.displayOptions.layoutControls.primaryColor+'" class="fp_hd_source"></sup>':"";a=!1;const h=document.createElement("div");h.className="fluid_video_source_list_item js-source_"+l.title,h.innerHTML='<span class="source_button_icon '+c+'"></span>'+l.title+d,h.addEventListener("click",function(p){p.stopPropagation(),e.domRef.player.style.width=e.domRef.player.clientWidth+"px",e.domRef.player.style.height=e.domRef.player.clientHeight+"px";const w=this,m=e.domRef.wrapper.getElementsByClassName("source_button_icon");for(let _=0;_<m.length;_++)m[_].className=m[_].className.replace("source_selected","");w.firstChild.className+=" source_selected",e.videoSources.forEach(_=>{_.title===w.innerText.replace(/(\r\n\t|\n|\r\t)/gm,"")&&(e.setBuffering(),e.setVideoSource(_.url),e.fluidStorage.fluidQuality=_.title)}),e.openCloseVideoSourceSwitch()}),s.appendChild(h),i=!0}i?(o.appendChild(s),o.removeEventListener("click",e.openCloseVideoSourceSwitch),o.addEventListener("click",e.openCloseVideoSourceSwitch)):e.domRef.wrapper.querySelector(".fluid_control_video_source").style.display="none"},e.openCloseVideoSourceSwitch=()=>{const t=e.domRef.wrapper.querySelector(".fluid_video_sources_list");if(e.isCurrentlyPlayingAd||e.isShowingSuggestedVideos()){t.style.display="none";return}if(t.style.display!=="none"){t.style.display="none";return}t.style.display="block";const r=()=>{t.removeEventListener("mouseleave",r),t.style.display="none"};t.addEventListener("mouseleave",r)},e.setVideoSource=t=>{if(e.mobileInfo.userOs==="iOS"&&t.indexOf(".mkv")>0)return console.log("[FP_ERROR] .mkv files not supported by iOS devices."),!1;if(e.isCurrentlyPlayingAd){e.originalSrc=t;return}e.isSwitchingSource=!0;let r=!1;e.domRef.player.paused||(e.domRef.player.pause(),r=!0);const n=e.domRef.player.currentTime;e.setCurrentTimeAndPlay(n,r),e.domRef.player.src=t,e.originalSrc=t,e.displayOptions.layoutControls.mediaType=e.getCurrentSrcType(),e.initialiseStreamers()},e.setCurrentTimeAndPlay=(t,r)=>{const n=()=>{e.domRef.player.currentTime=t,e.domRef.player.removeEventListener("loadedmetadata",n),(e.mobileInfo.userOs==="iOS"||e.getBrowserVersion().browserName.toLowerCase()==="safari")&&e.domRef.player.addEventListener("playing",o),r?e.domRef.player.play():(e.domRef.player.pause(),e.controlPlayPauseToggle()),e.isSwitchingSource=!1,e.domRef.player.style.width="100%",e.domRef.player.style.height="100%"};let o=()=>{e.currentTime=t,e.domRef.player.removeEventListener("playing",o)};e.domRef.player.addEventListener("loadedmetadata",n,!1),e.domRef.player.load()},e.initTitle=()=>{if(!e.displayOptions.layoutControls.title)return;const t=document.createElement("div");e.domRef.player.parentNode.insertBefore(t,null),t.innerHTML+=e.displayOptions.layoutControls.title,t.classList.add("fp_title")},e.hasTitle=()=>{const t=e.domRef.wrapper.querySelector(".fp_title"),r=e.displayOptions.layoutControls.title;return t&&r!=null},e.hideTitle=()=>{const t=e.domRef.wrapper.querySelector(".fp_title");e.hasTitle()&&t.classList.add("fade_out")},e.showTitle=()=>{const t=e.domRef.wrapper.querySelector(".fp_title");e.hasTitle()&&t.classList.remove("fade_out")},e.initLogo=()=>{if(!e.displayOptions.layoutControls.logo.imageUrl)return;const t=document.createElement("div");t.className="logo_holder",e.displayOptions.layoutControls.logo.hideWithControls?t.classList.add("initial_controls_show","fp_logo"):t.classList.add("logo_maintain_display");const r=document.createElement("img");e.displayOptions.layoutControls.logo.imageUrl&&(r.src=e.displayOptions.layoutControls.logo.imageUrl),r.style.position="absolute",r.style.margin=e.displayOptions.layoutControls.logo.imageMargin;const n=e.displayOptions.layoutControls.logo.position.toLowerCase();n.indexOf("bottom")!==-1?r.style.bottom=0:r.style.top=0,n.indexOf("right")!==-1?r.style.right=0:r.style.left=0,e.displayOptions.layoutControls.logo.opacity&&(r.style.opacity=e.displayOptions.layoutControls.logo.opacity),e.displayOptions.layoutControls.logo.clickUrl!==null&&(r.style.cursor="pointer",r.addEventListener("click",function(){window.open(e.displayOptions.layoutControls.logo.clickUrl,"_blank").focus()})),e.displayOptions.layoutControls.logo.mouseOverImageUrl&&(r.addEventListener("mouseover",function(){r.src=e.displayOptions.layoutControls.logo.mouseOverImageUrl},!1),r.addEventListener("mouseout",function(){r.src=e.displayOptions.layoutControls.logo.imageUrl},!1)),e.domRef.player.parentNode.insertBefore(t,null),t.appendChild(r,null)},e.initHtmlOnPauseBlock=()=>{if(e.hasValidOnPauseAd()||!e.displayOptions.layoutControls.htmlOnPauseBlock.html)return;const t=document.createElement("div");t.className="fluid_html_on_pause_container",t.style.display="none",t.innerHTML=e.displayOptions.layoutControls.htmlOnPauseBlock.html,t.onclick=function(r){e.playPauseToggle()},e.displayOptions.layoutControls.htmlOnPauseBlock.width&&(t.style.width=e.displayOptions.layoutControls.htmlOnPauseBlock.width+"px"),e.displayOptions.layoutControls.htmlOnPauseBlock.height&&(t.style.height=e.displayOptions.layoutControls.htmlOnPauseBlock.height+"px"),e.domRef.player.parentNode.insertBefore(t,null)},e.initPlayButton=()=>{const t=document.createElement("div");t.className="fluid_html_on_pause fluid_initial_play_button_container";const r=e.displayOptions.layoutControls.primaryColor?e.displayOptions.layoutControls.primaryColor:"#333333";t.innerHTML='<div class="fluid_initial_play" style="background-color:'+r+'"><div class="fluid_initial_play_button"></div></div>';const n=["click","touchend"],o=function(){e.playPauseToggle(),n.forEach(i=>t.removeEventListener(i,o))};n.forEach(i=>t.addEventListener(i,o)),e.displayOptions.layoutControls.playButtonShowing||(e.domRef.wrapper.querySelector(".fluid_controls_container").classList.add("initial_controls_show"),t.style.opacity="0"),e.domRef.player.parentNode.insertBefore(t,null)},e.mainVideoReady=()=>{if(!(e.mainVideoDuration===0&&!e.isCurrentlyPlayingAd&&e.mainVideoReadyState===!1))return;const t=new CustomEvent("mainVideoDurationSet");e.mainVideoDuration=e.domRef.player.duration,e.mainVideoReadyState=!0,e.domRef.player.dispatchEvent(t),e.domRef.player.removeEventListener("loadedmetadata",e.mainVideoReady)},e.userActivityChecker=()=>{const t=e.domRef.wrapper;e.newActivity=null;let r=!1;const n=s=>{(s.type==="touchstart"||s.type==="mousedown")&&(r=!0),(s.type==="touchend"||s.type==="mouseup")&&(r=!1),e.newActivity=!0},o=setInterval(()=>{if(e.newActivity===!0){if(!r&&!e.isLoading&&(e.newActivity=!1),e.isUserActive===!1||!e.isControlBarVisible()){let s=new CustomEvent("userActive");e.domRef.player.dispatchEvent(s),e.isUserActive=!0}clearTimeout(e.inactivityTimeout),e.inactivityTimeout=setTimeout(()=>{if(e.newActivity===!0){clearTimeout(e.inactivityTimeout);return}e.isUserActive=!1;let s=new CustomEvent("userInactive");e.domRef.player.dispatchEvent(s)},e.displayOptions.layoutControls.controlBar.autoHideTimeout*1e3)}},300);e.destructors.push(()=>clearInterval(o));const i=e.isTouchDevice()?["touchstart","touchmove","touchend"]:["mousemove","mousedown","mouseup"];for(let s=0;s<i.length;s++)t.addEventListener(i[s],n,{passive:!0})},e.hasControlBar=()=>!!e.domRef.wrapper.querySelector(".fluid_controls_container"),e.isControlBarVisible=()=>{if(e.hasControlBar()===!1)return!1;const t=e.domRef.wrapper.querySelector(".fluid_controls_container"),r=window.getComputedStyle(t,null);return!(r.opacity===0||r.visibility==="hidden")},e.setVideoPreload=()=>{e.domRef.player.setAttribute("preload",e.displayOptions.layoutControls.preload)},e.hideControlBar=()=>{if(e.isCurrentlyPlayingAd&&!e.domRef.player.paused&&e.toggleAdCountdown(!0),e.domRef.player.style.cursor="none",!e.hasControlBar())return;const t=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_container"),r=e.domRef.player.parentNode.getElementsByClassName("fp_logo");for(let n=0;n<t.length;n++)e.displayOptions.layoutControls.controlBar.animated?(t[n].classList.remove("fade_in"),t[n].classList.add("fade_out")):t[n].style.display="none";if(e.displayOptions.layoutControls.logo.hideWithControls)for(let n=0;n<r.length;n++)e.displayOptions.layoutControls.controlBar.animated?r[n]&&(r[n].classList.remove("fade_in"),r[n].classList.add("fade_out")):r[n]&&(r[n].style.display="none");e.repositionSubtitlesContainer("12px")},e.showControlBar=t=>{if(e.isCurrentlyPlayingAd&&!e.domRef.player.paused&&e.toggleAdCountdown(!1),(t.type==="mouseenter"||t.type==="userActive")&&(e.domRef.player.style.cursor="default"),!e.hasControlBar())return;const r=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_container"),n=e.domRef.player.parentNode.getElementsByClassName("fp_logo");for(let o=0;o<r.length;o++)e.displayOptions.layoutControls.controlBar.animated?(r[o].classList.remove("fade_out"),r[o].classList.add("fade_in")):r[o].style.display="block";if(e.displayOptions.layoutControls.logo.hideWithControls)for(let o=0;o<n.length;o++)e.displayOptions.layoutControls.controlBar.animated?n[o]&&(n[o].classList.remove("fade_out"),n[o].classList.add("fade_in")):n[o]&&(n[o].style.display="block");e.repositionSubtitlesContainer("46px")},e.linkControlBarUserActivity=()=>{e.domRef.player.addEventListener("userInactive",e.hideControlBar),e.domRef.player.addEventListener("userInactive",e.hideTitle),e.domRef.player.addEventListener("userActive",e.showControlBar),e.domRef.player.addEventListener("userActive",e.showTitle)},e.initMute=()=>{e.displayOptions.layoutControls.mute===!0&&(e.domRef.player.volume=0)},e.initLoop=()=>{e.domRef.player.loop=!!e.displayOptions.layoutControls.loop},e.setBuffering=()=>{let t;const r=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_buffered");for(let o=0;o<r.length;o++)r[o].style.width=0;t=setInterval(()=>{const o=e.domRef.player.duration;if(!(o<=0))for(let i=0;i<e.domRef.player.buffered.length;i++){if(e.domRef.player.buffered.start(e.domRef.player.buffered.length-1-i)>=e.domRef.player.currentTime)continue;const s=e.domRef.player.buffered.end(e.domRef.player.buffered.length-1-i)/o*100+"%";for(let a=0;a<r.length;a++)r[a].style.width=s;t&&e.domRef.player.buffered.end(e.domRef.player.buffered.length-1-i)/o===1&&clearInterval(t);break}},500),e.destructors.push(()=>clearInterval(t))},e.createPlaybackList=()=>{if(!e.displayOptions.layoutControls.playbackRateEnabled)return;const t=e.domRef.wrapper.querySelector(".fluid_control_playback_rate");t.style.display="inline-block";const r=document.createElement("div");r.className="fluid_video_playback_rates",r.style.display="none",(!Array.isArray(e.displayOptions.layoutControls.controlBar.playbackRates)||e.displayOptions.layoutControls.controlBar.playbackRates.some(n=>typeof n!="string"||Number.isNaN(Number(n.replace("x","")))))&&(e.displayOptions.layoutControls.controlBar.playbackRates=["x2","x1.5","x1","x0.5"]),e.displayOptions.layoutControls.controlBar.playbackRates.forEach(function(n){const o=document.createElement("div");o.className="fluid_video_playback_rates_item",o.innerText=n,o.addEventListener("click",function(i){i.stopPropagation();let s=this.innerText.replace("x","");e.setPlaybackSpeed(s),e.openCloseVideoPlaybackRate()}),r.appendChild(o)}),t.appendChild(r),t.addEventListener("click",function(){e.openCloseVideoPlaybackRate()})},e.openCloseVideoPlaybackRate=()=>{const t=e.domRef.wrapper.querySelector(".fluid_video_playback_rates");if(e.isCurrentlyPlayingAd||t.style.display!=="none"){t.style.display="none";return}t.style.display="block";const r=function(){t.removeEventListener("mouseleave",r),t.style.display="none"};t.addEventListener("mouseleave",r)},e.createDownload=()=>{const t=e.domRef.wrapper.querySelector(".fluid_control_download");if(!e.displayOptions.layoutControls.allowDownload)return;t.style.display="inline-block";let r=document.createElement("a");r.className="fp_download_click",r.onclick=function(n){const o=this;typeof n.stopImmediatePropagation<"u"&&n.stopImmediatePropagation(),setTimeout(function(){o.download="",o.href=""},100)},t.appendChild(r),t.addEventListener("click",function(){const n=e.domRef.wrapper.querySelector(".fp_download_click");n.download=e.originalSrc,n.href=e.originalSrc,r.click()})},e.theatreToggle=(t=!1)=>{if(e.debugMessage("Toggling Theater Mode"),e.isInIframe)return;const r=e.getPreviousDisplayMode();if(this.resetDisplayMode(We.THEATER),e.displayOptions.layoutControls.theatreAdvanced){const i=e.domRef.wrapper.querySelector(`#${e.displayOptions.layoutControls.theatreAdvanced.theatreElement}`),s=e.displayOptions.layoutControls.theatreAdvanced.classToApply;i!=null&&s!=null?(e.theatreMode?i.classList.remove(s):i.classList.add(s),e.theatreModeAdvanced=!e.theatreModeAdvanced):(console.log("[FP_ERROR] Theatre mode elements could not be found, defaulting behaviour."),e.defaultTheatre())}else e.defaultTheatre();e.theatreMode=!e.theatreMode,e.fluidStorage.fluidTheatre=e.theatreMode;const n=e.theatreMode?"theatreModeOn":"theatreModeOff",o=document.createEvent("CustomEvent");o.initEvent(n,!1,!0),e.domRef.player.dispatchEvent(o),t||e.trackPlayerSizeChanged(r),e.resizeVpaidAuto()},e.defaultTheatre=()=>{const t=e.domRef.wrapper;if(e.theatreMode){t.classList.remove("fluid_theatre_mode"),t.style.maxHeight="",t.style.marginTop="",t.style.left="",t.style.right="",t.style.position="",e.displayOptions.layoutControls.fillToContainer?(t.style.width="100%",t.style.height="100%"):(t.style.width=e.originalWidth+"px",t.style.height=e.originalHeight+"px");return}t.classList.add("fluid_theatre_mode");const r=e.displayOptions.layoutControls.theatreSettings.width;let n="10px";switch(t.style.width=r,t.style.height=e.displayOptions.layoutControls.theatreSettings.height,t.style.maxHeight=screen.height+"px",t.style.marginTop=e.displayOptions.layoutControls.theatreSettings.marginTop+"px",e.displayOptions.layoutControls.theatreSettings.horizontalAlign){case"center":typeof r=="string"&&r.substr(r.length-1)==="%"?n=(100-parseInt(r.substring(0,r.length-1)))/2+"%":typeof r=="string"&&r.substr(r.length-2)==="px"?n=(screen.width-parseInt(r.substring(0,r.length-2)))/screen.width*100/2+"%":console.log("[FP_ERROR] Theatre width specified invalid."),t.style.left=n;break;case"right":t.style.right=n;break;case"left":default:t.style.left=n;break}},e.posterImage=()=>{if(!e.displayOptions.layoutControls.posterImage)return;const t=document.createElement("div");if(t.className="fluid_pseudo_poster",["auto","contain","cover"].indexOf(e.displayOptions.layoutControls.posterImageSize)===-1){console.log("[FP_ERROR] Not allowed value in posterImageSize");return}t.style.background="url('"+e.displayOptions.layoutControls.posterImage+"') center center / "+e.displayOptions.layoutControls.posterImageSize+" no-repeat black",e.domRef.player.parentNode.insertBefore(t,null)},e.nextSource=()=>{const t=e.domRef.player.getElementsByTagName("source");if(!t.length)return null;for(let r=0;r<t.length-1;r++)if(t[r].getAttribute("src")===e.originalSrc&&t[r+1].getAttribute("src")){e.setVideoSource(t[r+1].getAttribute("src"));return}},e.inIframe=()=>{try{return window.self!==window.top}catch{return!0}},e.setPersistentSettings=(t=!1)=>{try{if(!(typeof Storage<"u"&&typeof localStorage<"u"))return}catch{return}const r="_fp_storage_enabled",n=localStorage;try{n.setItem(r,"1"),n.removeItem(r)}catch{return!1}if(e.fluidStorage=localStorage,typeof e.fluidStorage.fluidVolume<"u"&&e.displayOptions.layoutControls.persistentSettings.volume&&!t&&(e.setVolume(e.fluidStorage.fluidVolume),typeof e.fluidStorage.fluidMute<"u"&&e.fluidStorage.fluidMute==="true"&&e.muteToggle()),typeof e.fluidStorage.fluidQuality<"u"&&e.displayOptions.layoutControls.persistentSettings.quality){const o=e.domRef.wrapper.querySelector(".js-source_"+e.fluidStorage.fluidQuality),i=e.domRef.wrapper.querySelector(".fluid_control_video_source");o&&(o.click(),i.click())}typeof e.fluidStorage.fluidSpeed<"u"&&e.displayOptions.layoutControls.persistentSettings.speed&&e.setPlaybackSpeed(e.fluidStorage.fluidSpeed),typeof e.fluidStorage.fluidTheatre<"u"&&e.fluidStorage.fluidTheatre==="true"&&e.displayOptions.layoutControls.persistentSettings.theatre&&e.theatreToggle()},e.play=()=>{if(e.domRef.player.paused)return e.playPauseToggle(),!0},e.pause=()=>(e.domRef.player.paused||e.playPauseToggle(),!0),e.skipTo=t=>{e.domRef.player.currentTime=t},e.setPlaybackSpeed=t=>{e.isCurrentlyPlayingAd||(e.domRef.player.playbackRate=t,e.fluidStorage.fluidSpeed=t)},e.setVolume=t=>{e.domRef.player.volume=t;const r=t===0?1:t;e.latestVolume=r,e.fluidStorage.fluidVolume=r},e.isCurrentlyPlayingVideo=t=>t&&t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2,e.setHtmlOnPauseBlock=t=>{if(typeof t!="object"||typeof t.html>"u")return!1;const r=e.domRef.wrapper.querySelector(".fluid_html_on_pause_container");if(!r){const n=document.createElement("div");n.className="fluid_html_on_pause",n.style.display="none",n.innerHTML=t.html,n.onclick=function(){e.playPauseToggle()},t.width&&(n.style.width=t.width+"px"),t.height&&(n.style.height=t.height+"px"),e.domRef.player.parentNode.insertBefore(n,null);return}r.innerHTML=t.html,t.width&&(r.style.width=t.width+"px"),t.height&&(r.style.height=t.height+"px")},e.toggleControlBar=t=>{const r=e.domRef.wrapper.querySelector(".fluid_controls_container");if(t){r.className+=" initial_controls_show";return}r.className=r.className.replace(" initial_controls_show","")},e.on=(t,r)=>{const n=()=>({mediaSourceType:e.currentMediaSourceType}),o=(s,a={})=>{const l={...n(),...a};return r(s,l)},i={play:()=>e.domRef.player.addEventListener("play",o),seeked:()=>e.domRef.player.addEventListener("seeked",o),ended:()=>e.domRef.player.addEventListener("ended",o),pause:()=>e.domRef.player.addEventListener("pause",s=>{e.fluidPseudoPause||o(s)}),playing:()=>e.domRef.player.addEventListener("playing",o),waiting:()=>e.domRef.player.addEventListener("waiting",o),theatreModeOn:()=>e.domRef.player.addEventListener("theatreModeOn",o),theatreModeOff:()=>e.domRef.player.addEventListener("theatreModeOff",o),timeupdate:()=>e.domRef.player.addEventListener("timeupdate",s=>{o(s,{currentTime:e.domRef.player.currentTime})}),miniPlayerToggle:()=>e.domRef.player.addEventListener("miniPlayerToggle",o)};if(!i[t]){console.error(`[FP_ERROR] Event "${t}" is not recognized`);return}i[t]()},e.toggleLogo=t=>{if(typeof t!="object"||!t.imageUrl)return!1;const r=e.domRef.wrapper.querySelector(".fp_logo");e.displayOptions.layoutControls.logo.imageUrl=t.imageUrl?t.imageUrl:null,e.displayOptions.layoutControls.logo.position=t.position?t.position:"top left",e.displayOptions.layoutControls.logo.clickUrl=t.clickUrl?t.clickUrl:null,e.displayOptions.layoutControls.logo.opacity=t.opacity?t.opacity:1,e.displayOptions.layoutControls.logo.mouseOverImageUrl=t.mouseOverImageUrl?t.mouseOverImageUrl:null,e.displayOptions.layoutControls.logo.imageMargin=t.imageMargin?t.imageMargin:"2px",e.displayOptions.layoutControls.logo.hideWithControls=t.hideWithControls?t.hideWithControls:!1,e.displayOptions.layoutControls.logo.showOverAds=t.showOverAds?t.showOverAds:!1,r&&r.remove(),e.initLogo()},e.trackEvent=(t,r,n,o)=>{typeof e.events[n]>"u"&&(e.events[n]={}),typeof e.events[n][r]>"u"&&(e.events[n][r]=[]),e.events[n][r].push(o),e.registerListener(t,r,n,o)},e.registerListener=(t,r,n,o)=>{const i=t.querySelectorAll(n);for(let s=0;s<i.length;s++)i[s].addEventListener(r,o)},e.copyEvents=t=>{for(let r in e.events)if(e.events.hasOwnProperty(r)){for(let n in e.events[r])if(e.events[r].hasOwnProperty(n))for(let o=0;o<e.events[r][n].length;o++)e.registerListener(t,n,r,e.events[r][n][o])}},e.resetDisplayMode=t=>{e.fullscreenMode&&t!==We.FULLSCREEN&&e.fullscreenToggle(!0),e.theatreMode&&t!==We.THEATER&&e.theatreToggle(!0),e.miniPlayerToggledOn&&t!==We.MINI_PLAYER&&e.toggleMiniPlayer("off",!1,!0)},e.destroy=()=>{if(e.domRef.player.classList.remove("js-fluid-player"),e.destructors.length===0)return;e.destructors.forEach(n=>n.call(e));const r=e.domRef.wrapper;if(!r){console.warn("Unable to remove wrapper element for Fluid Player instance - element not found");return}if(typeof r.remove=="function"){r.remove();return}if(r.parentNode){r.parentNode.removeChild(r);return}console.error("Unable to remove wrapper element for Fluid Player instance - no parent")}},_D=function(e){this.play=()=>e.play(),this.pause=()=>e.pause(),this.skipTo=t=>e.skipTo(t),this.setPlaybackSpeed=t=>e.setPlaybackSpeed(t),this.setVolume=t=>e.setVolume(t),this.setHtmlOnPauseBlock=t=>e.setHtmlOnPauseBlock(t),this.toggleControlBar=t=>e.toggleControlBar(t),this.toggleFullScreen=t=>e.fullscreenToggle(t),this.toggleMiniPlayer=t=>(t===void 0&&(t=!e.miniPlayerToggledOn),e.toggleMiniPlayer(t?"on":"off",!0)),this.destroy=()=>e.destroy(),this.dashInstance=()=>e.dashPlayer?e.dashPlayer:null,this.hlsInstance=()=>e.hlsPlayer?e.hlsPlayer:null,this.on=(t,r)=>e.on(t,r),this.setDebug=t=>{e.displayOptions.debug=t}},xD=function(e,t){const r=new bD;t||(t={}),r.init(e,t);const n=new _D(r);if(window&&ru){const o={id:e,options:t,instance:n,internals:r};typeof window.fluidPlayerDebug>"u"&&(window.fluidPlayerDebug=[]),window.fluidPlayerDebug.push(o),console.log("Created instance of Fluid Player. Debug API available at window.fluidPlayerDebug["+(window.fluidPlayerDebug.length-1)+"].",o)}return n};ru&&console.log("Fluid Player - Development Build"+(hl?" (in debug mode)":""));var SD={};typeof FP_HOMEPAGE>"u"&&(globalThis.FP_HOMEPAGE="https://fluidplayer.com");typeof FP_BUILD_VERSION>"u"&&(globalThis.FP_BUILD_VERSION="v3");if(typeof FP_ENV>"u"){const e=globalThis&&globalThis.location&&(globalThis.location.hostname==="localhost"||globalThis.location.hostname==="127.0.0.1"||globalThis.location.hostname==="");typeof process<"u"&&process&&SD||globalThis&&!e?globalThis.FP_ENV="production":globalThis.FP_ENV="development"}typeof FP_DEBUG>"u"&&(globalThis.FP_DEBUG=!1);const ED=({url:e,title:t})=>{const r=y.useRef(null),n=y.useRef(null),i=(a=>{const l=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,u=a.match(l);return u&&u[2].length===11?u[2]:null})(e);y.useEffect(()=>{if(!i&&r.current){n.current=xD(r.current,{layoutControls:{fillToContainer:!0,primaryColor:"#29b6f6",autoPlay:!1,playButtonShowing:!0,playPauseAnimation:!0,mute:!1,logo:{imageUrl:null,position:"top left",clickUrl:null,opacity:1},htmlOnPauseBlock:{html:null,height:null,width:null},allowDownload:!1,allowTheatre:!0,playbackRateEnabled:!0,controlBar:{autoHide:!0,autoHideTimeout:3,animated:!0}}});const a=async()=>{if(document.fullscreenElement&&r.current){const{videoWidth:l,videoHeight:u}=r.current;if(l>u)try{await screen.orientation.lock("landscape")}catch{}}else try{screen.orientation.unlock()}catch{}};return document.addEventListener("fullscreenchange",a),()=>{if(document.removeEventListener("fullscreenchange",a),n.current){try{n.current.destroy()}catch{}n.current=null}}}},[e,i]);const s=`
        @media only screen and (max-width: 768px) {
            .fluid_controls_volume_container, 
            .fluid_controls_volume,
            .fluid_controls_mute {
                display: none !important;
            }
            .fluid_controls_duration {
                font-size: 12px !important;
                padding-left: 10px !important;
                margin-left: 0 !important;
            }
            .fluid_controls_currentprogress {
                font-size: 12px !important;
                font-weight: 500 !important;
            }
            /* Adjust spacing for other controls if needed */
            .fluid_controls_left {
                display: flex !important;
                align-items: center !important;
                gap: 5px !important;
            }
        }
    `;return i?f.jsx("div",{className:"relative pb-[56.25%] h-0 overflow-hidden rounded-xl bg-black",children:f.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${i}`,title:t,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):f.jsxs("div",{className:"rounded-xl overflow-hidden shadow-lg bg-black w-full",children:[f.jsx("style",{children:s}),f.jsxs("video",{ref:r,className:"w-full h-full",src:e,title:t,style:{width:"100%",aspectRatio:"16/9"},children:[f.jsx("source",{src:e,type:"video/mp4"}),f.jsx("source",{src:e,type:"video/webm"}),"Your browser does not support the video tag."]})]})},CD=()=>{const{id:e}=_P(),t=zn(),[r,n]=y.useState(null),[o,i]=y.useState(!0),[s,a]=y.useState([]),[l,u]=y.useState(12),[c,d]=y.useState(!1);if(y.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[e]),y.useEffect(()=>{(async()=>{if(e)try{u(12),d(!1);const m=await Sr.getVideoById(e);n(m);const v=(await Sr.getVideos()).filter(g=>g.id!==e);for(let g=v.length-1;g>0;g--){const b=Math.floor(Math.random()*(g+1));[v[g],v[b]]=[v[b],v[g]]}a(v)}catch(m){console.error(m),Vt.error("Failed to load video"),t("/")}finally{i(!1)}})()},[e,t]),o)return f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx(ea,{}),f.jsx("main",{className:"flex-1 flex items-center justify-center",children:f.jsx("p",{className:"text-lg",children:"Loading video..."})}),f.jsx(ta,{})]});if(!r)return null;const h=()=>{const w=[],m=s.slice(0,l);let _=0;for(let v=0;v<4&&_<m.length;v++)w.push({type:"video",data:m[_++]});(_<m.length||l>=12)&&w.push({type:"ad",id:"ad-1"});for(let v=0;v<4&&_<m.length;v++)w.push({type:"video",data:m[_++]});(_<m.length||l>=12)&&w.push({type:"ad",id:"ad-2"});for(let v=0;v<4&&_<m.length;v++)w.push({type:"video",data:m[_++]});for((_<m.length||l>=12)&&w.push({type:"ad",id:"ad-3"});_<m.length;)w.push({type:"video",data:m[_++]});return w},p=()=>{c?t("/"):(u(w=>w+6),d(!0))};return f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx(ea,{}),f.jsxs("main",{className:"flex-1",children:[f.jsx("div",{className:"container py-6",children:f.jsx(Mi,{variant:"native",className:"my-4"})}),f.jsx("div",{className:"container py-8 max-w-5xl mx-auto",children:f.jsxs("div",{className:"flex flex-col gap-12",children:[f.jsx("div",{children:f.jsxs("article",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx(ED,{url:r.videoUrl,title:r.title}),f.jsx("div",{className:"flex items-start justify-between gap-4",children:f.jsxs("div",{className:"space-y-2",children:[f.jsx(oD,{variant:"secondary",className:"capitalize",children:r.category}),f.jsx("h1",{className:"text-2xl md:text-4xl font-bold font-headline leading-tight",children:r.title})]})}),f.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-muted-foreground py-2 border-b",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(bk,{size:16})," ",r.author]}),f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(ck,{size:16})," ",r.publishedAt]})]})]}),f.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:f.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:r.description})})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold font-headline",children:"Recommended Videos"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:h().map((w,m)=>f.jsx(K.Fragment,{children:w.type==="video"?f.jsx(k_,{article:w.data}):f.jsx("div",{className:"col-span-1 min-h-[300px] flex items-center justify-center bg-muted/30 rounded-xl border border-dashed",children:f.jsx("div",{className:"w-full h-full p-2",children:f.jsx(Mi,{variant:"card",className:"w-full h-full min-h-[250px]"})})})},m))}),f.jsx("div",{className:"flex justify-center pt-8",children:f.jsx(be,{size:"lg",variant:"outline",className:"min-w-[200px]",onClick:p,children:c?"View More on Homepage":"Load More Videos"})})]})]})})]}),f.jsx(ta,{})]})},Mx=e=>{try{const t=e.title||e.name||e.video_title||"";if(!t)return null;const r=e.streamurl||e.stream_url||e.video_url||e.videoUrl||e.url||e.link||e.video_link||"";if(!r)return null;const n=e.thumbnail||e.thumbnail_url||e.thumbnailUrl||e.image||e.poster||e.cover||"https://placehold.co/800x450/333/fff?text="+encodeURIComponent(t),o=e.description||e.desc||e.summary||e.about||t,s=(e.category||e.genre||e.type||"movies").toLowerCase(),a=e.author||e.uploader||e.channel||e.creator||e.user||"Unknown",l=e.published_at||e.publishedAt||e.created_at||e.date||new Date().toISOString(),u=e.is_featured||e.isFeatured||e.featured||!1,c=e.duration||void 0;let d;e.views!==void 0&&(typeof e.views=="string"?d=parseInt(e.views.replace(/,/g,""),10):d=Number(e.views),isNaN(d)&&(d=0));const h=e.location||void 0,p=e.bodytype||e.body_type||void 0,w=e.scenario||void 0,m=e.ethnicity||void 0;return{title:t,video_url:r,thumbnail_url:n,description:o,category:s,author:a,published_at:l,is_featured:u,duration:c,views:d,location:h,body_type:p,scenario:w,ethnicity:m}}catch(t){return console.error("Error mapping video fields:",t),null}},kD=async(e,t)=>{const r={success:0,failed:0,errors:[]};for(let n=0;n<e.length;n++){const o=e[n],i=Mx(o);if(!i){r.failed++,r.errors.push(`Row ${n+1}: Missing required fields (title or video_url)`);continue}try{const{data:s}=await wt.from("videos").select("id").eq("video_url",i.video_url).single();if(s){r.failed++,r.errors.push(`Row ${n+1}: Duplicate video URL - ${i.title}`);continue}const{error:a}=await wt.from("videos").insert([i]);a?(r.failed++,r.errors.push(`Row ${n+1}: ${a.message}`)):r.success++}catch(s){r.failed++,r.errors.push(`Row ${n+1}: ${s.message}`)}t&&t(n+1,e.length)}return r},TD=()=>{const e=zn(),[t,r]=y.useState(null),[n,o]=y.useState([]),[i,s]=y.useState([]),[a,l]=y.useState(!1),[u,c]=y.useState({current:0,total:0}),[d,h]=y.useState(null),p=_=>{var b;const v=(b=_.target.files)==null?void 0:b[0];if(!v)return;r(v),h(null);const g=new FileReader;g.onload=S=>{var T;try{const A=JSON.parse((T=S.target)==null?void 0:T.result),O=Array.isArray(A)?A:[A];o(O);const V=O.slice(0,5).map(Mx).filter(Boolean);s(V)}catch{alert("Invalid JSON file"),r(null)}},g.readAsText(v)},w=async()=>{if(n.length===0)return;l(!0),h(null);const _=await kD(n,(v,g)=>{c({current:v,total:g})});h(_),l(!1)},m=()=>{r(null),o([]),s([]),h(null),c({current:0,total:0})};return f.jsx("div",{className:"min-h-screen bg-background",children:f.jsxs("div",{className:"container py-8 max-w-4xl",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Import Videos from JSON"}),f.jsx("p",{className:"text-muted-foreground mt-2",children:"Upload a JSON file with video data to batch import into your library"})]}),f.jsx(be,{variant:"outline",onClick:()=>e("/dashboard"),children:"Back to Dashboard"})]}),!t&&f.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-12 text-center",children:[f.jsx(gk,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Upload JSON File"}),f.jsx("p",{className:"text-muted-foreground mb-4",children:"Select a JSON file containing video data"}),f.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:f.jsx(be,{asChild:!0,children:f.jsxs("span",{children:[f.jsx(Ww,{className:"w-4 h-4 mr-2"}),"Choose File"]})})}),f.jsx("input",{id:"file-upload",type:"file",accept:".json",className:"hidden",onChange:p})]}),t&&!a&&!d&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold",children:["File: ",t.name]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.length," videos detected"]})]}),f.jsx(be,{variant:"outline",size:"sm",onClick:m,children:"Change File"})]}),i.length>0&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h4",{className:"font-semibold",children:["Preview (first ",i.length," entries):"]}),f.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:i.map((_,v)=>f.jsxs("div",{className:"bg-muted p-3 rounded text-sm",children:[f.jsx("div",{className:"font-medium truncate",children:_.title}),f.jsxs("div",{className:"text-xs text-muted-foreground truncate mt-1",children:["URL: ",_.video_url]}),f.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Category: ",_.category," | Author: ",_.author]}),(_.duration||_.views||_.location)&&f.jsxs("div",{className:"text-xs text-muted-foreground mt-1 flex gap-2 flex-wrap",children:[_.duration&&f.jsxs("span",{className:"bg-background px-1 rounded border",children:[" ",_.duration]}),_.views&&f.jsxs("span",{className:"bg-background px-1 rounded border",children:[" ",_.views]}),_.location&&f.jsxs("span",{className:"bg-background px-1 rounded border",children:[" ",_.location]})]}),(_.body_type||_.scenario||_.ethnicity)&&f.jsxs("div",{className:"text-xs text-muted-foreground mt-1 flex gap-2 flex-wrap",children:[_.body_type&&f.jsxs("span",{className:"bg-background px-1 rounded border",children:[" ",_.body_type]}),_.scenario&&f.jsxs("span",{className:"bg-background px-1 rounded border",children:[" ",_.scenario]}),_.ethnicity&&f.jsxs("span",{className:"bg-background px-1 rounded border",children:[" ",_.ethnicity]})]})]},v))})]})]}),f.jsxs(be,{onClick:w,className:"w-full",size:"lg",children:["Import ",n.length," Videos"]})]}),a&&f.jsxs("div",{className:"bg-card border border-border rounded-lg p-8 text-center",children:[f.jsx(vk,{className:"w-12 h-12 mx-auto animate-spin text-primary mb-4"}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Importing Videos..."}),f.jsxs("p",{className:"text-muted-foreground",children:[u.current," of ",u.total," processed"]}),f.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-4",children:f.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${u.current/u.total*100}%`}})})]}),d&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[f.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Import Complete"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-500/10 border border-green-500/20 rounded-lg",children:[f.jsx(hk,{className:"w-8 h-8 text-green-500"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold text-green-500",children:d.success}),f.jsx("div",{className:"text-sm text-muted-foreground",children:"Successful"})]})]}),f.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[f.jsx(pk,{className:"w-8 h-8 text-red-500"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold text-red-500",children:d.failed}),f.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed"})]})]})]}),d.errors.length>0&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("h4",{className:"font-semibold text-red-500",children:"Errors:"}),f.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1",children:d.errors.map((_,v)=>f.jsx("div",{className:"text-sm text-red-500 bg-red-500/10 p-2 rounded",children:_},v))})]})]}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx(be,{onClick:m,variant:"outline",className:"flex-1",children:"Import More"}),f.jsx(be,{onClick:()=>e("/dashboard"),className:"flex-1",children:"Go to Dashboard"})]})]})]})})},RD=()=>{const e=Un();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),f.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},PD=()=>{const{user:e,loading:t}=pb();return t?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):e?f.jsx(DP,{}):f.jsx(jP,{to:"/login",replace:!0})},AD=new z1,ND=()=>f.jsx(W1,{client:AD,children:f.jsx(LO,{children:f.jsx(JP,{children:f.jsxs(y1,{children:[f.jsx(rT,{}),f.jsx(MT,{}),f.jsx(KP,{children:f.jsxs(BP,{children:[f.jsx(Xt,{path:"/",element:f.jsx(Qa,{})}),f.jsx(Xt,{path:"/latest",element:f.jsx(Qa,{})}),f.jsx(Xt,{path:"/top-rated",element:f.jsx(Qa,{})}),f.jsx(Xt,{path:"/most-viewed",element:f.jsx(Qa,{})}),f.jsx(Xt,{path:"/video/:id",element:f.jsx(CD,{})}),f.jsx(Xt,{path:"/login",element:f.jsx(hj,{})}),f.jsxs(Xt,{element:f.jsx(PD,{}),children:[f.jsx(Xt,{path:"/dashboard",element:f.jsx(rD,{})}),f.jsx(Xt,{path:"/import",element:f.jsx(TD,{})})]}),f.jsx(Xt,{path:"*",element:f.jsx(RD,{})})]})})]})})})});pw(document.getElementById("root")).render(f.jsx(ND,{}));export{xf as a,Ku as c,LD as g};
